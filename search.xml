<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Tex: El Muerto. Primeiro contato com os quadrinhos do Velho Oeste</title>
      <link href="/2025/10/04/tex-el-muerto-primeiro-contato-com-os-quadrinhos-do-velho-oeste/"/>
      <url>/2025/10/04/tex-el-muerto-primeiro-contato-com-os-quadrinhos-do-velho-oeste/</url>
      
        <content type="html"><![CDATA[<p>Fazia tempo que eu queria conhecer o Western para além do cinema. Assisti despretensiosamente alguns filmes do gênero e me apaixonei. Escolhi para isso, conhecer um dos ícones dos quadrinhos: Tex.</p><p><em>El Muerto</em> (1976) é uma das grandes histórias de Tex e fico feliz de ter conhecido o personagem por ela. Para amantes do Western, o italiano Tex é tão marcante no gênero quanto seu conterrâneo cinematográfico, o faroeste espaguete.</p><p><img src="/images/tex-el-muerto-primeiro-contato-com-os-quadrinhos-do-velho-oeste/Tex_-_El_Muerto_-_Capa_min.jpg" alt="Capa de Tex: El Muerto" title="Capa de Tex: El Muerto"></p><span id="more"></span><p>A trama começa com um jovem navajo e Jack Tigre, amigo de Tex, encontrando um grupo na estrada ao levarem mantimentos para a tribo. O grupo, sob liderança do desconhecido <em>El Muerto</em>, mata o jovem e fere brutalmente Jack Tigre, mandando-o lançar o desafio de <em>El Muerto</em> para Tex: um duelo no cemitério de Pueblo Feliz em uma semana. Tex, sabendo que o ato do desconhecido era uma provocação, decide ir atrás dele mesmo assim. No encalço de <em>El Muerto</em>, Tex assistiria novas vítimas do rival desconhecido: Kit Willer, filho de Tex, é alvejado no ombro e um xerife amigo do Ranger é morto. Ainda no caminho de Pueblo Feliz, o grupo que atuara a soldo de <em>El Muerto</em> tenta uma última emboscada contra Tex sem o consentimento do antigo chefe e acabam mortos. Após uma cansativa e sangrenta peregrinação de uma semana, Tex alcança a quase desabitada Pueblo Feliz. O duelo é precedido da revelação das motivações de <em>El Muerto</em>, antigas violências são rememoradas, e o duelo final tem espaço. A vingança de <em>El Muerto</em> fracassa.</p><p>A história em si, busca, com sucesso, evocar os tropos clássicos do Western. Indígenas e brancos se cruzando no limite da “civilização”, onde a lei, muitas vezes é feita com as próprias mãos. Não há pretensão de evocar temas menos óbvios ou algo sociológico, é tudo, para bem e para mal, bem formulaico. Podemos dizer mesmo que é o objetivo. Os diálogos são curtos e algo previsíveis, assim como os personagens, a leitura é fluída, o foco é na ação. E nisso, a decupagem é extremamente feliz. Sentimos que a leitura transcorre na velocidade da ação. A construção da trama chega célere no grande momento: o encontro entre Tex e El Muerto. Aqui, temos algo análogo a um “plot twist”: as motivações e a identidade de El Muerto são reveladas de maneira competente, nada mais resta, senão o desfecho fatal. O duelo, certamente, é o ponto alto. As tintas evocam o estilo marcante de Sergio Leone no final do clássico “Por uns dólares a mais” (1965). A alternância entre closes e panorâmicas, a tensão construída entre os antagonistas, a espera do momento de puxar o gatilho, formulaicas mas executadas com maestria.</p><p><img src="/images/tex-el-muerto-primeiro-contato-com-os-quadrinhos-do-velho-oeste/Tex_-_El_Muerto_-_Duelo.jpg" alt="Imagem do duelo entre Tex e El Muerto" title="O grande duelo entre Tex e El Muerto"></p><p>A diversão despretensiosa dessa história, entretanto, tem como ponto fraco os personagens, para ser mais preciso, os protagonistas. Tex, Jack Tigre e seus amigos, não tem profundidade nem tons de cinza, são unidimensionais: o clichê do ranger honrado, generoso e temido, e seu amigo indígena, um companheiro fiel que confia em Tex mas tem (justas) reservas contra os brancos. Suas ações e falas quase que se escrevem sozinhas. O único personagem central com alguma tensão, que tem algo interessante, é <em>El Muerto</em>. Um homem atormentado pelo passado, perigosamente habilidoso, reconstrói sua vida apenas com o objetivo de enfrentar — de maneira limpa — seu antigo algoz.</p><p>Por fim, temos a arte de Tex. É um traço comercial, datado, impossível não lembrar mesmo do marketing de meados do século XX. Não há grandes pretensões artísticas mas funcionais. É voltado para uma narrativa rápida e clara, deixando pouca margem para experimentações que busquem deslumbrar o leitor ou provocar reflexões. O que, para mal e para bem, casa perfeitamente com a proposta de ser uma leitura western divertida e acessível para o grande público.</p><p>Em suma, é uma leitura para se divertir, não para refletir. É como se fôssemos numa matinê de Western no cinema de rua de uma cidade pequena em meados do século XX. As horas em que passamos entretidos com a leitura voam, mas não nos deixarão impressões profundas. Nisso, El Muerto é bem-sucedido. Mas, deve-se dizer, a superficialidade dos protagonistas e a arte excessivamente funcional, chegam a atrapalhar. E nisso, o faroeste espaguete leva vantagem, apresentando personagens marcantes como <em>O homem sem nome</em> e uma estética que revolucionou o gênero.</p>]]></content>
      
      
      <categories>
          
          <category> literatura </category>
          
      </categories>
      
      
        <tags>
            
            <tag> western </tag>
            
            <tag> hq </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Um novo começo</title>
      <link href="/2025/10/01/um-novo-comeco/"/>
      <url>/2025/10/01/um-novo-comeco/</url>
      
        <content type="html"><![CDATA[<p>Viver é muito gostoso, mas temos de admitir que o mundo gira mais rápido do que gostaríamos. Quantos anos se passaram! Tenho até filho! Escrevo de uma tarde de 2025.</p><p><img src="/images/2025-10-01-um-novo-comeco/paradox-clock.jpg" alt="Imagem de relógio &quot;recursivo&quot;" title="Direto de 2015 para 2025"></p><p>Esse é o segundo blog que crio em miha vida. O <a href="https://lowdread.wordpress.com/">primeiro</a> (julho de 2010) foi criado para divulgar conhecimento sobre software e cultura livre enquanto eu mesmo aprendia. Esse segundo <a href="/2015/02/28/hello-world/">também foi criado com essa intenção</a>. Mas o mundo mudou muito desde a criação desse segundo blog (em 2015, há exatamente 10 anos atrás).</p><span id="more"></span><p>Minha relação com o dia a dia mais técnico da informática se tornou mais esparsa, as IAs hoje geram todo tipo de problema, mas também ajudam a resolver dúvidas técnicas.</p><p>O mundo da tecnologia nesse tempo, mudou muito e, em diversas dimensões, para muito pior. Hoje, somos mais reféns de Big Techs do que nunca. Nossas memórias na Internet, trancadas em jardins murados chamados <em>redes sociais</em>, duram apenas o tempo de vida dessas redes.</p><p>Para piorar, as tais redes sociais se mostraram oligopólios com uma capacidade massiva de tornar a vida de todos miseráveis devido aos onipresentes algoritmos.</p><p>Sempre presei por fugir desses jardins murados, assim que quando criei esse segundo blog, busquei que o mesmo fosse gerado localmente, sem que seu conteúdo ficasse preso na núvem de algum bilionário. Isso se mostrou um acerto. Ele foi criado há 10 anos, seu conteúdo é meu, facilmente migrável.</p><p>Dado as mudanças na minha vida e no mundo que mencionei há pouco, <strong>DECLARO</strong> a reorientação imediata de propósito desse blog. Minto, ela já havia acontecido, pouco a pouco ao longo dos anos. O blog não será mais sobre tecnologia e cultura livre. Ele será … bem … um blog, blog mesmo. Onde escrevo o que eu quero escrever e que não quero que fique sob guarda de jardim murado de rede social da moda. Como é um blog sobre o que gosto e sinto, ele ainda conterá algo de tecnologia e cultura livre (pq amo essas coisas), mas sem pretensões de ser repositório para o conhecimento técnico que eu vá juntando.</p><p>É isso. A única pergunta que talvez reste é o que eu gosto além de tecnologia e cultura livre? Bem sou uma pessoa curiosa, adoro história (sou formado na área), idiomas, astronomia, literatura, cinema, bicicleta, etc. Então, vai ter um pouco de tudo isso, quando der na telha.</p><p>Encerro dizendo que esse é um espaço sem pretensões. É para ser gostoso e não um trabalho. Então, não vai existir uma preocupação grande com a forma como o texto é redigido, se está fluído, se está gramaticalmente correto, etc. Como os interessados perceberão, sim, eu — como muita gente — cometo atrocidades contra o português. :D</p><p>Até mais. Nos vemos, esporadicamente, ao longo dos meses e anos.</p>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Torto arado</title>
      <link href="/2022/06/01/torto-arado/"/>
      <url>/2022/06/01/torto-arado/</url>
      
        <content type="html"><![CDATA[<p>Todo mundo leu e falou desse livro. Apenas li agora, mas deixo minha impressão também :D.</p><p><img src="/images/2022-06-01-torto-arado/torto-arado.jpg" alt="Capa de Torto arado" title="Capa de Torto arado"></p><span id="more"></span><p>Torto arado é um mergulho sensível no mundo de servidão e violência que sufoca os herdeiros da escravidão. É sobre as permanências, sobre o peso e a tradição violenta que rege o Brasil rural. Um mundo que resiste, que se transforma à luz das rápidas transformações do século XX mas também conserva. Um mundo que se pudéssemos omitir inovações como energia elétrica e motos, poderia, numa primeira mirada, ser difícil de distinguir o século.</p><p>É um mergulho ficcional, deve-se dizer, mas extremamente realista. É sobre o controle sofregamente mantido por uma classe proprietária sobre uma população despossuída e marginalizada. Impossível não lembrar de sua contrapartida urbana (e verídica): o diário de Carolina Maria de Jesus de (Quarto de despejo: diário de uma favelada).</p><p>É também um livro sobre raízes e cultura popular dos herdeiros da escravidão. Evoca o orgulho tanto daqueles que eram os reservatórios dessas tradições — como Zeca Chapéu Grande — como daqueles que mesclavam sua experiência e sabedorias tradicionais com os ventos da esquerda que varriam o Brasil no final da Ditadura e início da Nova República — como Bibiana e Severo.</p><p>O realismo do livro “choca-se” com o mágico da cultura popular dos herdeiros da escravidão. Não no sentido de negá-lo, mas, sim, pelo contrário, de incorporá-lo. É um livro de realismo mágico. Aqui, o sobrenatural é tido como real. Os encantados do Jarê, tidos como reais pelos personagens, ganham sua existência inconteste na terceira parte do livro, na qual o narrador passa a ser um dos encantados: Santa Rita Pescadeira.</p><p>A narração, a propósito, é um destaque a parte. A história é sobre o drama de uma família negra no meio rural, é sobre gerações, é sobre cada uma das famílias que vivem o mesmo destino na Fazenda Água Negra e incontáveis outras. Para tanto, o romance é divido em três partes, cada um portando uma voz. Na primeira, quem narra os eventos é a irmã Bibiana, a segunda é narrada pela irmã Belonísia, e, por último, temos o retrato fantástico de Santa Rita Pescadeira.</p><p>Chama a atenção o recurso do autor para enfocar as permanências. Itamar Vieira Junior optou por evitar dar claramente o período em que ocorre a história do livro. A ideia é que o leitor tenha que perscrutar, sondar, tentar montar um quadro. Sem esse esforço, temos a impressão que a história ocorreu em um momento indefinido na história do Brasil. Tamanha as permanências.</p><p>Falando de um ponto de vista mais “pessoal”, é uma trama e uma narrativa que prendem imediatamente. O sentido de uma história que atravessa gerações mas ainda assim tem a impressão íntima de cada uma das vozes que a narra é surpreendente. O autor apresenta de cara o segredo que atravessa o livro: a faca de Donana e sua história (e maldição) que corta gerações de sua família. A faca atravessa a história da própria Donana, de Carmelita (sua filha), e das netas Bibiana e Belonísia (e, consequentemente, dos pais Zeca e Salu). O segredo, contudo, resiste a se encerrar. Se mantendo opaco ao leitor e aos personagens. Ao final, os personagens marcados pelo objeto, guardam para si sua parte dessa trama e apenas o leitor a compreende no todo.</p>]]></content>
      
      
      <categories>
          
          <category> literatura </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Marte, o planeta vermelho, desde Floripa</title>
      <link href="/2020/10/20/marte-o-planeta-vermelho-desde-floripa/"/>
      <url>/2020/10/20/marte-o-planeta-vermelho-desde-floripa/</url>
      
        <content type="html"><![CDATA[<p>Marte capturado às 23 horas e 49 minutos de 17 de outubro de 2020.</p><p><img src="/images/2020-10-20-marte-o-planeta-vermelho-desde-floripa/2020-10-17-0249_1-CapObj_lapl5_ap25-registax-CROPPED-v2.jpg" alt="Marte em 17&#x2F;10&#x2F;2020" title="Marte em 17&#x2F;10&#x2F;2020"></p><span id="more"></span><p>O planeta vermelho está no momento mais próximo da Terra em dois anos. Vejamos:</p><p><img src="/images/2020-10-20-marte-o-planeta-vermelho-desde-floripa/20201017-diagram.png" alt="Sistema solar em 17&#x2F;10&#x2F;2020" title="Sistema solar em 17&#x2F;10&#x2F;2020"></p><p>O “pertinho” se traduz em 63 milhões de quilômetros.</p><p>Eu pensava que dificilmente um telescópio pequeno conseguiria algum detalhe do planeta além de uma bolota avermelhada.<br>Felizmente, estava enganado.</p><p>Vejamos o que o precário registro pode nos mostrar:</p><p><img src="/images/2020-10-20-marte-o-planeta-vermelho-desde-floripa/2020-10-17-0249_1-CapObj_lapl5_ap25-registax-labels.jpg" alt="Marte em 17&#x2F;10&#x2F;2020 com legenda" title="Marte em 17&#x2F;10&#x2F;2020 com legenda"></p><p>No momento, o hemisfério sul marciano está visível para nós, terráqueos. E é assim que podemos ver a calota polar do sul, uma manchinha branca. Por que tão pequena? Porque agora está rolando um baita verão no hemisfério sul de Marte e ela reduz muito de tamanho nessa estação do ano.</p><p>O polo norte não é visível e num telescópio assim pequeno mal podemos ver os sinais das nuvens brancas que cobrem esse polo (uns meros e suaves pixels brancos). Esse manto de nuvens se dissipará quando chegar a primavera no polo norte (fevereiro de 2021).</p><p>Entre os dois polos, meu pequeno telescópio consegue diferenciar as áreas marcadas por rochas expostas (escuras) daquelas marcadas por vastas extensões de areias do deserto (claras).</p><p>Pode parecer pouco, mas acho incrível que de maneira amadora, no fundo de um quintal, consigamos enxergar com alguns detalhes um planeta tão longe (e menor que a Terra). Podemos mesmo ver as consequências do verão para o polo sul.</p><p>Se algum dia, o ser humano botar os pés em outro planeta … será em Marte. Em dizer que tem gente que acredita que a Terra é plana e desconfia da astronomia …</p><p>Ah, compare esse registro com o que eu fiz em 15 de julho de 2018.</p><p><img src="/images/2020-10-20-marte-o-planeta-vermelho-desde-floripa/Mars_012354_lapl4_ap62-processado_v2-crop.jpg" alt="Marte em 15&#x2F;07&#x2F;2018 com legenda" title="Marte em 15&#x2F;07&#x2F;2018 com legenda"></p><p>Naquela ocasião, uma tempestade de areia histórica varreu o planeta, apagou os detalhes da geografia e ainda <a href="https://www.space.com/mars-rover-opportunity-declared-dead.html">matou</a> o rover Opportunity (da Nasa).</p>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
        <tags>
            
            <tag> astronomia </tag>
            
            <tag> fotografia </tag>
            
            <tag> planeta </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Monitorando temperatura da CPU no GNU/Linux</title>
      <link href="/2019/07/26/monitorando-temperatura-da-cpu-no-gnu-linux/"/>
      <url>/2019/07/26/monitorando-temperatura-da-cpu-no-gnu-linux/</url>
      
        <content type="html"><![CDATA[<p>Esse é um post rápido para mim mesmo no futuro. É sobre como monitorar a temperatura da CPU no GNU&#x2F;Linux (e mais algumas informações de outros sensores disponíveis na máquina).</p><p><img src="/images/2019-07-26-monitorando-temperatura-da-cpu-no-gnu-linux/sensors.png" alt="Monitorando a velocidade da CPU com sensors" title="Monitorando a velocidade da CPU com sensors"></p><span id="more"></span><p>Utilizaremos as ferramentas do projeto <a href="https://hwmon.wiki.kernel.org/lm_sensors">lm_sensors</a>.</p><h2 id="0-Instalacao"><a href="#0-Instalacao" class="headerlink" title="0. Instalação"></a>0. Instalação</h2><p>No Fedora 30:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnf install -y lm_sensors</span><br></pre></td></tr></table></figure><h2 id="1-Utilizacao"><a href="#1-Utilizacao" class="headerlink" title="1. Utilização"></a>1. Utilização</h2><p>Para verificar a temperatura da CPU (e mais algumas informações de outros sensores disponíveis na máquina):</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sensors</span><br></pre></td></tr></table></figure><p>Para monitorar em tempo real utilizamos o utilitário <em>watch</em>:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch sensors</span><br></pre></td></tr></table></figure><p>O padrão do <em>watch</em> é invocar o comando (em nosso caso, <em>sensors</em>) a cada 2 segundos. Para definir 1 segundo, utilizamos: <code>watch -n 1 sensors</code>.</p><p>Até mais!</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://hwmon.wiki.kernel.org/lm_sensors">lm_sensors</a>: Site do projeto <em>lm_sensors</em>.</li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> fedora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OCRs de PDFs no GNU/Linux: Estudando com textos e não prints</title>
      <link href="/2018/12/15/ocrs-de-pdfs-no-gnu-linux-estudando-com-textos-e-nao-prints/"/>
      <url>/2018/12/15/ocrs-de-pdfs-no-gnu-linux-estudando-com-textos-e-nao-prints/</url>
      
        <content type="html"><![CDATA[<p>Quem nunca foi estudar para a faculdade com um PDF e descobriu que não conseguiria marcar o texto ou copiar e colar seu conteúdo?<br>Que aquele lindo PDF em vez de ser um agradável texto a ser anotado e copiado mais parecia um print em que somente poderíamos fazer riscos ao redor dignos de uma criança de 7 anos no Paint?</p><p>A solução para isso é gerar um novo PDF utilizando alguma tecnologia de reconhecimento óptico de caracteres (OCR: Optical Character Recognition).</p><p><img src="/images/2018-12-15-ocrs-de-pdfs-no-gnu-linux-estudando-com-textos-e-nao-prints/ocr_small.jpg" alt="Imagem genérica de ferramente de OCR." title="Imagem genérica de ferramente de OCR."></p><span id="more"></span><p>A ferramenta atualmente mais fácil no GNU&#x2F;Linux é o pdfsandwich (e é software livre!).<br>O mesmo é uma ferramenta voltada apenas para gerar PDFs com OCR a partir de outros PDFs.<br>Tecnicamente, o pdfsandwich na verdade é um script que depende de outras ferramentas que realmente interagem com o PDF.</p><h2 id="Instalacao"><a href="#Instalacao" class="headerlink" title="Instalação"></a>Instalação</h2><p>O Fedora atualmente não disponibiliza o pdfsandwich nos repositórios oficiais (mas o Debian sim!). A solução é ulilizarmos um repositório pessoal do COPR:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> dnf copr <span class="built_in">enable</span> merlinm/pdfsandwich</span><br><span class="line"><span class="built_in">sudo</span> dnf install pdfsandwich</span><br></pre></td></tr></table></figure><p>O tesseract é a ferramenta que o pdfsandwich utiliza para aplicar o OCR. O mesmo deve ser instalado automaticamente como dependência do pdfsandwich. Entretanto, devemos instalar dicionários adicionais para aumentar a eficiência do OCR. Instalemos pois, os dicionários para espanhol e português (inglês vem por padrão):</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnf install tesseract tesseract-langpack-por tesseract-langpack-spa</span><br></pre></td></tr></table></figure><p>Ps: Embora o tesseract seja uma dependência do pdfsandwich, resolvi colocar seu pacote de forma redundante.</p><h2 id="Utilizando-a-ferramenta"><a href="#Utilizando-a-ferramenta" class="headerlink" title="Utilizando a ferramenta"></a>Utilizando a ferramenta</h2><p>Simplesmente informe o <code>document.pdf</code> desejado e será gerado um <code>document_ocr.pdf</code> novo com OCR:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdfsandwich document.pdf</span><br></pre></td></tr></table></figure><p>Para aumentar a eficiência do OCR, convém informar a língua. Assim o tesseract utilizará o dicionário da língua em vez de tentar adivinhar apenas letras. O comando informando a língua portuguesa para o arquivo seria:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdfsandwich -lang por document.pdf</span><br></pre></td></tr></table></figure><p>Podemos inclusive informar múltiplas línguas para um mesmo documento. Vejamos o caso de um documento contendo inglês, português e espanhol:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdfsandwich -lang eng+por+spa multilingual_document.pdf</span><br></pre></td></tr></table></figure><p>Para listar os dicionários do tesseract que o pdfsandwich enxerga:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdfsandwich -list_langs</span><br></pre></td></tr></table></figure><h2 id="Observacoes"><a href="#Observacoes" class="headerlink" title="Observações"></a>Observações</h2><ul><li>As imagens das páginas do PDF são alteradas para aumentar a eficiência do OCR. Em geral, reparo que o contraste é bastante aumentado.</li><li>Os metadados do PDF são perdidos, mas podemos facilmente adicionar (veja em “Definindo metadados” <a href="https://felipehw.github.io/2018/05/11/criando-lindos-pdfs-de-texto-a-partir-de-livros-ou-xerox/">aqui</a>).</li><li>Como consta no site da ferramenta, caso o PDF gerado (<code>document_ocr.pdf</code>) fique muito maior que o original (<code>document.pdf</code>), execute novamente o pdfsandwich (sobre o <code>document_ocr.pdf</code>).</li></ul><h2 id="Mais-informacoes"><a href="#Mais-informacoes" class="headerlink" title="Mais informações"></a>Mais informações</h2><ul><li><a href="http://www.tobias-elze.de/pdfsandwich/">pdfsandwich</a>: Site oficial.</li><li><a href="https://fedoramagazine.org/4-cool-new-projects-try-copr-october-2018/">4 cool new projects to try in COPR for October 2018 - Fedora Magazine</a>: Informação sobre o repositório COPR para o Fedora.</li></ul>]]></content>
      
      
      <categories>
          
          <category> cultura livre </category>
          
      </categories>
      
      
        <tags>
            
            <tag> compartilhamento </tag>
            
            <tag> universidade </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sobre o livro Sob três bandeiras: Anarquismo e imaginação anticolonial</title>
      <link href="/2018/07/25/comentario-sobre-o-livro-sob-tres-bandeiras-anarquismo-e-imaginacao-anticolonial/"/>
      <url>/2018/07/25/comentario-sobre-o-livro-sob-tres-bandeiras-anarquismo-e-imaginacao-anticolonial/</url>
      
        <content type="html"><![CDATA[<p>Deixo aqui um comentário sobre o livro “Sob três bandeiras: anarquismo e imaginação anticolonial” de Benedict Richard O’Gorman Anderson. Gostei bastante do mesmo, é um bom mergulho na apaixonante cena política de finais do século XIX.<br>Ah, a versão que li é em espanhol (<em>Bajo tres banderas: anarquismo e imaginación anticolonial</em>).</p><p><img src="/images/2018-07-25-comentario-sobre-o-livro-sob-tres-bandeiras-anarquismo-e-imaginacao-anticolonial/bajo3banderas-little.jpg" alt="Capa de Bajo tres banderas" title="Capa de Bajo tres banderas"></p><span id="more"></span><p>O livro de Benedict Anderson busca compreender as redes intercontinentais em que estavam inseridos as lutas anticoloniais que sacudiam o império espanhol em finais do século XIX. Com esse objetivo, são enfocados dois jovens nacionalistas filipinos, o novelista José Rizal e o folclorista e periodista polemista Isabel de los Reyes. Por meio desses filipinos, que atuaram politicamente tanto na Europa quanto em sua terra natal, são desnudadas as conexões artísticas, culturais e sociopolíticas que conectavam os lutadores anticoloniais filipinos e cubanos com anarquistas, marxistas e republicanos radicais europeus além de republicanos japoneses e rebeldes nacionalistas chineses.</p><p>No caminho são analisadas, desde a periferia do império espanhol, o interesse de Isabelo pelo folclore como “ciência” do século XIX e a articulação dessa com os nacionalismos em voga, seu longo e fraterno contato com acadêmicos europeus e, em circunstâncias mais sombrias, com o anarquismo em solo espanhol devido à prisão originada nas Filipinas. Já a produção literária de Rizal é contraposta com a literatura anticolonial europeia e a produção do autor (que acabaria por inspirar jovens nacionalistas filipinos) é analisada à luz das influências que o mesmo sofreu de autores europeus bem como de sua criação nas Filipinas sob controle das ordens religiosas e o cenário político da época.</p><p>Cenário político que é composto por Anderson em três mundos que cortam a vivência desses filipinos na década de 1880: o sistema-mundo interestatal de 1860-1890 dominado por Bismarck; a esquerda planetária pós Comuna de Paris até fins do século XIX, hegemonizada pelo anarquismo (marcado pela influência niilista), e por fim, o decadente mundo imperial espanhol marcado por guerra civis e instabilidade na metrópole, pela perda das colônias americanas e pelas lutas anticoloniais lideradas por Cuba.</p><p>Essa história global interconectada tem como ápice o capítulo final, sugestivamente chamado de Montjuïc – a atroz prisão em que os inimigos do regime espanhol eram presos, torturados e executados. É nela que podemos encontrar presos cubanos, filipinos e europeus, indivíduos cujas lutas já lhes haviam aproximado nas cosmopolitas cenas políticas de capitais europeias como Paris e Londres e que agora compartilhavam infortúnios comuns. Anderson, inclusive, dedica certa atenção às fascinantes vidas de diversos desses indivíduos, incluindo artistas, terroristas, anarquistas, etc. (e que frequentemente podiam ser definidos por mais de um desses adjetivos). Sinal dos frutos dessas conexões é que Isabelo, após sair da prisão, e impedido de criar seus jornais e partido nacionalista nas Filipinas ocupadas pelos Estados Unidos, resolve organizar os trabalhadores filipinos com base na experiência anarquista espanhola que havia conhecido e admirado de seus colegas de prisão.</p><p>Cabe dizer, por fim, que embora seja um livro de historiador acadêmico, sua leitura é prazerosa, sendo quase um “romance histórico”. O único “contra” de sua abordagem é que o autor, priorizando a narrativa, não realiza reflexões pontuais sistematizando as conexões e conclusões levantadas, isso exige que o próprio leitor se atente para perceber seus insights teóricos e conclusões de maior fôlego, podendo passar batido por esses enquanto vamos deslindando as diversas e interessantes vidas que passam pela caneta do autor.</p>]]></content>
      
      
      <categories>
          
          <category> literatura </category>
          
      </categories>
      
      
        <tags>
            
            <tag> história </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Saturno e seus anéis desde Floripa</title>
      <link href="/2018/07/02/saturno-e-seus-aneis-desde-floripa/"/>
      <url>/2018/07/02/saturno-e-seus-aneis-desde-floripa/</url>
      
        <content type="html"><![CDATA[<p>No post de hoje veremos as tentativas grosseiras de capturar imagens de Saturno desde o quintal de uma casa em Florianópolis.</p><p><img src="/images/2018-07-02-saturno-e-seus-aneis-desde-floripa/saturn-icon-vector.png" alt="Ícone de Saturno" title="Ícone de Saturno"></p><span id="more"></span><p>Saturno é um gigante gasoso, o segundo maior planeta do sistema solar (perdendo apenas para Júpiter) e o sexto a partir do Sol (estando entre Júpiter e Urano).</p><p>Embora Saturno não seja tão menor que Júpiter (Saturno tem 120.000 km de diâmetro e Júpiter tem 142.800km), vemos ele muito menor no céu. Isso se dá por causa da distância, Saturno está 2 vezes mais longe do Sol que Júpiter (enquanto Júpiter está a aproximadamente 5 UA do Sol, Saturno está a 10 UA). <em>Ps: UA significa Unidade Astronômica e representa a distância média entre o Sol e a Terra.</em></p><p>Sem falar nas luas de Saturno, que dado a grande distância, mal são visíveis com pequenos telescópios. Enquanto podemos enxergar as 4 luas (conhecidas como galileanas) de Júpiter utilizando binóculos, Saturno exige um pequeno telescópio para ver mesmo a maior e mais brilhante de suas luas: <strong>Titã</strong>.</p><p>Esse é o registro efetuado às 23h06m de 01&#x2F;07&#x2F;2018 de Saturno e sua lua Titã:</p><p><img src="/images/2018-07-02-saturno-e-seus-aneis-desde-floripa/IMG_6033_crop.jpg" alt="Saturno e Titã em 01&#x2F;07&#x2F;2018" title="Saturno e Titã em 01&#x2F;07&#x2F;2018"></p><p>Para conseguir capturar a lua Titã utilizamos um tempo de exposição que sacrificou detalhes de Saturno. O que torna Titã tão especial é que, além de ser a segunda maior lua do sistema solar, é a única com atmosfera densa e o único corpo celeste, além da Terra, com rios e lagos na superfície (porém em vez de água temos hidrocarbonetos). <em>Ps: No <a href="https://en.wikipedia.org/wiki/Titan_(moon)">verbete da Wikipedia</a> podemos ver os lagos e mesmo a superfície de Titã.</em></p><p>Dado a essa distância absurda e ao fato das bandas de nuvens que compõem a atmosfera de Saturno não possuírem contraste visual tão grande quanto Júpiter, a superfície do planeta não apresenta uma game de detalhes tão visíveis quanto Júpiter. Em compensação, Saturno exibe seus brilhantes anéis de forma que nenhum outro planeta do sistema solar possa competir.</p><p>No registro abaixo, efetuado aproximadamente às 22:30 de 01&#x2F;07&#x2F;2018, podemos ver Saturno e seus anéis:</p><p><img src="/images/2018-07-02-saturno-e-seus-aneis-desde-floripa/Sat_013023_lapl4_ap12_final-crop.jpg" alt="Saturno em 01&#x2F;07&#x2F;2018" title="Saturno em 01&#x2F;07&#x2F;2018"></p><p>[ATUALIZAÇÃO: Consegui um registro superior após 2 semanas. O mesmo foi efetuado às 21:22 de 15&#x2F;07&#x2F;2018]<br><img src="/images/2018-07-02-saturno-e-seus-aneis-desde-floripa/Sat_212229_lapl4_ap88-tratado_v2-crop.jpg" alt="Saturno em 15&#x2F;07&#x2F;2018" title="Saturno em 15&#x2F;07&#x2F;2018"></p><p>Embora seja um simples registro amador, <strong>podemos ver alguns detalhes interessantes</strong>:</p><ul><li>Repare na diferença de brilho entre a parte exterior do anel, acinzentado, e a parte interior, brilhante. E mesmo na existência de um vão escuro entre essas duas partes (visível principalmente nas extremidades “laterais” do anel). A parte interior brilhante é o chamado <strong>“anel B”</strong>, a parte exterior, acinzentada, o <strong>“anel A”</strong>, e o vão entre ambas é a famosa <strong>“divisão Cassini”</strong>.</li><li>Outro detalhe facilmente visível é o <strong>achatamento do planeta</strong> (observe a diferença entre o equador e os polos). E isso se deve à rápida rotação do planeta (o dia dura menos de 11 horas!).</li><li>Vale a pena observar, ainda, que mesmo a <strong>atmosfera</strong> possuindo um padrão de bandas de nuvens menos contrastantes que Júpiter, podemos ver facilmente uma banda mais escura na linha do Equador (entre outras mais suaves).</li><li>Por fim, perceba que podemos observar a <strong>sombra dos anéis</strong> projetadas na atmosfera do planeta (os anéis que passam pelo “topo” do planeta) bem como a <strong>sombra do planeta</strong> projetada nos anéis (o polo “inferior” do planeta que oculta parcialmente os anéis).</li></ul><p>Cabe dizer que esses registros foram realizados próximos da oposição de Saturno (e com um pequeno telescópio - abertura de 90mm). Esse é o momento mais adequado para observar Saturno pois é quando estamos mais próximos (e ocorre o alinhamento “Sol - Terra - Saturno”). Nesse momento, 01&#x2F;07&#x2F;2018, Saturno estava a “apenas” 1 bilhão 354 milhões de quilômetros de nós e as posições do Sol, Terra e Saturno estavam assim:</p><p><img src="/images/2018-07-02-saturno-e-seus-aneis-desde-floripa/orbita_de_saturno.png" alt="Órbita de Saturno" title="Órbita de Saturno"></p><p>Se você chegou até aqui, não deixe de ver as fotos incríveis de Saturno tomadas pelas sondas que visitaram o planeta. O <a href="https://pt.wikipedia.org/wiki/Saturno_(planeta)">verbete da Wikipedia</a> é um bom lugar para começar.</p>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
        <tags>
            
            <tag> astronomia </tag>
            
            <tag> fotografia </tag>
            
            <tag> planeta </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vesta, o asteroide mais brilhante do céu, desde Floripa</title>
      <link href="/2018/06/23/vesta-o-asteroide-mais-brilhante-do-ceu-desde-floripa/"/>
      <url>/2018/06/23/vesta-o-asteroide-mais-brilhante-do-ceu-desde-floripa/</url>
      
        <content type="html"><![CDATA[<p>No post de hoje veremos a tentativa grosseira de registrar o asteroide Vesta desde o quintal de uma casa em Florianópolis.</p><p><img src="/images/2018-06-23-vesta-o-asteroide-mais-brilhante-do-ceu-desde-floripa/Vesta_in_natural_color_small.jpg" alt="3x4 de Vesta" title="3x4 de Vesta"></p><span id="more"></span><p>Acima vemos Vesta num registro tomado pela sonda espacial Dawn. Como podemos ver, Vesta é um pedregulho de forma irregular. A foto foi realizada em 24&#x2F;11&#x2F;2011 a uma distância de 5.200 quilômetros (a Terra está a mais de 170 milhões de quilômetros de distância do asteroide). Apesar da distância da Terra, ocasionalmente o asteroide é visível até mesmo a olho nu em locais com céu bem escuro.</p><p>Vesta está localizado no cinturão de asteroides entre Marte e Júpiter e é o segundo objeto mais massivo do cinturão (superado apenas pelo planeta anão Ceres).</p><p>O asteroide possui 530 quilômetros de diâmetro, uma temperatura que oscila entre -188 à -18 graus Celsius e leva aproximadamente 3,63 anos para dar uma volta no Sol. Quando está mais próximo do Sol (periélio), ele está a uma distância 2,15 vezes a distância da Terra ao Sol e quando está mais longe do Sol (afélio), a uma distância de 2,57 vezes a distância da Terra ao Sol.</p><p>O momento mais apropriado para tentar registrar Vesta é na chamada “oposição”.<br>A oposição é quando Vesta se encontra mais próximo da Terra (e a Terra está entre o Sol e Vesta). Nesse momento Vesta pode estar até uma distância de 1,14UA (aproximadamente, a mesma distância entre a Terra e o Sol).</p><p>Em 2018, esse momento, a “oposição”, ocorreu em 19&#x2F;06&#x2F;2018. E aproveitei para fazer um registro com máquina fotográfica.</p><p>Naquela noite, as posições da Terra, do Sol e de Vesta eram essas:</p><p><img src="/images/2018-06-23-vesta-o-asteroide-mais-brilhante-do-ceu-desde-floripa/orbita_de_vesta.png" alt="Órbita de Vesta" title="Órbita de Vesta"></p><p>Segue o registro efetuado:</p><p><img src="/images/2018-06-23-vesta-o-asteroide-mais-brilhante-do-ceu-desde-floripa/20180619.jpg" alt="Registro de Vesta em 19&#x2F;06&#x2F;2018" title="Registro de Vesta em 19&#x2F;06&#x2F;2018"></p><p>Não dá de entender muita coisa né?<br>Bom, segue uma imagem com os objetos mais proeminentes marcados. Em roxo vemos destacados o planeta Saturno (o objeto mais brilhante) e o asteroide Vesta (fraquinho).</p><p><img src="/images/2018-06-23-vesta-o-asteroide-mais-brilhante-do-ceu-desde-floripa/20180619-anotada.jpg" alt="Registro de Vesta anotado em 19&#x2F;06&#x2F;2018" title="Registro de Vesta anotado em 19&#x2F;06&#x2F;2018"></p><p>Pode parecer sem graça, mas acho incrível que, sem telescópio, consigamos registrar um pedregulho de 530 quilômetros a uma distância de 170 milhões de quilômetros (1,14UA). É a primeira vez que registro um objeto que não seja uma estrela, um planeta ou um satélite (como a Lua).</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://pt.wikipedia.org/wiki/4_Vesta">4 Vesta – Wikipédia, a enciclopédia livre</a>: Verbete da Wikipedia sobre Vesta.</li><li><a href="https://www.space.com/12097-vesta-asteroid-facts-solar-system.html">Vesta: Facts About the Brightest Asteroid</a>: Matéria (em inglês) interessante sobre o asteroide.</li></ul>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
        <tags>
            
            <tag> astronomia </tag>
            
            <tag> fotografia </tag>
            
            <tag> asteroide </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Criando lindos PDFs a partir de livros ou xerox</title>
      <link href="/2018/05/11/criando-lindos-pdfs-de-texto-a-partir-de-livros-ou-xerox/"/>
      <url>/2018/05/11/criando-lindos-pdfs-de-texto-a-partir-de-livros-ou-xerox/</url>
      
        <content type="html"><![CDATA[<p>(Atualizado em 15&#x2F;12&#x2F;2018. Agora temos ferramentas livres para todo o processo, incluindo o OCR.)</p><p>Quem nunca foi salvo por um PDF para estudar na universidade?</p><p>Quem costuma estudar por PDFs deve estar acostumado a encontrar PDFs de toda qualidade. Desde aqueles que são nada mais que fotos grosseiras e desfocadas de um xerox de 2 páginas lado-a-lado até aqueles que cada página está visível e bem enquadrada (para ler num e-reader) e podemos selecionar&#x2F;copiar&#x2F;colar o texto com o mouse.</p><p>Veremos aqui como fazer PDFs desse último tipo. E no GNU&#x2F;Linux, tudo software livre!</p><p><img src="/images/2018-05-11-criando-lindos-pdfs-de-texto-a-partir-de-livros-ou-xerox/kobo_cafe_small.jpg" alt="Imagem genérica de alguém estudando num e-reader." title="Imagem genérica de alguém estudando num e-reader."></p><span id="more"></span><h1 id="0-Pre-requisitos"><a href="#0-Pre-requisitos" class="headerlink" title="0. Pré-requisitos"></a>0. Pré-requisitos</h1><ol><li>Computador com GNU&#x2F;Linux.</li><li>Scanner.</li></ol><h1 id="1-Escaneando"><a href="#1-Escaneando" class="headerlink" title="1. Escaneando"></a>1. Escaneando</h1><p>O aplicativo utilizado será o software livre <em>gscan2pdf</em>.</p><ol><li><p>Após abrir o aplicativo, vá em “Arquivo” → “Digitalizar”.</p></li><li><p>Utilize as seguintes configurações:</p><ul><li>Em “Modo de digitalização”:<ul><li>“Modo de digitalização”: “Linhas”</li><li>“Resolução de digitalização”: “300” dpi <em>(é a resolução recomendada para OCR)</em></li></ul></li><li>Em “Opções de página”:<ul><li>Em “Pós-processamento”, mantenha desmarcada a opção “Imagens digitalizadas com OCR” (faremos isso de forma superior via Android).</li><li>Em “Pós-processamento”, se desejado, as imagens podem ser automaticamente rotacionadas em “Girar”. (Algo opcional, pois podem ser rotacionadas posteriormente).</li><li>Se desejado, salve a presente configuração em “Perfis de digitalização” com um nome do tipo “Texto sem OCR”.</li></ul></li></ul></li><li><p>Pressione “Digitalizar” e escaneie todas as páginas desejadas.<br>  Caso tenhas escaneado 2 páginas de cada vez (lado-a-lado) ou, simplesmente, que deseje recortar a página para um tamanho menor … podemos usar a ferramenta “Cortar”. No primeiro caso, é importante recortar para que o OCR analise o conteúdo de texto de cada página sem misturar as páginas. E em ambos os casos, é vantajoso recortar para que o conteúdo caiba em pequenos dispositivos (como leitores de ebook).</p></li><li><p><em>[OPCIONAL]</em> Recortando as páginas todas com o mesmo tamanho:<br>  Há duas situações em que recortar as páginas é extremamente útil.<br>  A primeira é quando o material escaneado é composto por folhas contendo duas páginas.<br>  A segunda é quando a página possui grandes margens que tornam a leitura inadequada em e-readers.<br>  Para ambos os casos, podemos seguir os passos abaixo:</p><ol><li><p><em>[OPCIONAL]</em> Caso exista mais de uma página por folha escaneada:<br>   Vá na lista de folhas (coluna da esquerda) e com um “Ctrl + C”&#x2F;“Ctrl + V” duplique as folhas.<br>   Isso porque a página recortada substitui a folha escaneada … e se temos mais de uma página por folha, necessitaremos de tantas cópias de folha quanto páginas ela contenha.</p></li><li><p>Vá em “Visualizar” → “Selecionar” e faça um molde de corte que acomode de forma “justa” a página.<br>   <em>[DICA]</em> Escolha uma página de texto padrão para usar seu futuro corte como molde para todas as páginas.<br>   (Normalmente, páginas de capa, sumário, etc., não são bons moldes. Páginas de texto de meio de capítulo são boas pois usam todo o espaço possível e, portanto, não corremos risco de fazer um molde de corte menor que o necessário.)</p></li><li><p>Vá em “Ferramentas” → “Cortar”:</p></li><li><p>“Seleção de páginas” → “Selecionado”.</p></li><li><p>Pressione “Aplicar”. Pronto!</p></li></ol><ul><li>Caso o corte seja exatamente o mesmo em diversas folhas:<br> basta selecionar todas as folhas desejadas antes de utilizar a ferramenta “Cortar”.</li><li>Caso o corte algo seja diferente em cada página:<br>Pelo menos, cortamos a primeira de nossas páginas e temos um molde!<br>Para as próximas páginas:<ol><li>Clique na próxima página da lista.</li><li>Acomode o molde de corte na área desejada.</li><li>Repita o passo de ir em “Ferramentas” → “Cortar”, “Aplicar”.</li></ol></li></ul></li><li><p>Salvando</p><p> Vá em “Arquivo” → “Salvar”:</p><ol><li>“Seleção de páginas” → “Todos”</li><li>“Tipo de imagem”: “PDF”</li><li>[OPCIONAL] “Document Metadata”: Preencha os dados desejados (útil para uso em e-readers)</li><li>Pressione “Salvar”</li></ol><ul><li>Obs: Em caso de optarmos pelo OCR, os metadados deverão ser definidos depois (pois são perdidos na criação da versão com OCR).</li></ul></li></ol><h1 id="2-OCR"><a href="#2-OCR" class="headerlink" title="2. OCR"></a>2. OCR</h1><p><em>Secção atualizada (agora temos um software livre e muito mais fácil e prático)</em><br>A ferramenta é o software livre pdfsandwich. Utilize o passo-a-passo <a href="https://felipehw.github.io/2018/12/15/ocrs-de-pdfs-no-gnu-linux-estudando-com-textos-e-nao-prints/">aqui</a>.</p><h1 id="3-OPCIONAL-Ultimos-ajustes-via-GNU-Linux"><a href="#3-OPCIONAL-Ultimos-ajustes-via-GNU-Linux" class="headerlink" title="3. [OPCIONAL] Últimos ajustes (via GNU&#x2F;Linux)"></a>3. <em>[OPCIONAL]</em> Últimos ajustes (via GNU&#x2F;Linux)</h1><p>Obs: O <em>gscan2pdf</em> também faz todas as funções listadas abaixo <strong>mas</strong> ele é pesado com grandes PDFs e tem algumas incompatibilidades, por isso cito ferramentas alternativas como um bônus.</p><h2 id="3-1-OPCIONAL-Reorganizando-a-ordem-das-paginas"><a href="#3-1-OPCIONAL-Reorganizando-a-ordem-das-paginas" class="headerlink" title="3.1. [OPCIONAL] Reorganizando a ordem das páginas"></a>3.1. <em>[OPCIONAL]</em> Reorganizando a ordem das páginas</h2><p>Caso seu texto esteja com as páginas fora de ordem:</p><h3 id="Com-o-PDF-Mod"><a href="#Com-o-PDF-Mod" class="headerlink" title="Com o PDF Mod"></a>Com o <em>PDF Mod</em></h3><p>Basta abrir o PDF e ir arrastando as páginas para a ordem desejada.</p><h3 id="Com-o-gscan2pdf"><a href="#Com-o-gscan2pdf" class="headerlink" title="Com o gscan2pdf"></a>Com o <em>gscan2pdf</em></h3><ul><li>para poucas páginas: arrastar e soltar na coluna da esquerda.</li><li>para muitas páginas (e quando sabemos o número delas): definir o número de cada página.<br>Com isso, a página vai automaticamente para sua posição correta.<br>Para numerar uma página (ou várias), selecione na coluna da esquerda e com o botão direito do mouse escolha “Re-numerar”:<ol><li>“Seleção de páginas” → “Selecionado”</li><li>“Iniciar”: “Número da página”</li><li>“Clique em Renumber”</li></ol></li></ul><h2 id="3-2-OPCIONAL-Juntando-PDFs"><a href="#3-2-OPCIONAL-Juntando-PDFs" class="headerlink" title="3.2. [OPCIONAL] Juntando PDFs"></a>3.2. <em>[OPCIONAL]</em> Juntando PDFs</h2><p>Faremos isso através do <em>PDF Mod</em>.</p><p>Abra o último PDF (relativo às páginas) no <em>PDF Mod</em> e vá adicionando os PDFs em ordem decrescente. Para adicionar um PDF: “Arquivo” → “Inserir de…”.</p><p>Seguir a ordem decrescente é necessário porque cada novo PDF inserido tem suas páginas colocadas no início do PDF final.</p><p>Pronto, temos todas as páginas reunidas e prontas para serem salvas num único PDF.</p><h2 id="3-3-OPCIONAL-Recortando-as-paginas"><a href="#3-3-OPCIONAL-Recortando-as-paginas" class="headerlink" title="3.3.[OPCIONAL] Recortando as páginas"></a>3.3.<em>[OPCIONAL]</em> Recortando as páginas</h2><p>Obs: Já ensinamos como recortar páginas acima com o <em>gscan2pdf</em>.</p><p>Ensinaremos aqui a fazer o mesmo com uma ferramenta alternativa chamada <em>PDF-Shuffler</em> (também é software livre).</p><p>A maior motivação para usar essa ferramenta é que ela é muito mais rápida para abrir PDFs com grande quantidades de páginas (casos em que o <em>gscan2pdf</em> demora muito e pode até travar).</p><p>O crop é prático especialmente quando todas as páginas tem as mesmas regiões em branco. Pode-se aplicar um mesmo crop a todas as páginas desejadas. É prática para xerox contendo 2 páginas por folha (primeiro aplicamos um crop de “50% à direita” para pegarmos a página da esquerda, depois um crop de “50% à esquerda” para pegarmos a página da direita).</p><p>Como fazer:</p><ol><li>Abra o arquivo no “PDF-Shuffler”.</li><li>A opção está em <code>Edit</code> → <code>Crop</code>.<br>  Embora não possua preview antes da operação, podemos ver se o resultado agradou e caso negativo, reaplicar a operação (pois essa não é cumulativa - aka, um crop posterior substitui o anterior).</li></ol><p>Obs: Os metadados serão apagados ao salvar. Teremos de usar uma ferramenta como o <em>PDF Mod</em> para adicionar novamente os metadados.</p><h2 id="3-4-OPCIONAL-Definindo-metadados-Titulo-Autor-Assunto-Palavra-chave"><a href="#3-4-OPCIONAL-Definindo-metadados-Titulo-Autor-Assunto-Palavra-chave" class="headerlink" title="3.4. [OPCIONAL] Definindo metadados (Título, Autor, Assunto, Palavra-chave)"></a>3.4. <em>[OPCIONAL]</em> Definindo metadados (Título, Autor, Assunto, Palavra-chave)</h2><p>Podemos utilizar o software livre <em>PDF Mod</em> para definir os metadados. Com ele podemos editar os metadados: Título, Autor, Palavras-chave, Assunto.</p><p>Isso é muito útil quanto temos um PDF com metadados incorretos e que por isso dificultam seu uso em e-readers.</p><p>Para isso, basta:</p><ol><li>Abra o arquivo no “PDF Mod”.</li><li>A opção está em <code>Arquivo</code> → <code>Propriedades</code>.</li></ol><p>(Outra alternativa mais flexível e poderosa que o <em>PDF Mod</em> é o utilitário de linha de comando <em>exiftool</em>, mas isso fica para outro post.<br>Ah, um exemplo rápido: <code>$ exiftool -Title=&quot;As estrelas descem à Terra&quot; -Author=&quot;Theodor W Adorno&quot; -Subject=&quot;Sociology&quot; -Keywords=&quot;Sociology, Astrology&quot; Livro_do_Adorno.pdf</code>)</p><h1 id="Conclusao"><a href="#Conclusao" class="headerlink" title="Conclusão"></a>Conclusão</h1><p>Com o passo-a-passo acima temos os meios para gerar bons PDFs sem gastar nenhum tostão.<br>Eles são adequados para ler em e-readers e para marcarmos o texto com anotações e destaques.</p>]]></content>
      
      
      <categories>
          
          <category> cultura livre </category>
          
      </categories>
      
      
        <tags>
            
            <tag> compartilhamento </tag>
            
            <tag> universidade </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GNU/Linux e lixeiras (Lixeira em outras partições, etc.)</title>
      <link href="/2018/05/09/habilitando-a-lixeira-em-outras-particoes/"/>
      <url>/2018/05/09/habilitando-a-lixeira-em-outras-particoes/</url>
      
        <content type="html"><![CDATA[<p>Por anos, utilizo GNU&#x2F;Linux no desktop.<br>Por anos, a “Lixeira” de arquivos deletados foi algo misteriosa para mim.</p><p>Ora disponível, ora indisponível, no menu do gerenciador de arquivos.</p><p>Já havia me resignado a simplesmente sempre usar o <code>Shift</code> + <code>Delete</code> e excluir permanentemente.</p><p>Até hoje.</p><p><img src="/images/2018-05-09-habilitando-a-lixeira-em-outras-particoes/lixeira-small.jpg" alt="Imagem genérica de lixeira." title="Imagem genérica de lixeira."></p><span id="more"></span><p>Em uma rápida pesquisa, descobri o motivo.</p><p>O GNU&#x2F;Linux necessita de um diretório para a “Lixeira” em cada partição em que queremos utilizar essa funcionalidade.<br>(Sim, ele não joga tudo na Lixeira dentro do diretório “Home” de seu usuário. Há uma Lixeira para os arquivos de cada partição - e é única para cada usuário.)<br>Se ele não puder criar ou encontrar esse diretório, apenas teremos a opção de “excluir permanentemente” no gerenciador de arquivos.</p><p>Então … basta criar um diretório para a “Lixeira do usuário” na partição em que queremos utilizar essa funcionalidade?</p><p>Sim!</p><p><strong>Funciona da seguinte maneira</strong>:<br>No diretório raiz da partição deve existir um diretório para a “Lixeira do usuário” com o seguinte nome: <code>.Trash-&lt;uid&gt;</code>. Sendo o <code>uid</code> o id do usuário. Exemplo: Usuário <code>joao</code> tem o <code>uid</code> <code>1000</code>, então criaremos o diretório <code>.Trash-1000</code> na raiz da partição.</p><p>Vejamos um <strong>passo a passo</strong> para o usuário <code>joao</code> na partição montada em <code>/mnt/sdc1</code>:<br>0. Descubra o <code>uid</code> (user id) e o <code>gid</code> (group id) do usuário <code>joao</code>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ id joao</span><br><span class="line">uid=1000(joao) gid=1000(joao) grupos=1000(joao),10(wheel)</span><br></pre></td></tr></table></figure><ol><li>Crie o diretório da “Lixeira” do usuário <code>joao</code> (<code>uid</code> &#x3D; <code>1000</code>):</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir /mnt/sdc1/.Trash-1000</span><br></pre></td></tr></table></figure><ol start="2"><li>Defina as permissões corretas para o diretório da Lixeira de <code>joao</code> (<code>uid</code> &#x3D; <code>1000</code>, <code>gid</code> &#x3D; <code>1000</code>):</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># chown 1000:1000 /mnt/sdc1/.Trash-1000</span><br></pre></td></tr></table></figure><h2 id="Bonus"><a href="#Bonus" class="headerlink" title="Bônus"></a>Bônus</h2><h3 id="Onde-esta-a-Lixeira-no-diretorio-Home-do-usuario"><a href="#Onde-esta-a-Lixeira-no-diretorio-Home-do-usuario" class="headerlink" title="Onde está a Lixeira no diretório Home do usuário?"></a>Onde está a Lixeira no diretório Home do usuário?</h3><p>Já sabemos que em outras partições, a Lixeira é encontrada na raiz da partição utilizando o formato <code>.Trash-&lt;uid&gt;</code>. Mas e no diretório Home do usuário, onde está a Lixeira?</p><p>De acordo com as convenções da especificação do Freedesktop.org, a Lixeira está em <code>$XDG_DATA_HOME/Trash</code>, sendo que o padrão da variável <code>$XDG_DATA_HOME</code> é <code>$HOME/.local/share</code>.</p><p>Ou seja, no caso do usuário <code>joao</code> é: <code>/home/joao/.local/share/Trash</code>.</p><h3 id="Utilizando-a-Lixeira-na-linha-de-comando"><a href="#Utilizando-a-Lixeira-na-linha-de-comando" class="headerlink" title="Utilizando a Lixeira na linha de comando"></a>Utilizando a Lixeira na linha de comando</h3><p>Quem nunca deletou via linha de comando, sem querer, um arquivo essencial?</p><p>Para evitarmos acidentes podemos utilizar também a Lixeira via linha de comando ao apagarmos arquivos e diretórios. Assim, temos uma chance de desfazer a lambança em caso de erro.</p><p>Primeiro devemos instalar o <code>trash-cli</code>, um conjunto de utilitários de linha de comando para Lixeira. No caso do Fedora:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># dnf install trash-cli</span><br></pre></td></tr></table></figure><p>Agora vejamos, alguns dos comandos mais importantes:</p><ul><li>Para enviar arquivos para a Lixeira basta substituir o <code>rm</code> por <code>trash</code>:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ trash arquivo-a-ser-enviado-para-Lixeira</span><br></pre></td></tr></table></figure><ul><li>Para retirar arquivos da Lixeira:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ trash-restore /diretorio/com/arquivos/colocados/na/Lixeira</span><br></pre></td></tr></table></figure><p>Será oferecido a lista de arquivos colocados na Lixeira desse diretório para restauração.</p><ul><li>Para listar os arquivos da Lixeira:<br>(apenas lista o conteúdo da Lixeira no diretório Home do usuário)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ trash-list</span><br></pre></td></tr></table></figure><ul><li>Para limpar a Lixeira (<code>&lt;dias&gt;</code> é opcional. Define que devem ser excluídos apenas arquivos mais velhos que tantos dias):<br>(apenas limpa o conteúdo da Lixeira no diretório Home do usuário)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trash-empty &lt;dias&gt;</span><br></pre></td></tr></table></figure><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://wiki.archlinux.org/index.php/File_manager_functionality#Enable_Trash_functionality_on_different_filesystems_.28external_drives.29">File manager functionality - ArchWiki</a>: A seção “Enable Trash functionality on different filesystems (external drives)” contém a dica sobre Lixeira em diferentes partições.</li><li><a href="http://www.ramendik.ru/docs/trashspec.html">The FreeDesktop.org Trash specification</a></li><li><a href="https://github.com/andreafrancia/trash-cli">andreafrancia&#x2F;trash-cli: Command line interface to the freedesktop.org trashcan</a>: Página oficial do conjunto de utilitários de linha de comando para Lixeira <code>trash-cli</code>.</li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> desktop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gravando playback de áudios no GNU/Linux</title>
      <link href="/2018/03/29/gravando-playback-de-audios-no-gnu-linux/"/>
      <url>/2018/03/29/gravando-playback-de-audios-no-gnu-linux/</url>
      
        <content type="html"><![CDATA[<p>Essa dica é especialmente útil quando desejamos gravar áudios que, por algum motivo alheio a nossa vontade, podemos escutar via computador mas não podemos salvar o mesmo num arquivo de áudio.</p><p><img src="/images/2018-03-29-gravando-playback-de-audios-no-gnu-linux/audiobooks_min.jpg" alt="Imagem de audiobook." title="Imagem de audiobook."></p><span id="more"></span><p>Exemplos disso, são áudios em portais web como os <em>audiobooks</em> da ******. Nesse caso, podemos escutar o áudio dos audiobooks via navegador de internet mas não podemos baixar os referidos audiobooks.</p><p>A solução está em interceptar o áudio que está sendo reproduzido via servidor de som “PulseAudio” e gravar seu conteúdo utilizando o editor de áudio “<a href="https://www.audacityteam.org/">Audacity</a>“. Tudo software livre.</p><p>Necessitaremos de um sistema GNU&#x2F;Linux utilizando “PulseAudio” com os softwares “PulseAudio Volume Control (pavucontrol)” e “Audacity” instalados.</p><h2 id="Instalando-os-aplicativos-necessarios-Fedora-2x"><a href="#Instalando-os-aplicativos-necessarios-Fedora-2x" class="headerlink" title="Instalando os aplicativos necessários (Fedora 2x)"></a>Instalando os aplicativos necessários (Fedora 2x)</h2><p>O Fedora 2x (e diversas outras distros) preenchem todos os requisitos.</p><ol start="0"><li>Servidor de som “PulseAudio”: É o padrão da maioria das distribuições.</li><li>Para instalar o Audacity: <code>sudo dnf install audacity</code></li><li>Para instalar o PulseAudio Volume Control (pavucontrol): <code>sudo dnf install pavucontrol</code></li></ol><h2 id="Gravando-playback-de-audios"><a href="#Gravando-playback-de-audios" class="headerlink" title="Gravando playback de áudios"></a>Gravando playback de áudios</h2><p>Não vou repetir o que já está documentado (como dito acima, isso aqui é mais uma dica). Basta seguir o passo a passo em <a href="http://manual.audacityteam.org/man/tutorial_recording_computer_playback_on_linux.html">Tutorial - Recording Computer Playback on Linux - Audacity Development Manual</a> (seção <strong>“PulseAudio”</strong>). Caso esteja fora do ar, segue o <a href="/files/2018-03-29-gravando-playback-de-audios-no-gnu-linux/Tutorial_-_Recording_Computer_Playback_on_Linux.pdf">PDF</a> salvo em 03&#x2F;2018.</p>]]></content>
      
      
      <categories>
          
          <category> cultura livre </category>
          
      </categories>
      
      
        <tags>
            
            <tag> compartilhamento </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Constelação de Órion e Nebulosa de Órion</title>
      <link href="/2018/02/06/constelacao-de-orion-e-nebulosa-de-orion/"/>
      <url>/2018/02/06/constelacao-de-orion-e-nebulosa-de-orion/</url>
      
        <content type="html"><![CDATA[<p>Fevereiro, véspera de carnaval e uma das constelações mais bonitas do verão do hemisfério Sul está visível!</p><p><img src="/images/2018-02-06-constelacao-de-orion-e-nebulosa-de-orion/Uranometria_orion_little.jpg" alt="A constelação de Órion como descrita na obra Uranometria de Johann Bayer (1661)." title="A constelação de Órion como descrita na obra Uranometria de Johann Bayer (1661)."></p><span id="more"></span><p>É a constelação de Órion (o caçador). Vejamos uma composição de fotos que realizei com máquina fotográfica comum em Florianópolis:</p><p><img src="/images/2018-02-06-constelacao-de-orion-e-nebulosa-de-orion/20160206-caieira-orion-empilhada.jpg" alt="Constelação de Órion - Sábado, 6 de fevereiro de 2016. 23h03m. Florianópolis." title="Constelação de Órion - Sábado, 6 de fevereiro de 2016. 23h03m. Florianópolis."></p><p>Olhos não acostumados com a constelação poderão passar batido mesmo pelas famosas 3 Marias que a compõem. Vamos então acrescentar algumas anotações:</p><p><img src="/images/2018-02-06-constelacao-de-orion-e-nebulosa-de-orion/20160206-caieira-orion-empilhada-tratada.jpg" alt="Constelação de Órion (anotada) - Sábado, 6 de fevereiro de 2016. 23h03m. Florianópolis." title="Constelação de Órion (anotada) - Sábado, 6 de fevereiro de 2016. 23h03m. Florianópolis."></p><p>Agora sim! Repare na parte mais famosa dela, as 3 Marias (Alnitak, Alnilam, Mintaka) que formam o cinturão do caçador.<br>As estrelas brilhantes Rigel e Betelgeuse (uma gigante vermelha) também são bonitos destaques.</p><p>Um pouco offtopic, mas é legal lembrar que por meio das 3 Marias podemos localizar a constelação de Touro e do Cão Maior (pq elas formam uma linha com as estrelas mais brilhantes dessas constelações - Aldebaran de Touro e Sirius de Cão Maior).</p><p>Mas o verdadeiro destaque está reservado para quem tem um pequeno binóculos ou telescópio!</p><p>É a Nebulosa de Órion, fica perto das 3 Marias, e é nada menos que um berçário de estrelas (o mais próximo da Terra)!<br>Na registro acima (ou com bom olho nú) ela parece uma estrela meio indefinida (anotada com um círculo em rosa) …</p><p>Mas quando aproximamos um bom punhado de vezes … vemos seus segredos:</p><p><img src="/images/2018-02-06-constelacao-de-orion-e-nebulosa-de-orion/20180131-capoeiras-mak90+canon-t3-EmpilhadoEditado.jpg" alt="Nebulosa de Órion - Quarta-feira, 31 de janeiro de 2018. Início da madrugada. Florianópolis." title="Nebulosa de Órion - Quarta-feira, 31 de janeiro de 2018. Início da madrugada. Florianópolis."></p><p>Repare na nuvem de gás e poeira interestelar que a constitui! É em locais assim que nascem as estrelas (estima-se que tenha mais de 1000 estrelas jovens e mais de 700 em várias fases de formação)!</p><p>Reparem na foto acima, que no centro da nuvem de gás, temos um conglomerado de estrelas … ele se chama Trapézio!</p><p>Para não ficar dúbio, segue a mesma imagem porém com os elementos da nebulosa anotados:</p><p><img src="/images/2018-02-06-constelacao-de-orion-e-nebulosa-de-orion/20180131-capoeiras-mak90+canon-t3-EmpilhadoEditadoAnotado.jpg" alt="Nebulosa de Órion (anotada) - Quarta-feira, 31 de janeiro de 2018. Início da madrugada. Florianópolis." title="Nebulosa de Órion (anotada) - Quarta-feira, 31 de janeiro de 2018. Início da madrugada. Florianópolis."></p><p>Com meu limitado equipamento podemos ver 4 estrelas do conglomerado estelar Trapézio (as estrelas A, B, C, D). Cada uma dessas estrelas estão dentro de um diâmetro de 1.5 anos luz uma da outra e são responsáveis por boa parte da iluminação que nos permite ver a nebulosa ao redor (a nuvem de gás e poeira interestelar … SIM, é essa “fumacinha”)! Parte significativa das estrelas existentes dentro do Trapézio estão entrando na fase de criação de seus sistemas planetários (alô, nova Terra! alô, nova Marte, Júpiter, Saturno, etc.).</p><p>Logo acima do Trapézio, temos o sistema estelar múltiplo θ2 Orionis, que possui três estrelas visíveis nessa foto (θ2 Orionis A, θ2 Orionis B, θ2 Orionis C)!</p><p>Encerro informando que essas fotos foram batidas em Florianópolis com equipamento amador (Telescópio Skywatcher Maksutov 90mm com tripé EQ1 + Câmera DSLR). O registro da constelação de Órion foi feito no sul da ilha em 06&#x2F;02&#x2F;2016 e o registro detalhado da Nebulosa de Órion foi realizado em 31&#x2F;01&#x2F;2018.</p><p>Por fim, fiquem com a primeira foto batida da Nebulosa de Órion (em 1880):</p><p><img src="/images/2018-02-06-constelacao-de-orion-e-nebulosa-de-orion/Henry_Drape_Orion_nebula_1880_inverted.jpg" alt="Foto de Henry Draper realizada em 1880 da Nebulosa de Órion, a primeira da história!" title="Foto de Henry Draper realizada em 1880 da Nebulosa de Órion, a primeira da história!"></p><p> … e um <a href="https://en.wikipedia.org/wiki/Orion_Nebula#/media/File:Orion_Nebula_-_Hubble_2006_mosaic_18000.jpg">link para a imagem produzida pelo Hubble</a> mostrando toda a glória da Nebulosa de Órion.</p><p>Abraços.</p>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
        <tags>
            
            <tag> astronomia </tag>
            
            <tag> fotografia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Júpiter, o gigante gasoso, desde Floripa</title>
      <link href="/2016/06/26/jupiter-o-gigante-gasoso-desde-floripa/"/>
      <url>/2016/06/26/jupiter-o-gigante-gasoso-desde-floripa/</url>
      
        <content type="html"><![CDATA[<p>No post de hoje veremos as tentativas grosseiras de capturar imagens de Júpiter desde o quintal de uma casa em Florianópolis.</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/jupiter_icon-little.png" alt="Ícone de Júpiter" title="Ícone de Júpiter"></p><span id="more"></span><p>Mas antes de mais nada, uma introdução do que é Júpiter:</p><blockquote><p>Júpiter é o maior planeta do Sistema Solar, tanto em diâmetro quanto em massa e é o quinto mais próximo do Sol. Possui menos de um milésimo da massa solar, contudo tem 2,5 vezes a massa de todos os outros planetas em conjunto. É um planeta gasoso junto com Saturno, Urano e Neptuno. (…), isto é, não é composto primariamente de matéria sólida. (<a href="https://pt.wikipedia.org/wiki/J%C3%BApiter_(planeta)">ref</a>)</p></blockquote><p>Júpiter é tão grande que seu diâmetro é 11,2 vezes maior que o da Terra. Ou seja, poderíamos colocar 11,2 Terras lado a lado para preencher a cintura de Júpiter. Outra forma de compreender seu tamanho é considerar que podemos colocar mais de mil Terras (1321,3 Terras, para ser exato) dentro de Júpiter.</p><p>Apesar da grandeza, Júpiter está bem longe da Terra. No momento de maior proximidade, está a 628 milhões de quilômetros de nós, e no de maior afastamento está a 928 milhões de quilômetros. Isso corresponde, respectivamente, à 4,2 e 6,2 vezes a distância da Terra ao Sol.</p><p><strong>O planeta gigante</strong>, normalmente, é o quarto objeto mais brilhante no céu, perdendo apenas para o Sol, a Lua e a vizinha Vênus. Inclusive, <strong>às vezes pode ser visto durante o dia</strong>!</p><p>Aqui está uma foto de Júpiter às 5:50 da manhã de 27&#x2F;02&#x2F;2016 (usando uma câmera Canon EOS Rebel T3):</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160227-capoeiras/canon_t3/IMG_9048.JPG" alt="Júpiter na manhã de 27&#x2F;02&#x2F;2016" title="Júpiter na manhã de 27&#x2F;02&#x2F;2016"></p><p><strong>Para ilustrar a diferença de brilho entre Vênus e Júpiter</strong> (algo que não é estático), coloco aqui uma foto de ambos que foi batida com celular às 18 horas de 29 de junho de 2015. Os dois planetas estão no centro da foto, com Vênus no centro e logo acima, um pouco à direita, e menos brilhante, Júpiter.</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20150629-capoeiras/IMG_20150629_180358052.jpg" alt="Vênus e Júpiter na noite de 29&#x2F;06&#x2F;2015" title="Vênus e Júpiter na noite de 29&#x2F;06&#x2F;2015"></p><p>Nesse momento, Júpiter e Vênus estavam, como vistas da Terra, <strong>“próximas” … mas na verdade</strong> estavam <strong>bem distantes</strong> uma da outra. Isso ocorre <strong>por causa do alinhamento</strong> dos 2 planetas como visto da Terra. Veja <strong>a posição dos 3 planetas no dia da foto</strong>:</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20150629-capoeiras/sistema_solar_em_20150629.png" alt="Sistema solar em 29&#x2F;06&#x2F;2015" title="Sistema solar em 29&#x2F;06&#x2F;2015"></p><p>Após capturar algumas fotos de Júpiter com máquina fotográfica sem zoom, comecei a tentar capturar fotos usando uma <strong>câmera</strong> DSLR (Canon EOS Rebel T3) <strong>“plugada” num telescópio</strong> Skywatcher Maksutov 90mm. O “zoom” da combinação de ambas é grosseiramente algo como 47x.</p><p>O resultado é incrível :D. <strong>Júpiter não é mais um pontinho brilhante</strong> no céu. Podemos ver ele como um disco bem como suas quatro maiores luas.</p><p>Segue uma foto de 17&#x2F;02&#x2F;2016:</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160217-capoeiras/mak90+canon-t3/IMG_8966.jpg" alt="Júpiter e as luas galileanas em 17&#x2F;02&#x2F;2016" title="Júpiter e as luas galileanas em 17&#x2F;02&#x2F;2016"></p><p>Segue a mesma foto recortada e com legenda:</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160217-capoeiras/mak90+canon-t3/IMG_8966_legendada.jpg" alt="Júpiter e as luas galileanas em 17&#x2F;02&#x2F;2016 - Versão legendada" title="Júpiter e as luas galileanas em 17&#x2F;02&#x2F;2016 - Versão legendada"></p><p>Júpiter possui 67 luas conhecidas. Mas com telescópios pequenos podemos ver apenas as 4 maiores. São as chamadas <a href="https://pt.wikipedia.org/wiki/Luas_de_Galileu">luas galileanas</a> porque quem as descobriu foi Galileu em 1609&#x2F;10. A descoberta delas orbitando Júpiter foi um duro <strong>golpe ao geocentrismo</strong> porque ficou comprovado que nem tudo girava ao redor da Terra.</p><p>Na foto vemos as luas <a href="https://pt.wikipedia.org/wiki/Io_(sat%C3%A9lite)">Io</a> (com mais de 400 vulcões, único lugar no sistema solar com vulcanismo ativo conhecido além da Terra), <a href="https://pt.wikipedia.org/wiki/Europa_(sat%C3%A9lite)">Europa</a> (que possui um oceano logo abaixo da crosta de gelo e pode conter vida) e <a href="https://pt.wikipedia.org/wiki/Calisto_(sat%C3%A9lite)">Calisto</a>. A outra lua galileana, <a href="https://pt.wikipedia.org/wiki/Gan%C3%ADmedes_(sat%C3%A9lite)">Ganimedes</a> (maior lua do sistema solar, maior que Mercúrio), não estava visível porque estava passando bem na frente de Júpiter (fenômeno conhecido como <strong>“trânsito”</strong>, no caso, trânsito de Ganímedes).</p><p>Bem, se realmente são luas e não estrelas … elas orbitam ao redor de Júpiter, correto? Correto.<br>Então, se esperarmos alguns dias … elas devem estar em outra posição, correto? Correto.</p><p>Aqui vem <strong>outra foto</strong> de Júpiter, com o mesmo equipamento, <strong>10 dias depois</strong> da primeira:</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160227-capoeiras/mak90+canon-t3/IMG_9042.JPG" alt="Júpiter e as luas galileanas em 27&#x2F;02&#x2F;2016" title="Júpiter e as luas galileanas em 27&#x2F;02&#x2F;2016"></p><p>Segue a mesma foto recortada e com legenda:</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160227-capoeiras/mak90+canon-t3/IMG_9042-legendada.jpg" alt="Júpiter e as luas galileanas em 27&#x2F;02&#x2F;2016 - Versão legendada" title="Júpiter e as luas galileanas em 27&#x2F;02&#x2F;2016 - Versão legendada"></p><p>Após 10 dias, (17&#x2F;02 -&gt; 27&#x2F;02), <strong>podemos confirmar o baile das luas ao redor de Júpiter em 2 atos</strong> :D<br>As luas estão em posições diferentes em suas órbitas ao redor do gigantesco Júpiter.<br>E se no dia 17 a lua Ganímedes não saiu na foto porque estava bem na frente de Júpiter, agora, dia 27, é a vez da lua Io não estar visível porque estava detrás de Júpiter (fenômeno conhecido como <strong>“ocultação”</strong>, no caso, ocultação de Io).</p><p>Isso tudo é muito interessante, mas como qualquer pessoa, eu queria ver Júpiter <strong>com mais detalhes</strong> :D</p><p>Foi aí que entrou na parada a câmera planetária ZW Optical ASI120MC. O pequeno telescópio Skywatcher Maksutov 90mm possui uma ampliação útil de aproximadamente 200x. A combinação câmera ASI120MC + Maksutov 90mm dá uma aproximação um pouco acima desse valor: <strong>~208x</strong>.</p><p><strong>O método para gerar a imagem é diferente de um simples click</strong>. Ao invés de 1 simples foto (frame), geramos uma imagem a partir da combinação de centenas de frames. E por meio de programas de computador, os frames são combinados e tratados para melhorar a nitidez e gerar uma única imagem com bem mais qualidade. (Foram usados os softwares FireCapture, SharpCap, AutoStakkert! 2 e Registax 6.)</p><p>Sem mais conversas, essa é a foto de Júpiter feita em 15&#x2F;04&#x2F;2016 (+- entre 00:00 e 01:30AM):</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160415-capoeiras/asi120mc-SharpCap/02_18_18_g3_ap15.jpg" alt="Júpiter em 15&#x2F;04&#x2F;2016" title="Júpiter em 15&#x2F;04&#x2F;2016"></p><p>Legal né? <strong>Finalmente os detalhes da “superfície” do planeta se revelam para nós</strong> :D.<br>Tenham em mente que nessa foto, <strong>Júpiter esta à “apenas” 694 milhões de quilômetros de nós</strong>.</p><p>Na foto é possível ver Júpiter e 2 luas galileanas (Ganímedes e Europa) como 2 pontinhos, um em cada lado da cintura do planeta.</p><p>Eu falei que o planeta é gasoso, né? Pois bem, essas manchas que percorrem Júpiter de lado a lado com padrões claros e escuros são nuvens que cobrem esse gigantesco planeta gasoso.</p><p>Então, <strong>na foto vemos apenas as nuvens no topo do planeta</strong>. Essas são feitas de materiais residuais como gelo de amônia e gelo de água. Mas a maior parte do planeta é composta de hidrogênio e hélio (como o Sol).</p><p>Essas nuvens formam bandas claras e escuras que se alternam. As claras são chamadas de “faixas” e as escuras de “cinturões”.</p><p>O dia em Júpiter dura apenas 9 horas e 55 minutos. O planeta gira tão rápido que a rotação incha o equador e achata os polos. Na foto, podemos ver que o planeta não é bem esférico, mas possui uma forma oblata.</p><p>Dado que Júpiter gira tão rápido, podemos perceber com o intervalo de horas a rotação do planeta ao acompanharmos alguns elementos do planeta se “movendo” no disco do planeta.</p><p>E nada é mais visível que a <strong>“Grande Mancha Vermelha”</strong>. Essa mancha é uma enorme tempestade que dura pelo menos desde o século XIX e possui um diâmetro que abarca 2 ou 3 planetas Terra!</p><p>A Grande Mancha está situada no cinturão equatorial sul, logo abaixo do equador.</p><p>Pois bem, meu novo objetivo era registrar uma imagem da “Grande Mancha Vermelha”. E isso ocorreu em 12 de junho:</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/20160612-capoeiras/asi120mc-FireCapture/Jup_000503_g4_ap15_v2.jpg" alt="Júpiter e sua Grande Mancha Vermelha em 12&#x2F;06&#x2F;2016" title="Júpiter e sua Grande Mancha Vermelha em 12&#x2F;06&#x2F;2016"></p><p>Perceba a Grande Mancha Vermelha no centro do planeta, um pouco acima da linha do Equador (o Sul é para cima). Na foto também estão visíveis (muito ruim de ver) as luas Io (no lado direito), Europa (no lado esquerdo) e Ganímedes (mais à esquerda de Europa). Nessa imagem, Júpiter estava a 820 milhões de quilômetros (ou seja, afastou-se bastante desde a foto de 15 de abril).</p><p>Bom, era isso. Se ficou interessado … a <a href="https://pt.wikipedia.org/wiki/Juno_(sonda_espacial)">sonda Juno</a> chegará em Júpiter em 04&#x2F;07&#x2F;2016 após uma viagem de quase 5 anos (foi lançada em agosto de 2011). Entre um de seus objetivos está descobrir se Júpiter possui um núcleo sólido. A sonda irá orbitar o planeta por 20 meses e certamente teremos fotos bem melhores que as minhas :D Fique antenado nas fotos incríveis que surgirão a partir do próximos mês na internet.</p><p><strong>Update</strong>: Em 09&#x2F;07&#x2F;2019 consegui registros melhores. Júpiter distava 657 milhões de quilômetros da Terra.</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/Jup_012145_lapl3_ap48-crop.png" alt="Júpiter em 09&#x2F;07&#x2F;2019" title="Júpiter em 09&#x2F;07&#x2F;2019"></p><p>Na animação abaixo estão contidas 6 registros que abarcam um período de 11 minutos. Mesmo com a curta duração já é possível registrar os efeitos da rotação de Júpiter.</p><p><img src="/images/2016-06-26-jupiter-o-gigante-gasoso-desde-floripa/animated.gif" alt="Júpiter em 09&#x2F;07&#x2F;2019" title="Júpiter em 09&#x2F;07&#x2F;2019"></p>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
        <tags>
            
            <tag> astronomia </tag>
            
            <tag> fotografia </tag>
            
            <tag> planeta </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qualidade de vida ao desenvolver JavaScript: ESLint + Atom + ES6 + JSX</title>
      <link href="/2016/03/12/qualidade-de-vida-ao-desenvolver-javascript-eslint-atom-es6-jsx/"/>
      <url>/2016/03/12/qualidade-de-vida-ao-desenvolver-javascript-eslint-atom-es6-jsx/</url>
      
        <content type="html"><![CDATA[<p>Nesse post veremos como configurar o linter ESLint (inclusive no Atom) para ganhar alguns anos de vida a mais ao diminuir o stress no desenvolvimento JavaScript. O post segue o formato “receita-de-bolo” e é destinado ao “eu-do-futuro-que-esqueceu-isso”. Mas pode ser útil para terceiros que sabem o que é um linter :D.</p><p>Ah, o setup considera minha realidade de trabalho (ES6, JSX). Se você ainda usa ES5 … não sabe a diferença … melhorou muito :D</p><p><img src="/images/2016-03-12-qualidade-de-vida-ao-desenvolver-javascript-eslint-atom-es6-jsx/stress.jpg" alt="Imagem de programador estressado" title="A vida é melhor com ESLint"></p><span id="more"></span><p>Há varios linters por aí, como os famosos JSlint, JSHint, JSCS, ESLint.<br>O mais recente desses 4 linters populares é o ESLint e o mesmo tem chamado a atenção por causa de seus recursos.</p><p>O ESLint possui features interessantes como:</p><ul><li>Suporta configuração</li><li>Suporta plugins</li><li>Melhor suporte à ES6 e JSX</li><li>Possui <em>rules</em> que além de estilo ajudam a detectar bugs</li></ul><p>Devido a essas características, optamos pelo ESLint. Ver mais <a href="http://www.sitepoint.com/comparison-javascript-linting-tools/">aqui</a>.</p><p>Para deixá-lo ainda mais versátil utilizamos conjutamente com:</p><ul><li>parser <a href="https://github.com/babel/babel-eslint">babel-eslint</a> que permite <em>lintar</em> todo o código suportado pelo babel.</li><li>plugin <a href="https://github.com/yannickcr/eslint-plugin-react">ESLint-plugin-React</a> que oferece um conjunto de <em>rules</em> específicas para React (e inclusive corrige problemas como a <em>rule</em> <code>&quot;no-unused-vars&quot;</code> não detectar o uso de vars na sintaxe JSX)</li></ul><hr><p>Vejamos o setup do mesmo tanto no âmbito do sistema operacional (global) quanto de um determinado projeto (local):</p><h2 id="Global"><a href="#Global" class="headerlink" title="Global"></a>Global</h2><h3 id="Instalacao"><a href="#Instalacao" class="headerlink" title="Instalação"></a>Instalação</h3><ol><li>Instale globalmente o eslint &gt;&#x3D; 2: <code>$ sudo npm install --global eslint</code></li><li>Instale globalmente o babel-eslint p&#x2F; o eslint &gt;&#x3D;2: <code>$ npm install --global babel-eslint@next</code></li><li>Instale globalmente o eslint-plugin-react: <code>$ sudo npm install --global eslint-plugin-react</code></li></ol><h3 id="Configuracao"><a href="#Configuracao" class="headerlink" title="Configuração"></a>Configuração</h3><ol><li>Crie uma configuração inicial com: <code>$ eslint --init</code> (será criado no dir atual)</li><li>Mova o arquivo criado para <code>~/</code></li><li>Edite o arquivo em <code>~/</code> de acordo com suas preferências (ver site oficial por documentação ou exemplo comentado abaixo).</li></ol><p>Notas:</p><ul><li>O formato do arquivo de configuração pode ser JSON, JS, YAML (o <code>eslint --init</code> permite escolher). Optei por JS por permitir comentários e etc (com o devido highlight de IDEs).</li><li>Se houver um arquivo de configuração no dir onde é invocado <code>eslint</code>, esse será utilizado ao invés do arquivo em <code>~/</code>.</li></ul><h3 id="Desintalacao"><a href="#Desintalacao" class="headerlink" title="Desintalação"></a>Desintalação</h3><ol><li>Desinstale os módulos globais: <code>$ sudo npm uninstall --global eslint babel-eslint eslint-plugin-react</code></li><li>(OPCIONAL) Remova o arquivo de configuração: <code>$ rm ~/.eslintrc*</code></li></ol><h3 id="Utilizacao"><a href="#Utilizacao" class="headerlink" title="Utilização"></a>Utilização</h3><p>O linter pode ser facilmente utilizado através da invocação de linhas como:</p><ul><li><code>$ eslint file1.js file2.js</code></li><li><code>$ eslint lib/**</code></li></ul><p>Para mais info ver a <a href="http://eslint.org/docs/user-guide/command-line-interface">documentação oficial</a>.</p><h2 id="Local-projeto-recomendado"><a href="#Local-projeto-recomendado" class="headerlink" title="Local (projeto) - recomendado"></a>Local (projeto) - recomendado</h2><p>Se quisermos utilizar o eslint apenas num projeto, podemos instalar ele localmente no projeto. Entre as vantagens, está o fato de podermos usar uma determinada versão com uma certa configuração e plugins específicos e de levarmos essa configuração (no <code>package.json</code>) junto com o projeto (que já estará corretamente configurado para uso por terceiros).</p><h3 id="Instalacao-1"><a href="#Instalacao-1" class="headerlink" title="Instalação"></a>Instalação</h3><ol><li>Situe-se na raiz do projeto npm: <code>$ cd ./projeto</code></li><li>Instale localmente o eslint &gt;&#x3D; 2: <code>$ npm install --save-dev eslint</code></li><li>Instale localmente o babel-eslint p&#x2F; o eslint &gt;&#x3D;2: <code>$ npm install --save-dev babel-eslint@next</code></li><li>Instale localmente o eslint-plugin-react: <code>$ npm install --save-dev eslint-plugin-react</code></li></ol><h3 id="Configuracao-1"><a href="#Configuracao-1" class="headerlink" title="Configuração"></a>Configuração</h3><ol><li>Situe-se na raiz do projeto npm: <code>$ cd ./projeto</code></li><li>Crie uma configuração inicial com: <code>$ eslint --init</code> (será criado no dir atual)</li><li>Edite o arquivo de acordo com suas preferências (ver site oficial por documentação ou exemplo comentado abaixo).</li></ol><p>Notas:</p><ul><li>Mesmo a instalação sendo local ao projeto, caso o arquivo de configuração não seja encontrado no dir do projeto, o linter tentará utilizar o arquivo de configuração localizado nos dirs acima ou em <code>~/</code> (se houver).</li></ul><h3 id="Desinstalacao"><a href="#Desinstalacao" class="headerlink" title="Desinstalação"></a>Desinstalação</h3><ol><li>Desinstale os módulos do projeto: <code>$ npm uninstall --save-dev eslint babel-eslint eslint-plugin-react</code></li><li>(OPCIONAL) Remova o arquivo de configuração do projeto: <code>$ rm ./projeto/.eslintrc*</code></li></ol><h3 id="Utilizacao-1"><a href="#Utilizacao-1" class="headerlink" title="Utilização"></a>Utilização</h3><p>A única diferença para a utilização do eslint instalado globalmente é que devemos apontar para seu executável dentro de seu dir em <code>node_modules</code>. Exemplo: <code>./node_modules/eslint/bin/eslint.js index.js</code></p><hr><h2 id="Notas"><a href="#Notas" class="headerlink" title="Notas"></a>Notas</h2><ul><li>A prioridade na busca por arquivos de configuração é:<ol><li>Dir local</li><li>Dirs acima no path</li><li><code>~/</code></li></ol></li><li>É recomendado possuir um arquivo de configuração básico em <code>~/</code>, com rules que sejam interessantes independente das particularidades de um determinado projeto.</li><li>O arquivo de configuração é simples. E podemos escolher se uma <em>rule</em> estará desligada (<code>&quot;off&quot;</code> ou <code>0</code>), emitindo aviso (<code>&quot;warn&quot;</code> ou <code>1</code>) ou emitindo erro (<code>&quot;error&quot;</code> ou <code>2</code>). Exemplo: <code>&quot;indent&quot;: [2, 4]</code> (ou <code>&quot;indent&quot;: [&quot;error&quot;, 4]</code>) emite error quando identação for !&#x3D; de 4 espaços.</li><li>Quando invocamos o eslint, as mensagens de aviso&#x2F;erro contém as regras que as dispararam. Assim fica fácil localizar e modificar regras que não estejam adequadas.<br>Exemplo:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7:9  error  Expected &#x27;===&#x27; and instead saw &#x27;==&#x27;                              eqeqeq</span><br></pre></td></tr></table></figure>Na linha 7, coluna 9 do arquivo analisado foi encontrado um <code>==</code> quando era esperado <code>===</code>. A regra que emitiu esse <em>erro</em> foi <code>eqeqeq</code>.</li><li>O <a href="https://github.com/babel/babel-eslint">babel-eslint</a> possui algumas <a href="https://github.com/babel/babel-eslint#known-issues">limitações descritas em sua página</a> que é bom considerar.</li><li>Há um <a href="(https://github.com/babel/babel-eslint/issues/267)">bug</a> no momento em que escrevo que o babel-eslint mais recente (5.0.0) não funciona com o eslint mais recente (2.3.0) e exige que instalemos o eslint 2.2.0.</li></ul><h2 id="Arquivo-de-configuracao-sample"><a href="#Arquivo-de-configuracao-sample" class="headerlink" title="Arquivo de configuração sample"></a>Arquivo de configuração sample</h2><p>Arquivo de configuração funcional comentado (<code>.eslintrc.js</code>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">parser</span>: <span class="string">&#x27;babel-eslint&#x27;</span>, <span class="comment">// parser que permite lintar todo o código suportado pelo babel</span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="number">7</span>,</span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&#x27;module&#x27;</span>, <span class="comment">// habilita suporte a ECMAScript modules</span></span><br><span class="line">    <span class="attr">ecmaFeatures</span>: &#123;</span><br><span class="line">      <span class="attr">impliedStrict</span>: <span class="literal">true</span>, <span class="comment">// todo código é considerado implicitamente &#x27;strict&#x27; (mesmo sem &#x27;use strict&#x27;).</span></span><br><span class="line">      <span class="attr">jsx</span>: <span class="literal">true</span>, <span class="comment">// suporte a JSX</span></span><br><span class="line">      <span class="attr">experimentalObjectRestSpread</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>, <span class="comment">// permite vars globais de browsers</span></span><br><span class="line">    <span class="attr">commonjs</span>: <span class="literal">true</span>, <span class="comment">// permite vars globais de commonjs (p/ browser code que usa browserify/webpack)</span></span><br><span class="line">    <span class="attr">embertest</span>: <span class="literal">true</span>, <span class="comment">// permite vars globais de embertest</span></span><br><span class="line">    <span class="attr">es6</span>: <span class="literal">true</span>, <span class="comment">// permite recursos do ES6</span></span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>, <span class="comment">// permite vars globais do node e seu escopo</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&#x27;react&#x27;</span>], <span class="comment">// habilita plugin `eslint-plugin-react` (deve ser instalado)</span></span><br><span class="line">  <span class="attr">rules</span>: &#123; <span class="comment">// all rules are disabled by default (veja &quot;eslint:recommended&quot; abaixo)</span></span><br><span class="line">    <span class="string">&#x27;block-scoped-var&#x27;</span>: <span class="number">2</span>, <span class="comment">// proíbe vars de serem usadas fora do bloco onde foram declaradas (emula estilo do C)</span></span><br><span class="line">    <span class="string">&#x27;comma-dangle&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;always-multiline&#x27;</span>], <span class="comment">// exige &#x27;,&#x27; em &#123;&#125;s e []s multi line e proíbe em single line</span></span><br><span class="line">    <span class="string">&#x27;dot-location&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;property&#x27;</span>], <span class="comment">// exige que newlines sejam antes do ponto numa *member expression* (ponto fica junto com propriedade).</span></span><br><span class="line">    <span class="attr">eqeqeq</span>: [<span class="number">2</span>, <span class="string">&#x27;smart&#x27;</span>], <span class="comment">// exige comparação estrita (===) salvo em alguns casos (http://eslint.org/docs/rules/eqeqeq)</span></span><br><span class="line">    <span class="attr">indent</span>: [<span class="number">2</span>, <span class="number">2</span>], <span class="comment">// exige indentação de 2 espaços</span></span><br><span class="line">    <span class="string">&#x27;linebreak-style&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;unix&#x27;</span>], <span class="comment">// proíbe quebras de linha do Windows</span></span><br><span class="line">    <span class="string">&#x27;no-else-return&#x27;</span>: <span class="number">2</span>, <span class="comment">// proíbe &#x27;else&#x27; desnecessario quando &#x27;if&#x27; já tem &#x27;return&#x27; (pq pode ficar fora do bloco)</span></span><br><span class="line">    <span class="string">&#x27;no-unused-vars&#x27;</span>: [<span class="number">2</span>, &#123; <span class="string">&#x27;vars&#x27;</span>: <span class="string">&#x27;all&#x27;</span>, <span class="string">&#x27;args&#x27;</span>: <span class="string">&#x27;none&#x27;</span> &#125;], <span class="comment">// exige que todas as vars sejam usadas, ignora (ñ) uso de argumentos</span></span><br><span class="line">    <span class="attr">quotes</span>: [<span class="number">2</span>, <span class="string">&#x27;single&#x27;</span>, <span class="string">&#x27;avoid-escape&#x27;</span>], <span class="comment">// exige  &#x27;&#x27; e não reclama de &quot;quotes &#x27;assim&#x27;&quot;</span></span><br><span class="line">    <span class="attr">semi</span>: [<span class="number">2</span>, <span class="string">&#x27;always&#x27;</span>], <span class="comment">// exige &#x27;;&#x27;</span></span><br><span class="line">    <span class="attr">strict</span>: [<span class="number">1</span>, <span class="string">&#x27;global&#x27;</span>], <span class="comment">// warn pedindo que todo código esteja no strict mode (declaração no escopo global, reclama de &#x27;use strict&#x27;s redundantes)</span></span><br><span class="line">    <span class="string">&#x27;vars-on-top&#x27;</span>: <span class="number">2</span>, <span class="comment">// exige que vars estejam declaradas no topo do escopo    </span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">extends</span>: [ <span class="comment">// extende conf. com a de outros arquivos (últimos tem primazia)</span></span><br><span class="line">    <span class="string">&#x27;eslint:recommended&#x27;</span>, <span class="comment">// habilita rules recomendadas (ver essas em &lt;http://eslint.org/docs/rules/&gt;)</span></span><br><span class="line">    <span class="string">&#x27;plugin:react/recommended&#x27;</span>, <span class="comment">// habilita rules recomendadas pelo plugin p/ boas práticas de React (inclusive &#x27;jsx-uses-vars&#x27; que evita vars JSX de serem incorretamente marcadas como ñ usadas)</span></span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Com-Atom"><a href="#Com-Atom" class="headerlink" title="Com Atom"></a>Com Atom</h2><p>Para utilizar o ESLint em conjunto com o editor <a href="https://atom.io/">Atom</a>, o pacote mais famoso é o <a href="https://atom.io/packages/linter-eslint">linter-eslint</a>.<br>Basta instalar o pacote <code>linter-eslint</code> desde o Atom.<br>O <code>linter-eslint</code> depende do pacote <code>linter</code> e irá instalar esse automaticamente caso necessário.</p><p>Caso você utilize o <a href="http://nuclide.io/">Nuclide</a> sobre o Atom, o mesmo utiliza uma solução alternativa ao pacote <code>linter</code>, chamada <a href="https://github.com/facebook/nuclide/tree/master/pkg/nuclide/diagnostics">nuclide-diagnostics</a>. Qualquer pacote (incluindo o <code>linter-eslint</code>) que funcione com o <code>linter</code> funciona com o <code>nuclide-diagnostics</code>, de modo que apenas um dos dois deve estar habilitado. Caso os dois estejam habilitados ao mesmo tempo, veremos uma UI duplicada para exibir dados do linter durante a utilização.</p><p>O <code>linter-eslint</code>, por padrão, tentará utilizar uma versão do <code>eslint</code> local ao seu projeto (vimos como instalar localmente acima). A versão local é buscada em <code>projeto/node_modules/eslint</code>. Se a versão local não for encontrada, será utilizada uma que vem com o pacote. Caso desejado, podemos via configuração espeficicar para o <code>linter-eslint</code> utilizar um <code>eslint</code> instalado globalmente.</p><p>Para utilizar plugins do ESLint, basta que estes estejam instalados localmente no seu projeto conjuntamente com o ESLint (também visto acima). A outra opção é instalar tanto o ESLint quanto seus plugins globalmente (também visto acima) e habilitar nas configurações do pacote <code>linter-eslint</code> (via interface) a opção <code>Use Global Eslint</code> para utilizar o <code>eslint</code> instalado globalmente.</p><p>A localização do arquivo de configuração do ESLint utilizado pelo <code>linter-eslint</code> segue as mesmas regras utilizadas normalmente pelo <code>eslint</code> (ver acima).</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="http://eslint.org/">ESlint</a><ul><li><a href="http://eslint.org/docs/user-guide/configuring">Documentation - ESLint - Pluggable JavaScript linter</a>: Configuração do ESLint</li><li><a href="http://eslint.org/docs/rules/">List of available rules - ESLint - Pluggable JavaScript linter</a>: Documentação sobre <em>rules</em> do ESLint</li></ul></li><li>parser <a href="https://github.com/babel/babel-eslint">babel-eslint</a></li><li>plugin <a href="https://github.com/yannickcr/eslint-plugin-react">ESLint-plugin-React</a></li></ul><p><strong>Obs</strong>: Versões utilizadas na confecção do post:</p><ul><li>eslint: 2.2.0</li><li>babel-eslint: 5.0.0</li><li>eslint-plugin-react: 4.2.1</li><li>atom: 1.5.3</li><li>linter-eslint: 7.0.0</li></ul>]]></content>
      
      
      <categories>
          
          <category> develop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> web </tag>
            
            <tag> ecmascript </tag>
            
            <tag> jsx </tag>
            
            <tag> atom </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Aventuras com Flow + Atom (JavaScript)</title>
      <link href="/2016/03/12/aventuras-com-flow-atom-javascript/"/>
      <url>/2016/03/12/aventuras-com-flow-atom-javascript/</url>
      
        <content type="html"><![CDATA[<p><a href="http://flowtype.org/">Flow</a> é um static type checker criado pelo Facebook que ajuda bastante no desenvolvimento JS :D. Mais informações no <a href="(http://flowtype.org/">site oficial</a>.<br>O Flow pode ser utilizado tanto como uma ferramenta CLI quanto integrado à IDEs. Veremos como usá-lo dentro do <a href="https://atom.io/">Atom</a>.</p><p>O post segue o formato “receita-de-bolo” e é destinado ao “eu-do-futuro-que-esqueceu-isso”. Mas pode ser útil para terceiros que sabem o que é um static type checker e conheçam JavaScript :D.</p><p><img src="/images/2016-03-12-aventuras-com-flow-atom-javascript/flow-hero-logo.png" alt="Logo do Flow" title="Flow"></p><span id="more"></span><p>O suporte ao Flow dentro do Atom é mais completo utilizando o pacote <a href="http://nuclide.io/">Nuclide</a> que é desenvolvido também pelo Facebook e visa oferecer um ótimo suporte às tecnologias da empresa (como React, react-native, flow, …). Portanto, instalaremos tanto o Flow quanto o Nuclide.</p><p>Nota: Atualmente o Flow não funciona em Windows. Apenas GNU&#x2F;Linux e Mac. O Nuclide funciona apenas parcialmente em Windows.</p><h2 id="Instalacao"><a href="#Instalacao" class="headerlink" title="Instalação"></a>Instalação</h2><ol><li>Instalar Flow:</li><li>Baixar o binário em <a href="http://flowtype.org/">http://flowtype.org/</a></li><li>Extrair o pacote para um dir desejado. Ex: <code>unzip ./path/flow-linux64-v0.22.1.zip</code>. Pronto! Será criado o dir <code>flow</code> com o binário <code>flow</code> dentro.</li><li>Basta agora criar um link do binário para <code>/usr/local/bin</code> ou de alguma outra forma inserir o binário no <code>$PATH</code> do <em>user</em> ou sistema.</li><li>(OPCIONAL) Instalar o Nuclide (apenas para uso no Atom):</li><li>Instale o pacote <code>nuclide</code> via interface do Atom.</li><li>(OPCIONAL) É recomendado desabilitar o pacote <code>linter</code> (caso esteja instalado), deixando o Nuclide utilizar sua solução própria (<a href="https://github.com/facebook/nuclide/tree/master/pkg/nuclide/diagnostics">nuclide-diagnostics</a>) e que é compatível com todos os plugins que dependem do <code>linter</code>.</li></ol><p>Nota: A instalação do <code>nuclide</code> pode ser objeto de alguns cuidados posteriores para uma experiência mais completa: <a href="http://nuclide.io/docs/editor/setup/">http://nuclide.io/docs/editor/setup/</a></p><h2 id="Utilizacao"><a href="#Utilizacao" class="headerlink" title="Utilização"></a>Utilização</h2><ul><li><p>Para utilizarmos o flow necessitamos que o projeto atenda dois requisitos:</p><ol><li>Possuir um arquivo de configuração do flow (<code>.flowconfig</code>).</li></ol><p>  O mesmo pode ser criado sem conteúdo (<code>$ touch ./projeto/.flowconfig</code>) ou através do comando “<code>$ flow init</code>“ que criará no dir em que for invocado um arquivo com as seções básicas de configuração do flow vazias.</p><p>  Ao ser invocado, o flow irá buscar pelo <code>.flowconfig</code> no dir em que for invocado, caso não encontre, tentará nos dirs pais.<br>2. Somente serão checados os arquivos JavaScript que possuam o comentário “<code>// @flow</code>“ no <strong>topo do arquivo</strong>. Isso permite utilizarmos o flow de forma incremental em projetos.</p></li><li><p>Para utilizar o flow via prompt, basta invocarmos no dir do projeto: <code>$ flow</code>. Se desejarmos um arquivo em específico: <code>$ flow arquivo.js</code>. Mais informações na <a href="http://flowtype.org/docs/cli.html#_">documentação oficial</a>.</p></li><li><p>Para utilizar o flow via Atom, tendo o projeto atendido as 2 necessidades elencadas acima, basta ter instalado o Nuclide.</p></li></ul><h2 id="Configuracao"><a href="#Configuracao" class="headerlink" title="Configuração"></a>Configuração</h2><p>Saber configurar o <code>.flowconfig</code> é essencial para que o flow funcione de forma rápida e sem jogar uma avalanche de alertas caso suas dependências também sejam passíveis de análise pela ferramenta.</p><p>Em meu caso, ao desenvolver utilizando o react-native houve sérios problemas de performance pois o <code>.flowconfig</code> oferecido varria todas as dependências do projeto. A solução foi ignorar os arquivos existentes em <code>projeto/node_modules</code> e adicionar interfaces para que o flow não reclamasse dos módulos importados de <code>node_modules</code> em meu código (e que o mesmo não estava apto a encontrar pois eu forçava que fossem ignorados).</p><p>A configuração do <code>.flowconfig</code> foi feita da seguinte forma:</p><ul><li>Na seção <code>ignore</code> foi adicionado o dir <code>node_modules</code>:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ignore]</span><br><span class="line"></span><br><span class="line">.*/node_modules/*</span><br></pre></td></tr></table></figure><ul><li>Na seção <code>libs</code> foi apontado o dir contendo as declarações de interfaces para módulos que o flow não irá encontrar (pq são códigos de terceiros localizados em <code>node_modules</code> que optamos por ignorar):</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[libs]</span><br><span class="line">flow-interfaces</span><br></pre></td></tr></table></figure><p>No dir <code>projeto/flow-interfaces</code> adicionamos o arquivo <code>react-native.js</code> com interface para o módulo <code>react-native</code>. O arquivo ficou assim:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">declare module &quot;react-native&quot; &#123;</span><br><span class="line">  declare var AppRegistry: any;</span><br><span class="line">  declare var Component: any;</span><br><span class="line">  declare var StyleSheet: any;</span><br><span class="line">  declare var Text: any;</span><br><span class="line">  declare var View: any;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Essa é só uma passada superficial pelo <code>.flowconfig</code>, mais informações sobre o mesmo na <a href="http://flowtype.org/docs/advanced-configuration.html#_">documentação oficial</a> e, mais especificamente, como lidar com código de terceiros <a href="http://flowtype.org/docs/third-party.html#_">aqui</a>.</p><p>Ps: Atenção que se o <code>.flowconfig</code> possuir a sessão <code>[version]</code>, a versão do flow deve ser atendida, caso contrário o mesmo não será executado.</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="http://nuclide.io/">Nuclide</a><ul><li><a href="http://nuclide.io/docs/languages/flow/">Nuclide | Flow </a>: Detalhes sobre a instalação e os recursos oferecidos pela combinação Nuclide + Flow.</li></ul></li><li><a href="http://flowtype.org/">Flow</a><ul><li><a href="http://flowtype.org/docs/troubleshooting.html">Flow | Troubleshooting</a>: Problemas comuns encontrados ao usar o Flow e como resolvê-los.</li></ul></li></ul><p><strong>Obs</strong>: Versões utilizadas na confecção do post:</p><ul><li>flow: 0.22.1</li><li>nuclide: 0.124.0</li><li>atom: 1.5.3</li></ul>]]></content>
      
      
      <categories>
          
          <category> develop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> web </tag>
            
            <tag> ecmascript </tag>
            
            <tag> jsx </tag>
            
            <tag> atom </tag>
            
            <tag> flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>screenFetch: Info do sistema em ASCII e com estilo</title>
      <link href="/2016/01/30/screenfetch-info-do-sistema-em-ascii-e-com-estilo/"/>
      <url>/2016/01/30/screenfetch-info-do-sistema-em-ascii-e-com-estilo/</url>
      
        <content type="html"><![CDATA[<p>Dica rápida.</p><p>O <a href="https://github.com/KittyKatt/screenFetch">screenFetch</a> é um pequeno bash script (software livre, GPLv3) que serve para printar no terminal um belo logo da tua distro junto com informações do sistema. Veja abaixo o output no Fedora que atualmente utilizo:</p><p><img src="/images/2016-01-30-screenfetch-info-do-sistema-em-ascii-e-com-estilo/screenfetch-fedora-23.png" alt="screenFetch de uma máquina Fedora 23" title="screenFetch de uma máquina Fedora 23"></p><p>É um daqueles scripts que todo mundo conhece, menos tu, e achei interessante divulgar para algum desavisado :D</p><span id="more"></span><p>Para instalar no Debian&#x2F;Ubuntu:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install screenfetch</span><br></pre></td></tr></table></figure><p>Para instalar no Fedora:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnf install screenfetch</span><br></pre></td></tr></table></figure><p>Para executá-lo:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screenfetch</span><br></pre></td></tr></table></figure><p>Manual do screenFetch:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man screenfetch</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> glamour </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Habilitando TRIM sobre LVM sobre LUKS num SSD</title>
      <link href="/2016/01/25/habilitando-trim-sobre-lvm-sobre-luks-num-ssd/"/>
      <url>/2016/01/25/habilitando-trim-sobre-lvm-sobre-luks-num-ssd/</url>
      
        <content type="html"><![CDATA[<p>Habilitar TRIM em sistemas usando LUKS não é tão fácil quanto parece pois o TRIM deve ser habilitado em todas as camadas intermediárias entre o SSD e o filesystem. Fiz abaixo uma receita para uso pessoal e que funciona para Debian Jessie e para Fedora 23. <strong>No caso do Fedora</strong>, os passos 2, 5 e 6 são <strong>diferentes</strong> e estão listados logo abaixo em <strong>seção específica</strong>.</p><p><img src="/images/2016-01-25-habilitando-trim-sobre-lvm-sobre-luks-num-ssd/matroska-luks-lvm-trim.png" alt="Imagem de bonecas matroskas" title="Matroska c&#x2F; TRIM em LVM sobre LUKS"></p><span id="more"></span><ul><li><p>Cenário:</p><ul><li>SSD com container criptografado LUKS (dm-crypt).</li><li>dentro do blockdevice criptografado, 1 LVM physical volume com 1 volume group contendo 2 logical volumes.</li><li>1 lv contém uma partição ext4 (root), o outro contém uma partição swap.</li></ul></li><li><p>Aviso 1: Como TRIM essencialmente torna claro quais blocos no drive estão em uso e quais não, TRIM é desabilitado por default na camada LUKS. Habilitar TRIM irá vazar um pouco de informação (quantos bytes são usados por sua partição encriptada) e não deveria ser usado em cenário histéricos (a CIA atrás de você).</p></li><li><p>Aviso 2: O TRIM deve ser aplicado em todas as camadas intermediárias entre o SSD e o filesystem (em nosso caso: dm-crypt, lvm, filesystem).</p></li></ul><h2 id="Passo-a-passo"><a href="#Passo-a-passo" class="headerlink" title="Passo-a-passo"></a>Passo-a-passo</h2><ol><li><strong>Camada dm-crypt:</strong><br>  (<em>Esse passo é necessário apenas para o volume LUKS contendo o filesystem root, caso não seja o caso … ignore</em>. <a href="https://wiki.archlinux.org/index.php/Solid_State_Drives#Enable_TRIM_for_dm-crypt">Fonte</a>)</li></ol><p>  Em <code>/etc/default/grub</code>, adicione p&#x2F; as linhas <code>GRUB_CMDLINE_LINUX_DEFAULT</code> e <code>GRUB_CMDLINE_LINUX</code>:<br>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptdevice=/dev/sdaX:vg_name:discard</span><br></pre></td></tr></table></figure></p><p>  Substitua <code>/dev/sdaX</code> pela partição contendo seu volume LUKS e <code>vg_name</code> pelo nome de seu LVM volume group (comando <code>vgscan</code> informa os LVM volume group existentes).</p><p>  Ex:<br>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet cryptdevice=UUID=989595eb-5327-4c09-adc3-63c4a0c16541:dread-note-vg:discard&quot;</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">&quot;cryptdevice=UUID=989595eb-5327-4c09-adc3-63c4a0c16541:dread-note-vg:discard&quot;</span></span><br></pre></td></tr></table></figure></p><ol start="2"><li><strong>Camada dm-crypt:</strong><br>  Atualize o grub:</li></ol>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># update-grub</span></span><br></pre></td></tr></table></figure><ol start="3"><li><strong>Camada dm-crypt:</strong><br>  Atualize o arquivo <code>/etc/crypttab</code> adicionando <code>,discard</code> p&#x2F; o quarto campo de cada partição encriptada.<br>  Ex:</li></ol>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sda5_crypt UUID=989595eb-5327-4c09-adc3-63c4a0c16541 none luks,discard</span><br></pre></td></tr></table></figure><ol start="4"><li><strong>Camada LVM:</strong><br>  Em <code>/etc/lvm/lvm.conf</code> habilite o TRIM substituindo <code>0</code> por <code>1</code> na linha:</li></ol>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">issue_discards = 1</span><br></pre></td></tr></table></figure><ol start="5"><li><strong>Camada LVM || dm-crypt:</strong><br>  Atualize seu initramfs (necessário para mudanças no LVM e&#x2F;ou dm-crypt):</li></ol>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkinitramfs -o /boot/initrd.img-`uname -r`.</span><br></pre></td></tr></table></figure><ol start="6"><li><strong>Camada Filesystem:</strong><br>  É o suficiente executar <code>fstrim</code> semanalmente. Portanto não adicione a opção em <code>/etc/fstab</code>, mas crie o seguinte script para ser executado semanalmente (arquivo <code>/etc/cron.weekly/fstrim</code>):</li></ol>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/sh</span></span><br><span class="line"><span class="keyword">for</span> mount <span class="keyword">in</span> / /boot /data; <span class="keyword">do</span></span><br><span class="line">  fstrim -v <span class="variable">$mount</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>  O arquivo <code>/etc/cron.weekly/fstrim</code> deve possuir permissão de execução:<br>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chmod +x /etc/cron.weekly/fstrim</span></span><br></pre></td></tr></table></figure></p><p>  Os pontos de montagem (<code>/</code>, <code>/boot</code>, <code>/data</code>) devem ser ajustados à sua realidade. Você receberá um e-mail semanal da quantidade de espaço “<em>trimada</em>“ (<em>trim</em> &#x3D;&#x3D; aparar&#x2F;cortar), se preferir não receber … basta remover o argumento <code>-v</code> do <code>fstrim</code>.</p><p>  Para testar se o script está ok, execute os scripts do diretório <code>/etc/cron.weekly</code> e veja se ele é executado: <code># run-parts /etc/cron.weekly -v</code>. O parâmetro <code>-v</code> informa o script sendo executado. Exemplo:<br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@dread-note:~# run-parts /etc/cron.weekly -v</span><br><span class="line">run-parts: executing /etc/cron.weekly/0anacron</span><br><span class="line">run-parts: executing /etc/cron.weekly/fstrim</span><br><span class="line">/: 81,7 GiB (87722549248 bytes) descartado</span><br><span class="line">/boot: 200,9 MiB (210626560 bytes) descartado</span><br><span class="line">run-parts: executing /etc/cron.weekly/man-db</span><br></pre></td></tr></table></figure></p><p>  Por meio do log <code>/var/log/syslog</code> podemos verificar a execução dos jobs semanais (procure pela palavra <code>weekly</code> no log). Exemplo:<br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Feb 17 10:43:23 dread-note anacron[884]: Job `cron.weekly&#x27; started</span><br><span class="line">Feb 17 10:43:23 dread-note anacron[2559]: Updated timestamp for job `cron.weekly&#x27; to 2015-02-17</span><br><span class="line">Feb 17 10:43:24 dread-note anacron[884]: Job `cron.weekly&#x27; terminated</span><br><span class="line">Feb 17 10:43:24 dread-note anacron[884]: Normal exit (3 jobs run)</span><br></pre></td></tr></table></figure></p><pre><code>- **Obs**: Em 09/03/2015 existia um bug em que o cron.weekly podia não ser executado, em certas circunstâncias, pelo anacron no Debian Jessie - que era *testing* - ([#744753 - anacron: Anacron not triggered when system resumes under systemd - Debian Bug report logs](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=744753)). Não sei se está corrigido atualmente no Jessie como *stable*. Mas sempre podemos invocar manualmente ... ou utilizar outros esquemas para rodar de tempos em tempos.</code></pre><ol start="7"><li><p>Para verificar se funcionou, reinicie e teste:</p><ul><li><p>Ao executar <code># dmsetup table</code> haverá <code>allow_discards</code> no final da linha correspondente ao seu block device c&#x2F; LUKS.<br> Exemplo: <code>sdaX_crypt: 0 929880064 crypt aes-xts-plain64 0...0 0 8:X 4096 1 allow_discards</code></p></li><li><p>Ao executar <code># fstrim -v /</code>, não haverá a reclamação <code>fstrim: /: não há suporte a operação de descarte</code>, e o fstrim concluirá seu trabalho com sucesso: <code>/: 83,2 GiB (89379041280 bytes) descartado</code>.</p></li></ul></li></ol><h3 id="Modificacoes-para-Fedora-23"><a href="#Modificacoes-para-Fedora-23" class="headerlink" title="Modificações para Fedora 23"></a>Modificações para Fedora 23</h3><p>Substitua os passos 2, 5 e 6 acima por esses:</p><ul><li>Passo 2.<br>Apenas execute: <code># grub2-mkconfig -o /boot/grub2/grub.cfg</code>.</li><li>Passo 5.<br>Apenas execute: <code># dracut -f</code>.</li><li>Passo 6.<br>Apenas execute <code># systemctl enable fstrim.timer</code> para automaticamente executar o TRIM semanalmente em todas as unidades montadas que suportam TRIM.</li></ul><p>Ps: Para visualizar os logs do service <code>fstrim.timer</code>, execute: <code>journalctl -u fstrim.timer</code></p><h2 id="Bonus"><a href="#Bonus" class="headerlink" title="Bônus"></a>Bônus</h2><ul><li>Partições swap:<ul><li>Podem utilizar TRIM. Para tanto, garanta que o TRIM está ativado nos níveis inferiores (dm-crypt e LVM) e ative no filesystem da swap utilizando em sua linha do <code>/etc/fstab</code> a opção <code>discard</code>. Fonte: <a href="https://wiki.archlinux.org/index.php/Solid_State_Drives#Swap_Space_on_SSDs">Swap Space os SSDs - Solid State Drives - ArchWiki</a>. Exemplo: <code>/dev/mapper/dread--note--vg-swap_1 none            swap    sw,discard              0       0</code></li><li>Alguns não habilitam o trim na partição swap, simplesmente evitam ao máximo a escrita na mesma. Como fazer: <a href="https://wiki.archlinux.org/index.php/Swap#Swappiness">https://wiki.archlinux.org/index.php/Swap#Swappiness</a></li><li>Prefiro utilizar swap com TRIM, e caso o sistema realmente utilize a swap no cotidiano … o tweak para reduzir o uso da swap vale a pena <em>tb</em>.</li></ul></li></ul><h2 id="Teoria"><a href="#Teoria" class="headerlink" title="Teoria"></a>Teoria</h2><ul><li><p><code>fstrim</code>, segundo a descrição do manual (<code>$ man fstrim</code>), <em>discard unused blocks on a mounted filesystem</em>. Por padrão, serão descartados (<em>trim</em> &#x3D;&#x3D; aparar&#x2F;cortar) <em>todos</em> os blocos que não estão em uso pelo filesystem.</p></li><li><p>A opção por executar o <code>fstrim</code> semanalmente é porque executar <code>fstrim</code> frequentemente ou mesmo utilizar <code>mount -o discard</code> (ou no <code>/etc/fstab</code>) pode afetar negativamente a performance (e inclusive a vida útil no caso de SSDs de baixa qualidade).</p></li><li><p>Leia <strong>obrigatoriamente</strong> uma explicação suscinta e didática sobre o tema em <a href="http://blog.neutrino.es/2013/howto-properly-activate-trim-for-your-ssd-on-linux-fstrim-lvm-and-dmcrypt/">How to properly activate TRIM for your SSD on Linux: fstrim, lvm and dm-crypt | synaptic fault</a>.</p></li></ul><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="http://ward.vandewege.net/blog/2014/12/debian-jessie-trim-on-lvm-on-luks-on-ssd/">Debian Jessie: TRIM on LVM on LUKS on SSD | Off you go… into the purple yonder!</a>: Passo-a-passo de como configurar TRIM no Debian Jessie em que foi inspirado o presente post.</li><li><a href="https://wiki.archlinux.org/index.php/Solid_State_Drives#Enable_TRIM_for_dm-crypt">Solid State Drives - ArchWiki</a>: Informações sobre SSD da ArchWiki, abordando inclusive TRIM em diferentes cenários.</li><li><a href="https://wiki.archlinux.org/index.php/Dm-crypt/Specialties#Discard.2FTRIM_support_for_solid_state_drives_.28SSD.29">dm-crypt&#x2F;Specialties - ArchWiki</a>: Sobre a negativa dos desenvolvedores em habilitar TRIM por default em devices dm-crypt (possibilita obter mais facilmente alguns dados sobre setores livres, nada grave).</li><li><a href="http://blog.neutrino.es/2013/howto-properly-activate-trim-for-your-ssd-on-linux-fstrim-lvm-and-dmcrypt/">How to properly activate TRIM for your SSD on Linux: fstrim, lvm and dm-crypt | synaptic fault</a>: Melhor explicação didática sobre a teoria e a prática de como funciona o TRIM em SSDs (e o problema que demanda esses cuidados) e como habilitá-lo através das diversas camadas que um filesystem pode estar situado em sistemas GNU&#x2F;Linux. (<strong>Leitura essencial</strong>, apesar de no caso de sistemas Debian ser mais prático seguir o passo-a-passo brainless <em>Debian Jessie: TRIM on LVM on LUKS on SSD</em>)</li><li><a href="https://ask.fedoraproject.org/en/question/79296/what-is-the-correct-way-to-setup-the-fstrim-service-on-an-encrypted-ssd-in-fedora-23/">What is the correct way to setup the fstrim service on an encrypted SSD in Fedora 23? - Ask Fedora: Community Knowledge Base and Support Forum</a>: Link com as peculiaridades do Fedora 23.</li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debian </tag>
            
            <tag> lvm </tag>
            
            <tag> particionamento </tag>
            
            <tag> trim </tag>
            
            <tag> ssd </tag>
            
            <tag> luks </tag>
            
            <tag> fedora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NVM: Aprenda a gerenciar versões do Node.js em 3 min</title>
      <link href="/2015/10/08/nvm-aprenda-a-gerenciar-versoes-do-node-js-em-3min/"/>
      <url>/2015/10/08/nvm-aprenda-a-gerenciar-versoes-do-node-js-em-3min/</url>
      
        <content type="html"><![CDATA[<p>O <a href="https://github.com/creationix/nvm">NVM (Node Version Manager)</a> é um bash script que permite gerenciar facilmente múltiplas versões do <a href="https://nodejs.org/">Node.js</a>.</p><p>Por meio dele não ficamos mais amarrados à versões antigas da distribuição GNU&#x2F;Linux utilizada, nem precisamos ficar baixando e compilando na mão.</p><p>Para trocar de uma versão para outra basta um comando …</p><p>Vejamos um passo-a-passo básico e rápido para a versão <code>0.28.0</code> do NVM:</p><p><img src="/images/2015-10-08-nvm-aprenda-a-gerenciar-versoes-do-node-js-em-3min/nodejs.png" alt="Logo do Node.js" title="Node.js"></p><span id="more"></span><h2 id="Instalacao"><a href="#Instalacao" class="headerlink" title="Instalação"></a>Instalação</h2><ul><li>Requisitos no Debian&#x2F;Ubuntu: pacotes <code>build-essential</code> e <code>libssl-dev</code>.</li><li>Como usuário normal:</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.28.0/install.sh | bash</span><br></pre></td></tr></table></figure><p>O que esse script faz?</p><blockquote><p>The script clones the nvm repository to <del>&#x2F;.nvm and adds the source line to your profile (</del>&#x2F;.bash_profile, ~&#x2F;.zshrc or ~&#x2F;.profile).</p></blockquote><h2 id="Uso"><a href="#Uso" class="headerlink" title="Uso"></a>Uso</h2><ul><li>Para baixar, compilar e instalar uma versão específica do node.js:</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 0.10</span><br></pre></td></tr></table></figure><ul><li>Para definir a versão <em>default</em> do usuário:</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use 0.10</span><br></pre></td></tr></table></figure><ul><li>Para listar as versões instaladas:</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><ul><li>Para listar as versões disponíves para instalar:</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm ls-remote</span><br></pre></td></tr></table></figure><ul><li>Para desinstalar uma versão específica:</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm uninstall 0.10</span><br></pre></td></tr></table></figure><p>Obs: Ao invés da versão (ex: <code>0.10</code>) podemos usar aliases como <code>stable</code> e <code>unstable</code>:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install stable</span><br></pre></td></tr></table></figure><p>Para usar a versão do nodejs <strong>original</strong> de sua distribuição, acesse-a com o alias <code>system</code>:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install system</span><br></pre></td></tr></table></figure><p><strong>Bônus</strong>: Para baixar, compilar e instalar uma versão específica <strong>e</strong>, de quebra, obter todos os pacotes npm instalados de uma versão anteriormente instalada:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install stable --reinstall-packages-from=system</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> develop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> web </tag>
            
            <tag> ecmascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Como configurar um cliente No-IP no Raspberry Pi</title>
      <link href="/2015/10/06/como-configurar-um-cliente-no-ip-no-raspberry-pi/"/>
      <url>/2015/10/06/como-configurar-um-cliente-no-ip-no-raspberry-pi/</url>
      
        <content type="html"><![CDATA[<p>Acessar remotamente o Raspberry Pi de casa é uma mão na roda para muita coisa!<br>Com isso podemos usar o rasp como servidor de torrents gerenciado remotamente, servidor de arquivos, rádio web, de páginas, etc.</p><p>Veremos aqui como acessar remotamente o rasp mesmo com IP dinâmico, utilizando-se do serviço gratuito <a href="https://www.noip.com/">no-ip.com</a>.<br>(Ah, um pouco de conhecimento prévio de GNU&#x2F;Linux e redes é essencial - ou talvez uma busca complementar no Google).</p><p><img src="/images/2015-10-06-como-configurar-um-cliente-no-ip-no-raspberry-pi/raspberry.png" alt="Imagem da fruta raspberry" title="Raspberry"></p><span id="more"></span><h2 id="Crie-um-dominio-no-No-IP"><a href="#Crie-um-dominio-no-No-IP" class="headerlink" title="Crie um domínio no No-IP"></a>Crie um <em>domínio</em> no No-IP</h2><p>Primeiramente, deve-se criar uma conta em <a href="https://www.noip.com/">no-ip.com</a> e adicionar o redirecionamento de um domínio para seu ip dinâmico.</p><p>Logado no site do <a href="https://www.noip.com/">no-ip.com</a>, clique em <a href="https://www.noip.com/members/dns/">Hosts&#x2F;Redirects</a> e <a href="https://www.noip.com/members/dns/host.php">Add A Host</a>. Agora configure o domínio a ser utilizado para o ip dinâmico:</p><ul><li>Hostname: Informe o domínio a ser utilizado para acessar sua máquina na internet.</li><li>Host Type: Se não souber, deixe em <em>DNS Host (A)</em></li><li>IP Address: Seu IP atual (o rasp se encarregará de atualizar automaticamente depois)</li></ul><h2 id="Instalacao-do-cliente-No-IP-no-Raspberry"><a href="#Instalacao-do-cliente-No-IP-no-Raspberry" class="headerlink" title="Instalação do cliente No-IP no Raspberry"></a>Instalação do cliente No-IP no Raspberry</h2><p>Com relação à instalação e configuração do cliente No-IP no Raspberry:</p><ol><li>Instale os pacotes para compilar e etc.:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install build-essential</span><br></pre></td></tr></table></figure><ol start="2"><li>Crie um diretório para armazenar o <em>source</em> do cliente:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/localSrc</span><br></pre></td></tr></table></figure><ol start="3"><li>Navegue para o novo diretório:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/localSrc</span><br></pre></td></tr></table></figure><ol start="4"><li>Baixe o software do No-IP:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://www.no-ip.com/client/linux/noip-duc-linux.tar.gz</span><br></pre></td></tr></table></figure><ol start="5"><li>Extraia o código-fonte do software do tar.gz:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar zxvf noip-duc-linux.tar.gz</span><br></pre></td></tr></table></figure><ol start="6"><li>Entre no dir do código-fonte do software (no momento é a v. 2.1.9-1):</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd noip-2.1.9-1/</span><br></pre></td></tr></table></figure><ol start="7"><li>Compile o código-fonte do software:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make</span><br></pre></td></tr></table></figure><ol start="8"><li>Instale:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make install</span><br></pre></td></tr></table></figure><p>  O instalador pedirá:</p><ul><li>Login</li><li>Senha</li><li>Se houver + de 1 domínio registrado, ele pedirá se é p&#x2F; atualizar todos (na dúvida, responda <code>y</code>)</li><li>Intervalo de atualização: o default (30m) está bem (só aperte enter)</li><li>Para o resto responda <code>N</code> (a não ser que saiba o que está fazendo)</li></ul><ol start="9"><li>Execução:<br>  (Ao executar, o domínio do no-ip é <em>linkado</em> com o IP atual)</li></ol><ul><li>Para executar manualmente:<br>  <code>$ sudo /usr/local/bin/noip2</code></li><li>Para executar no boot (<strong>ideal</strong> pq automatiza o processo):<br>  Adicione a linha: <code>/usr/local/bin/noip2</code> acima da linha <code>exit 0</code> de <code>/etc/rc.local</code>.<br>  O arquico <code>/etc/rc.local</code> ficará +- assim:</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#OUTRAS LINHAS</span><br><span class="line">/usr/local/bin/noip2</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><p>  Ps: Pode ser usado o editor nano através de <code>sudo nano /etc/rc.local</code></p><ol start="10"><li>Para verificar se está rodando corretamente:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/local/bin/noip2 -S</span><br></pre></td></tr></table></figure><h2 id="Extras"><a href="#Extras" class="headerlink" title="Extras"></a>Extras</h2><ul><li>O post foi baseado nesse <a href="http://www.awesomeweirdness.com/projects-diy/raspberrypi/setup-noip-client-raspberry-pi/">outro post</a>.</li><li>Não tenho condição de ajudar a debugar eventuais problemas, etc. Aconselho fórums e pesquisa no Google (que nunca faz mal).</li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> raspberry </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Meu mapa lunar caseiro</title>
      <link href="/2015/09/06/meu-mapa-lunar-caseiro/"/>
      <url>/2015/09/06/meu-mapa-lunar-caseiro/</url>
      
        <content type="html"><![CDATA[<p>Aproveitei a foto da “Superlua” (aka Lua Cheia no perigeu) do fim de semana (29&#x2F;08&#x2F;2015) para fazer uma espécie de mapa lunar.</p><p><img src="/images/2015-09-06-meu-mapa-lunar-caseiro/IMG_8183_little.jpg" alt="Imagem da superlua de 29&#x2F;08&#x2F;2015" title="Superlua de 29&#x2F;08&#x2F;2015"></p><span id="more"></span><h2 id="Fotos"><a href="#Fotos" class="headerlink" title="Fotos:"></a>Fotos:</h2><ul><li><a href="/images/2015-09-06-meu-mapa-lunar-caseiro/IMG_8183_anotada_contrastada.jpg">Mapa lunar em alta-definição</a></li><li><a href="/images/2015-09-06-meu-mapa-lunar-caseiro/IMG_8183.jpg">Foto original (de 29&#x2F;08&#x2F;2015)</a></li></ul><p>Como a face da Lua voltada para a gente é sempre a mesma … esse é o mapa da face visível da Lua :D</p><p>Tem:</p><ul><li>a localização do Norte&#x2F;Sul&#x2F;Leste&#x2F;Oeste.</li><li><span style="color: blue;"><strong>em azul</strong></span>, <em>crateras famosas</em>.</li><li><span style="color: DarkGoldenRod;"><strong>em amarelo</strong></span>, os <em>mares lunares</em> (as regiões escuras), na real, planícies que foram inundadas por lava após o impacto de outros corpos celestes.</li></ul><p>Obs: modifiquei o constraste e brilho para ficar mais fácil de ver o relevo lunar.</p><p>Dados da foto:</p><ul><li>Canon EOS Rebel T3 + Telescópio Skywatcher Maksutov 90mm</li><li>Tempo de exposição: 1&#x2F;80s</li><li>Sensibilidade ISO: 100</li><li>30&#x2F;08&#x2F;2015, 03:24:21</li><li>Zoom: +-47x.</li></ul><h2 id="Geografia"><a href="#Geografia" class="headerlink" title="Geografia"></a>Geografia</h2><p>Segue referências para cada elemento apontado no mapa:</p><h3 id="Mares"><a href="#Mares" class="headerlink" title="Mares"></a>Mares</h3><ul><li><a href="https://pt.wikipedia.org/wiki/Mare_Crisium">Mare Crisium</a>: “Mar das Crises”. Diâmetro: 555 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Tranquillitatis">Mare Tranquillitatis</a>: “Mar da Tranquilidade” é uma região lunar (…) onde pousou o Módulo Lunar Eagle, da Apollo 11, em 20 de julho de 1969, na primeira missão espacial a pousar na Lua. Diâmetro: 873km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Fecunditatis">Mare Fecunditatis</a>: “Mar da Fecundidade”. Diâmetro: 840 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Nectaris">Mare Nectaris</a>: “Mar de Néctar”. Diâmetro: 339.39 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Serenitatis">Mare Serenitatis</a>: “Mar da Serenidade”. A característica mais evidente desse mar é a cratera Posidonius, localizada no lado Nordeste da sua borda. Diâmetro: 674km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Frigoris">Mare Frigoris</a>: “Mar do Frio” é (…) localizado no extremo Norte da Lua, na borda externa da bacia Procellarum logo ao norte do Mare Imbrium se estendendo a Leste em direção ao Norte do Mare Serenitatis. Diâmetro: 1.446 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Imbrium">Mare Imbrium</a>: “Mar de Chuvas” é o segundo <em>mare</em> em tamanho do satélite, atrás apenas de Oceanus Procellarum, e o maior deles associado a uma bacia de impacto. Em 17 de novembro de 1970, a sonda soviética Luna 17 pousou em Imbrium, (…). A sonda espacial carregava o rover Lunokhod 1, o primeiro rover a andar na Lua. (…) Em julho de 1971, a Apollo 15 pousou no sudoeste de Imbrium, próximo aos Montes Apenninus. Os astronautas David Scott e James Irwin passaram três dias na superfície da Lua, incluindo 18 ½ horas fora do módulo lunar em atividades extra-veiculares (AEV). A tripulação explorou a área usando o primeiro jipe lunar e retornando à Terra com 77 kg de material da superfície lunar. Sem autorização prévia da NASA, eles também deixaram no solo de Imbrium uma pequena escultura de 8,5 cm, O Astronauta Caído, junto a uma placa com o nome dos astronautas e cosmonautas que até ali haviam perdido a vida durante a exploração espacial. Diâmetro: 1145 km.</li><li><a href="https://pt.wikipedia.org/wiki/Oceanus_Procellarum">Oceanus Procellarum</a>: “Oceano das Tormentas” é o maior dos mares lunares e se estende por 2.500 km de comprimento, no eixo norte-sul da face da Lua, cobrindo mais de 4.000.000 km². (…) Foi no Mar das Tormentas que alunissou a Apollo 12, a segunda missão tripulada a pousar na Lua. Diâmetro: 2,592 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Nubium">Mare Nubium</a>: “Mar das Nuvens”. Diâmetro: 715 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Humorum">Mare Humorum</a>: “Mar da Umidade”. Diâmetro: 389 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Cognitum">Mare Cognitum</a>: “Mar que se tornou conhecido” é assim chamado por ser um local onde diversas sondas espaciais lançadas à Lua ali alunissaram e foi o local de pouso da Apollo 12. Diâmetro: 350 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Insularum">Mare Insularum</a>: “Mar de Ilhas”. Diâmetro: 513 km.</li><li><a href="https://pt.wikipedia.org/wiki/Mare_Vaporum">Mare Vaporum</a>: “Mar de Vapor” é um mare lunar ao sul do Mare Serenitatis. O mare encontra-se em uma bacia ou cratera que está dentro do Oceanus Procellarum. Diâmetro: 245 km.</li></ul><h3 id="Crateras"><a href="#Crateras" class="headerlink" title="Crateras"></a>Crateras</h3><ul><li><a href="https://es.wikipedia.org/wiki/Plat%C3%B3n_%28cr%C3%A1ter%29">Plato</a>: Plato é uma cratera de impacto. É um dos elementos lunares <em>mais populares</em> (impressiona o visual) e visível com qualquer tipo de telescópio. Diâmetro: 109km, Profundidade: 1km.</li><li><a href="https://pt.wikipedia.org/wiki/Copernicus_%28cratera%29">Copernicus</a>: Copernicus é uma grande cratera de impacto (…) situada na região chamada de Oceanus Procellarum, na Lua. (…) é típica do período chamado de Copérnico, no qual estas crateras, ao serem criadas, possuíam um proeminente sistema de raios marcando a superfície ao redor, consistindo de fina ejecta expelida quando de sua formação sob o impacto de um objeto celeste. A cratera Copernicus é visível da Terra através de binóculos (…) Devido em grande parte a sua formação recente, o chão da cratera não foi inundado de lava. Diâmetro: 93km, Profundidade: 3.8km.</li><li><a href="https://en.wikipedia.org/wiki/Aristarchus_%28crater%29">Aristarchus</a>: Aristarco é uma grande cratera de impacto. É considerado a <strong>mais brilhante das grandes formações lunares</strong>, seu albedo é praticamente o dobro do que a maioria dos outros acidentes geográficos lunares. A cratera é suficientemente brilhante para ser vista a olho nú, e é imponente quando observada através de um grande telescópio. É também fácil de identificar quando a maioria da superfície lunar é iluminada por reflexão da luz oriunda da Terra. Diâmetro: 40km, Profundidade: 3.7km.</li><li><a href="https://en.wikipedia.org/wiki/Kepler_%28lunar_crater%29">Kepler</a>: Diâmetro: 32 km, Profundidade: 2.6 km.</li><li><a href="https://en.wikipedia.org/wiki/Grimaldi_%28crater%29">Grimaldi</a>: O assoalho é a característica mais notável dessa cratera, formando uma superfície lisa, relativamente suave e com um albedo particularmente baixo. Sua escuridão contrasta com as cercanias mais brilhantes, tornando-a uma cratera fácil de localizar. Diâmetro: 173.49 km, Profundidade: 2.7 km.</li><li><a href="https://pt.wikipedia.org/wiki/Byrgius_%28cratera%29">Byrgius</a>: Diâmetro: 87 km, Profundidade: 4,6 km.</li><li><a href="https://pt.wikipedia.org/wiki/Tycho_%28cratera%29">Tycho</a>: A cratera é bem definida, ao contrário de crateras mais antigas que foram degradadas por impactos subseqüentes. O interior tem um grande albedo que é proeminente quando o Sol está acima. É a cratera com raios mais impressionante vista da Terra. Diâmetro: 86,21 km, Profundidade: 4,8 km.</li><li><a href="https://en.wikipedia.org/wiki/Stevinus_%28crater%29">Stevinus</a>: Diâmetro: 75 km, Profundidade: 3.0 km.</li><li><a href="https://pt.wikipedia.org/wiki/Langrenus_%28cratera%29">Langrenus</a>: Diâmetro: 132 km, Profundidade: 2.7 km.</li><li><a href="https://en.wikipedia.org/wiki/Proclus_%28crater%29">Proclus</a>: Diâmetro: 28 km, Profundidade: 2.4 km.</li></ul><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><p><a href="http://www.skyandtelescope.com/observing/take-a-moon-walk-tonight/">Take a Moon Walk Tonight - Sky &amp; Telescope</a>: <strong>Incrível guia sobre a Lua</strong></p></li><li><p><a href="https://www.youtube.com/watch?v=UIKmSQqp8wY">GMM: Evolution of the Moon (id 10930)</a>: Vídeo incrível da Nasa abordando a evolução da Lua. <a href="http://svs.gsfc.nasa.gov/vis/a010000/a010900/a010930/evol_and_tour_youtube_1080.mov">http://svs.gsfc.nasa.gov/vis/a010000/a010900/a010930/evol_and_tour_youtube_1080.mov</a></p></li><li><p><a href="http://armazemdotelescopio.com.br/loja/index.php/artigos/21-conteudo-astronomia-iniciantes/249-observandoalua">Observando a Lua</a>: Excelente guia para observar a Lua.</p><ul><li><a href="http://www.bbc.co.uk/programmes/b006mk7h/features/moore-moon-marathon">BBC Four - The Sky at Night - Pete Lawrence’s Moon guides</a>: Excelentes mapas para iniciantes e etc.</li><li><a href="https://en.wikipedia.org/wiki/Lunar_mare">Lunar mare - Wikipedia</a>: apresenta os mares lunares bem como as principais crateras.</li><li><a href="https://www.youtube.com/playlist?list=PLCQJJ3lTBuyCdlbfBzNn8vbC1BL2uZXp0">Agência Espacial Japonesa - YouTube</a>: Página oficial da JAXA (Agência Espacial Japonesa), no YouTube. Lá poderão ser encontrados muitos vídeos em HD, ou seja, em alta definição, da superfície lunar, realizados pela nave não-tripulada KAGUYA.</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
        <tags>
            
            <tag> astronomia </tag>
            
            <tag> fotografia </tag>
            
            <tag> lua </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Classes em ECMAScript 6</title>
      <link href="/2015/08/20/classes-em-ecmascript-6/"/>
      <url>/2015/08/20/classes-em-ecmascript-6/</url>
      
        <content type="html"><![CDATA[<p>Com a nova versão do ECMAScript (6) finalizada em junho … é hora de fixar algo das novidades :D. Segue um apanhado que fiz (fontes abaixo) para entender melhor as peculiaridades das classes na nova encarnação do ECMAScript.</p><p><img src="/images/2015-08-20-classes-em-ecmascript-6/ecmascript6-logo.png" alt="Logo do ECMAScript 6" title="ECMAScript 6"></p><span id="more"></span><p>Classes no ES6 são apenas um açucar sintático sobre o padrão de OO baseado em protótipos do JavaScript de sempre e <strong>não</strong> um novo modelo de OO para a linguagem.<br>De qualquer maneira, essa nova forma é muito mais simples de usar e portanto encoraja o uso de OO. Vejamos a aparência de uma classe ES6:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span> + <span class="variable language_">this</span>.<span class="property">x</span> + <span class="string">&#x27;, &#x27;</span> + <span class="variable language_">this</span>.<span class="property">y</span> + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>As classes no ES6, entretanto, não suportam ainda alguns features importantes. Vejamos rapidamente seus recursos e omissões.</p><ul><li><p>Classes ES6 suportam:</p><ul><li><em>construtor</em>: método especial para criar e inicializar instâncias da classe.</li><li>métodos de instância</li><li>métodos estáticos: a <em>keyword</em> <code>static</code> define um método para a classe. Métodos estáticos são chamados diretamente pela classe (não pelas instâncias) e são normalmente usados para criar funções utilitárias relativas à instâncias da classe.</li><li>getters: métodos que permitem vincular uma “propriedade” da instância para uma função cujo retorno é oferecido sempre que a “propriedade” é acessada (ou seja, a propriedade retorna um valor dinamicamente computado).</li><li>setters: métodos que permitem vincular uma “propriedade” da instância para uma função que é invocada quando tentamos atribuir algo para a “propriedade” (podemos criar um par de setter&#x2F;getter com o mesmo nome, simulando uma propriedade normal)</li><li>sub-classing: subclasses podem ser facilmente criadas usando a <em>keyword</em> <code>extends</code>.</li><li><em>super</em> calls: a <em>keyword</em> <code>super</code> pode ser usada para invocar métodos da classe pai.</li></ul></li><li><p>Classes ES6 não suportam:</p><ul><li>inicializadores de propriedade: a sintaxe de definição de classe <strong>suporta apenas métodos</strong> (constructor, métodos estáticos e métodos da instância) <strong>e não propriedades</strong>, portanto não podemos utilizar <code>foo = &quot;bar&quot;;</code> ou <code>foo : &quot;bar&quot;;</code> dentro da definição da classe. Propriedades das instâncias, portanto, são normalmente definidas no <em>constructor</em> enquanto propriedades da classe são atribuídas após a definição da classe (<code>var classe = class { }; classe.propDaClasse = &quot;string&quot;</code>).</li></ul></li></ul><p>A ausência de inicializadores de propriedade está sendo debatida atualmente na comunidade JS e as próximas versões do ES devem suprir essa carência.</p><p>Outras características de classes que considero importantes:</p><ul><li>O escopo dos métodos da classe é dinâmico e não léxico. Significando que se passarmos o método como uma callback para outro escopo, o <code>this</code> obedecerá o <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">comportamento normal</a> de fn()s JavaScript e dependerá da forma como a função for invocada. Se quisermos que as funções que representam os métodos de instância sempre tenham a instância como <code>this</code>, podemos fazer:</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tick</span> = <span class="variable language_">this</span>.<span class="property">tick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">tick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>O resultado da definição de uma classe é apenas uma função:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">typeof Point</span></span><br><span class="line">&#x27;function&#x27;</span><br></pre></td></tr></table></figure><ul><li>Apenas podemos instanciar uma classe usando <code>new</code>, não é possível fazer isso invocando a classe:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Point()</span></span><br><span class="line">TypeError: Classes can’t be function-called</span><br></pre></td></tr></table></figure><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="http://www.2ality.com/2015/02/es6-classes-final.html">Classes in ECMAScript 6 (final semantics)</a>: Excelente material sobre classes ES6, abordando semântica, etc.</li><li><a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Classes">Classes - JavaScript | MDN</a>: Documentação da Mozilla sobre classes.</li><li><a href="https://babeljs.io/docs/learn-es2015/#classes">Learn ES2015 · Babel - Classes</a>: Trecho sobre classes de um apanhadão sucinto das novidades do ES6.</li><li><a href="https://hacks.mozilla.org/2015/07/es6-in-depth-classes/">ES6 In Depth: Classes ✩ Mozilla Hacks – the Web developer blog</a>: Artigo abordando detalhes do tema e incluindo algumas limitações atuais.</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">getter - JavaScript | MDN</a>: Documentação da Mozilla sobre getters.</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set">setter - JavaScript | MDN</a>: Documentação da Mozilla sobre setters.</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">this - JavaScript | MDN</a>: Documentação da Mozilla sobre <code>this</code>.</li><li><a href="http://www.ian-thomas.net/autobinding-react-and-es6-classes/">Autobinding, React and ES6 Classes</a> e <a href="https://facebook.github.io/react/blog/2015/01/27/react-v0.13.0-beta-1.html#autobinding">React v0.13.0 Beta 1 | React</a>: Links interessantes sobre a adoção pelo React das classes ES6 e das consequências de sua limitação.</li></ul>]]></content>
      
      
      <categories>
          
          <category> develop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> web </tag>
            
            <tag> ecmascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Proxy autenticado no Gnome 3.14</title>
      <link href="/2015/08/09/proxy-no-gnome-3-14/"/>
      <url>/2015/08/09/proxy-no-gnome-3-14/</url>
      
        <content type="html"><![CDATA[<p>No trabalho, utilizo um notebook com Debian Jessie e acesso à internet por meio de proxy autenticado (com senha).</p><p>O grande problema é que o Gnome 3.14 não disponibiliza em sua ferramenta de configuração gráfica p&#x2F; proxy de rede (“Todas configurações” -&gt; “Rede” -&gt; “Proxy da rede”) uma forma de definir username e password do proxy. E sem isso não conseguimos fazer com que diversos componentes do Gnome acessem à internet.</p><span id="more"></span><p>A única forma de definir username e password para o proxy do Gnome é setando “na mão” via linha de comando. Vejamos como fazer:</p><p>Em “Todas configurações” -&gt; “Rede” -&gt; “Proxy da rede”, após definir o “Método” p&#x2F; “Manual” e especificar o endereço do proxy e a porta, a configuração foi setada assim por debaixo dos panos:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ gsettings list-recursively org.gnome.system.proxy</span><br><span class="line">org.gnome.system.proxy use-same-proxy true</span><br><span class="line">org.gnome.system.proxy mode &#x27;manual&#x27;</span><br><span class="line">org.gnome.system.proxy autoconfig-url &#x27;&#x27;</span><br><span class="line">org.gnome.system.proxy ignore-hosts [&#x27;localhost&#x27;, &#x27;127.0.0.0/8&#x27;, &#x27;::1&#x27;, &#x27;192.168.0.0/16&#x27;]</span><br><span class="line">org.gnome.system.proxy.ftp host &#x27;proxy.empresa.com.br&#x27;</span><br><span class="line">org.gnome.system.proxy.ftp port 3128</span><br><span class="line">org.gnome.system.proxy.socks host &#x27;proxy.empresa.com.br&#x27;</span><br><span class="line">org.gnome.system.proxy.socks port 3128</span><br><span class="line">org.gnome.system.proxy.http host &#x27;proxy.empresa.com.br&#x27;</span><br><span class="line">org.gnome.system.proxy.http port 3128</span><br><span class="line">org.gnome.system.proxy.http use-authentication false</span><br><span class="line">org.gnome.system.proxy.http authentication-password &#x27;&#x27;</span><br><span class="line">org.gnome.system.proxy.http authentication-user &#x27;&#x27;</span><br><span class="line">org.gnome.system.proxy.http enabled false</span><br><span class="line">org.gnome.system.proxy.https host &#x27;&#x27;</span><br><span class="line">org.gnome.system.proxy.https port 0</span><br></pre></td></tr></table></figure><p>Obs1: Repare que deixei a configuração p&#x2F; https em branco, isso pq a ausência de configuração implica em usar o proxy http p&#x2F; https (é o caso da rede que utilizo). Esse funcionamento é explicado na descrição da chave <code>mode</code> em <code>org.gnome.system.proxy</code> no <code>dconf-editor</code>.<br>Obs2: Observe que <code>org.gnome.system.proxy.http enabled</code> é <code>false</code>. Isso não é problema pq essa chave não é mais usada. Esse funcionamento é explicado na descrição da chave <code>enabled</code> em <code>org.gnome.system.proxy.http</code> no <code>dconf-editor</code>.</p><p><strong>Para o proxy autenticado passar a funcionar corretamente</strong>, modifiquei via linha de comando alguns campos (definindo login e senha):</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ gsettings set org.gnome.system.proxy.http use-authentication true</span><br><span class="line">$ gsettings set org.gnome.system.proxy.http authentication-user &#x27;login&#x27;</span><br><span class="line">$ gsettings set org.gnome.system.proxy.http authentication-password &#x27;senha&#x27;</span><br></pre></td></tr></table></figure><p>Obs3: Substitua os valores <code>login</code> e <code>senha</code> pelo seu login e senha real.</p><p>O resultado foi:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ gsettings list-recursively org.gnome.system.proxy</span><br><span class="line">org.gnome.system.proxy mode &#x27;manual&#x27;</span><br><span class="line">org.gnome.system.proxy autoconfig-url &#x27;&#x27;</span><br><span class="line">org.gnome.system.proxy ignore-hosts [&#x27;localhost&#x27;, &#x27;127.0.0.0/8&#x27;, &#x27;::1&#x27;, &#x27;192.168.0.0/16&#x27;]</span><br><span class="line">org.gnome.system.proxy.ftp host &#x27;proxy.empresa.com.br&#x27;</span><br><span class="line">org.gnome.system.proxy.ftp port 3128</span><br><span class="line">org.gnome.system.proxy.socks host &#x27;proxy.empresa.com.br&#x27;</span><br><span class="line">org.gnome.system.proxy.socks port 3128</span><br><span class="line">org.gnome.system.proxy.http host &#x27;proxy.empresa.com.br&#x27;</span><br><span class="line">org.gnome.system.proxy.http port 3128</span><br><span class="line">org.gnome.system.proxy.http use-authentication true</span><br><span class="line">org.gnome.system.proxy.http authentication-password &#x27;senha&#x27;</span><br><span class="line">org.gnome.system.proxy.http authentication-user &#x27;login&#x27;</span><br><span class="line">org.gnome.system.proxy.http enabled false</span><br><span class="line">org.gnome.system.proxy.https host &#x27;&#x27;</span><br><span class="line">org.gnome.system.proxy.https port 0</span><br></pre></td></tr></table></figure><p>Para testar se está realmente funcionando, verifique se é possível instalar extensões a partir do site <a href="https://extensions.gnome.org/">https://extensions.gnome.org/</a>, para tanto devem estar configurados o proxy do Gnome e do Firefox&#x2F;Iceweasel.</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://developer.gnome.org/ProxyConfiguration/">https://developer.gnome.org/ProxyConfiguration/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gnome </tag>
            
            <tag> proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Como fazer o app GNOME Music encontrar suas músicas</title>
      <link href="/2015/07/11/como-fazer-o-app-gnome-music-encontrar-suas-musicas/"/>
      <url>/2015/07/11/como-fazer-o-app-gnome-music-encontrar-suas-musicas/</url>
      
        <content type="html"><![CDATA[<p>Por um tempo abri mão de testar o GNOME Music no uso cotidiano porque não conseguia fazer com que lesse os arquivos de música no local onde estavam e por outro pequeno detalhe com a indexação de arquivos.</p><p><img src="/images/2015-07-11-como-fazer-o-app-gnome-music-encontrar-suas-musicas/folder-music-icon.png" alt="Ícone GNOME de pasta de Músicas" title="Maldita política de dir pré-estabelecido para músicas"></p><p>Se você está tendo problemas com o GNOME Music, talvez sejam os mesmos que eu tive.</p><span id="more"></span><p>O GNOME Music não nos permite escolher onde o programa busca as músicas (WTF!), no lugar ele usa variáveis do ambiente padronizadas que são utilizadas por vários aplicativos para buscar arquivos de um determinado tipo. Esses variáveis são determinadas pela especificação <a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG Base Directory Specification</a> e se encontram no arquivo <code>~/.config/user-dirs.dirs</code>. Basta atualizar a variável <code>XDG_MUSIC_DIR</code> para apontar para o diretório de músicas. Veja abaixo o conteúdo original do arquivo no Debian Jessie:</p><p><code>~/.config/user-dirs.dirs</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># This file is written by xdg-user-dirs-update</span><br><span class="line"># If you want to change or add directories, just edit the line you&#x27;re</span><br><span class="line"># interested in. All local changes will be retained on the next run</span><br><span class="line"># Format is XDG_xxx_DIR=&quot;$HOME/yyy&quot;, where yyy is a shell-escaped</span><br><span class="line"># homedir-relative path, or XDG_xxx_DIR=&quot;/yyy&quot;, where /yyy is an</span><br><span class="line"># absolute path. No other format is supported.</span><br><span class="line"># </span><br><span class="line">XDG_DESKTOP_DIR=&quot;$HOME/Área de trabalho&quot;</span><br><span class="line">XDG_DOWNLOAD_DIR=&quot;$HOME/Downloads&quot;</span><br><span class="line">XDG_TEMPLATES_DIR=&quot;$HOME/Modelos&quot;</span><br><span class="line">XDG_PUBLICSHARE_DIR=&quot;$HOME/Público&quot;</span><br><span class="line">XDG_DOCUMENTS_DIR=&quot;$HOME/Documentos&quot;</span><br><span class="line">XDG_MUSIC_DIR=&quot;$HOME/Música&quot;</span><br><span class="line">XDG_PICTURES_DIR=&quot;$HOME/Imagens&quot;</span><br><span class="line">XDG_VIDEOS_DIR=&quot;$HOME/Vídeos&quot;</span><br></pre></td></tr></table></figure><p>Basta alterar o <em>path</em> dos diretórios para refletirem os dados reais em seu disco rígido, não precisa reiniciar o GNOME … o GNOME Music encontrará os arquivos na próxima vez que for executado. </p><p>Por fim, se o GNOME Music ainda não encontrar seus arquivos, provavelmente é porquê você não está indexando os arquivos do diretório de música (que o GNOME faz via Tracker). Basta habilitar a indexação em <code>Todas as configurações &gt; Pesquisa &gt; Pesquisar localizações -&gt; Música (ON)</code>:</p><p><img src="/images/2015-07-11-como-fazer-o-app-gnome-music-encontrar-suas-musicas/pesquisar-localizacoes.png" alt="Imagem mostrando como habilitar a indexação dos arquivos do diretório de música" title="Habilitando a indexação dos arquivos do diretório de música"></p><p>Agora é só escutar suas músicas com uma cerva:</p><p><img src="/images/2015-07-11-como-fazer-o-app-gnome-music-encontrar-suas-musicas/gnome-music.png" alt="Imagem do GNOME Music funcionando propriamente" title="GNOME Music funcionando propriamente"></p>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gnome </tag>
            
            <tag> music </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tamanho de fontes em monitores 15&#39; FullHD no Gnome, Firefox e Thunderbird</title>
      <link href="/2015/05/10/tamanho-de-fontes-em-monitores-15-fullhd-no-gnome-firefox-e-thunderbird/"/>
      <url>/2015/05/10/tamanho-de-fontes-em-monitores-15-fullhd-no-gnome-firefox-e-thunderbird/</url>
      
        <content type="html"><![CDATA[<p>Recentemente, recebi um notebook de <strong>15 polegadas FullHD (1920x1080)</strong> para trabalhar. E qual não foi a minha surpresa em descobrir que o Gnome, Firefox e Thunderbird (entre outros) ficavam com a <strong>fonte muito pequena</strong> para uma legibilidade adequada.</p><p><img src="/images/2015-05-10-tamanho-de-fontes-em-monitores-15-fullhd-no-gnome-firefox-e-thunderbird/mr_magoo-min.png" alt="Imagem de Mr. Magoo" title="Mr. Magoo"></p><span id="more"></span><p>Uma pesquisa rápida na internet me mostrou como adequar a fonte e tornar a experiência extremamente agradável. Vejamos as dicas:</p><ul><li>Gnome<br>Vá em “Ferramenta de ajustes” (“Tweak Tool”) -&gt; “Fontes”: Modifique o “Fator de escala” de <code>1.00</code> p&#x2F; <code>1.15</code>.</li><li>Firefox&#x2F;Iceweasel<br>Modifique <code>layout.css.devPixelsPerPx</code> em <code>about:config</code> de <code>-1.0</code> p&#x2F; <code>1.25</code>.</li><li>Thunderbird&#x2F;Icedove<br>Mesmo processo do Firefox, porém acessei <code>about:config</code> em “Edit” → “Preferences” → “Advanced” → “Config editor”. Optei pelo valor <code>1.1</code>.</li></ul><p>Obs1: Recomendo d+ que telas 15 polegadas sejam FullHD, é outra experiência.<br>Obs2: Ajustes realizados no Debian Jessie (Gnome 3.14, Iceweasel 31, Icedove 31)<br>Obs3: Ajuste os valores numéricos para o que lhe agradar mais.</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://wiki.archlinux.org/index.php/HiDPI">HiDPI - ArchWiki</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> firefox </tag>
            
            <tag> thunderbird </tag>
            
            <tag> gnome </tag>
            
            <tag> fullhd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Como automagicamente utilizar o melhor mirror Debian disponível</title>
      <link href="/2015/05/02/servico-p-automagicamente-utilizar-o-melhor-mirror-debian-disponivel/"/>
      <url>/2015/05/02/servico-p-automagicamente-utilizar-o-melhor-mirror-debian-disponivel/</url>
      
        <content type="html"><![CDATA[<p>Antes de mais nada: Parabéns (atrasado - foi em 25&#x2F;04) ao Projeto Debian pelo lançamento do <em>release</em> Jessie!</p><p><img src="/images/2015-05-02-servico-p-automagicamente-utilizar-o-melhor-mirror-debian-disponivel/lancamento-jessie-minions.gif" alt="Imagem de minions comemorando" title="Minions comemorando lançamento da Jessie"></p><p>Como parte das comemorações do lançamento do Debian Jessie, segue uma dica valiosa.</p><p>O projeto Debian disponibiliza um serviço que <strong>automagicamente</strong> escolhe o melhor mirror disponível cada vez que você necessitar acessar os repositórios da distribuição, seja para atualizar ou baixar algum software novo.</p><span id="more"></span><p>O nome do serviço é <a href="http://httpredir.debian.org/">httpredir.debian.org</a> e entre os critérios que  ele utiliza para escolher o melhor mirror temos a localização geográfica e de rede, a disponibilidade e atualização dos mirrors, etc.</p><p>Para testarmos qual mirror o serviço escolheria para nossa máquina&#x2F;localização, veja <a href="http://httpredir.debian.org/demo.html">aqui</a>.</p><p>Para utilizar, basta substituir o seu mirror antigo em <code>/etc/apt/sources.list</code> (exemplo para o recém-lançado Debian Jessie):</p><ul><li>Antes:</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://debian.pop-sc.rnp.br/debian/ jessie main  </span><br></pre></td></tr></table></figure><ul><li>Depois:</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://httpredir.debian.org/debian/ jessie main  </span><br></pre></td></tr></table></figure><h2 id="Exemplo"><a href="#Exemplo" class="headerlink" title="Exemplo"></a>Exemplo</h2><p>Segue de exemplo o meu <code>/etc/apt/sources.list</code> com os repositórios para a nova versão estável do Debian (Jessie) habilitados (inclusive o <a href="http://backports.debian.org/">backports</a>) e os repositórios para <em>testing</em>, <em>unstable</em> e <em>experimental</em> comentados (desabilitados).</p><p><code>/etc/apt/sources.list</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#STABLE</span><br><span class="line"></span><br><span class="line">deb http://httpredir.debian.org/debian/ jessie main  </span><br><span class="line">deb-src http://httpredir.debian.org/debian/ jessie main  </span><br><span class="line"></span><br><span class="line">deb http://security.debian.org/ jessie/updates main</span><br><span class="line">deb-src http://security.debian.org/ jessie/updates main</span><br><span class="line"></span><br><span class="line"># jessie-updates, previously known as &#x27;volatile&#x27;</span><br><span class="line">deb http://httpredir.debian.org/debian/ jessie-updates main</span><br><span class="line">deb-src http://httpredir.debian.org/debian/ jessie-updates main</span><br><span class="line"></span><br><span class="line"># jessie-backports, previously on backports.debian.org</span><br><span class="line">deb http://httpredir.debian.org/debian/ jessie-backports main  </span><br><span class="line">deb-src http://httpredir.debian.org/debian/ jessie-backports main  </span><br><span class="line"></span><br><span class="line">#ADICIONADO (TESTING/UNSTABLE/EXPERIMENTAL)</span><br><span class="line"></span><br><span class="line">#TESTING</span><br><span class="line"></span><br><span class="line">#deb http://httpredir.debian.org/debian/ testing main  </span><br><span class="line">#deb-src http://httpredir.debian.org/debian/ testing main  </span><br><span class="line"></span><br><span class="line">#deb http://security.debian.org/ testing/updates main</span><br><span class="line">#deb-src http://security.debian.org/ testing/updates main</span><br><span class="line"></span><br><span class="line"># testing-updates, previously known as &#x27;volatile&#x27;</span><br><span class="line">#deb http://httpredir.debian.org/debian/ testing-updates main</span><br><span class="line">#deb-src http://httpredir.debian.org/debian/ testing-updates main</span><br><span class="line"></span><br><span class="line">#SID</span><br><span class="line"></span><br><span class="line">#deb http://httpredir.debian.org/debian/ unstable main</span><br><span class="line">#deb-src http://httpredir.debian.org/debian/ unstable main</span><br><span class="line"></span><br><span class="line">#EXPERIMENTAL</span><br><span class="line"></span><br><span class="line">#deb http://httpredir.debian.org/debian/ experimental main</span><br><span class="line">#deb-src http://httpredir.debian.org/debian/ experimental main</span><br></pre></td></tr></table></figure><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="http://httpredir.debian.org/">Debian mirrors HTTP redirector</a>: Site oficial do httpredir.debian.org. Contém mais informações sobre o serviço.<ul><li><a href="http://httpredir.debian.org/demo.html">Demonstração</a>: Demonstração oficial do funcionamento e de qual mirror seria escolhido pelo serviço num dado momento.</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debian </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redimensionando filesystems e volumes lógicos em LVM</title>
      <link href="/2015/04/25/redimensionando-volumes-logicos-em-particoes-lvm-criptografadas/"/>
      <url>/2015/04/25/redimensionando-volumes-logicos-em-particoes-lvm-criptografadas/</url>
      
        <content type="html"><![CDATA[<p>Veremos nesse post como redimensionar filesystems e volumes lógicos em LVM. Mas para que diabos precisamos disso?</p><p>Imagine que o particionador automático da instalação do Debian criou um sistema LVM com uma partição root grande demais e a partição de swap pequena demais e que precisamos mudar o tamanho de ambas … aumentando uma e diminuindo outra … Isso não é tão trivial como parece … e é isso que veremos. :D</p><p><img src="/images/2015-04-25-redimensionando-volumes-logicos-em-particoes-lvm-criptografadas/matroska-min.jpg" alt="Imagem de bonecas matroska" title="Matroska em LVM"></p><p><em>Cedo ou tarde, todo nerd precisa diminuir e aumentar filesystems em sistemas LVM …</em></p><span id="more"></span><p><strong>Preste atenção</strong>, para redimensionar tenha em mente que <strong>o filesystem está dentro do volume lógico</strong>.<br><strong>Para aumentar o tamanho de um filesystem</strong>, devemos <strong>primeiro</strong> aumentar o volume lógico em que ele está inserido <strong>e somente depois</strong> aumentar o filesystem.<br><strong>Para diminuir o tamanho de um filesystem</strong>, <strong>o caminho é o contrário</strong>, primeiro diminuímos o tamanho do filesystem e somente depois encolhemos o volume lógico.</p><p>Usaremos nesse post o cenário hipotético mencionado acima (diminuir partição root, aumentar partição swap). Vejamos:</p><ol><li>Encontre os volumes lógicos a serem trabalhados:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lvm</span><br><span class="line">lvm&gt; lvscan</span><br><span class="line">  ACTIVE            <span class="string">&#x27;/dev/dread-note-vg/root&#x27;</span> [106.98 GiB] inherit</span><br><span class="line">  ACTIVE            <span class="string">&#x27;/dev/dread-note-vg/swap_1&#x27;</span> [4.56 GiB] inherit</span><br></pre></td></tr></table></figure><ol start="2"><li>Diminua o tamanho do filesystem que está grande demais.</li></ol><ul><li>Cheque e corrija erros no filesystem (ex. p&#x2F; ext4):</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e2fsck -f /dev/dread-note-vg/root</span><br></pre></td></tr></table></figure><ul><li>Diminua o tamanho do filesystem (ex: p&#x2F; 90GB):</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resize2fs /dev/dread-note-vg/root 90G</span><br></pre></td></tr></table></figure><p>  Obs: <strong>O novo tamanho informado p&#x2F; o filesystem deve ser um pouco menor que o novo tamanho a ser informado para o volume lógico.</strong> Isso para evitar que em arrendondamentos feitos pela máquina, o filesystem fique maior que o volume lógico em que está inserido e ocorra *****.</p><ol start="3"><li>Diminua o volume lógico da partição que está grande demais (ex: p&#x2F; 92GB).</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvresize -L 92G dread-note-vg/root</span><br></pre></td></tr></table></figure><ol start="4"><li>Recupere o tamanho do filesystem - que estava grande demais - para ocupar todo o espaço do volume lógico redimensionado (dado que diminuímos o filesystem mais que o volume lógico - por segurança - e há espaço sobrando):</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resize2fs /dev/dread-note-vg/root</span><br></pre></td></tr></table></figure><ol start="5"><li>Aumente o tamanho do volume lógico que está pequeno demais.</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvextend -l +100%FREE dread-note-vg/swap_1</span><br></pre></td></tr></table></figure><ol start="6"><li>Aumente o tamanho do filesystem que está pequeno demais.<br>  Obs: Como é um filesystem swap, apenas recriei ele com o mesmo UUID ocupando todo o espaço disponível no volume lógico.</li></ol><ul><li>Anotar o UUID da swap original: <code># blkid</code></li><li>Criar nova swap com o mesmo UUID:</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkswap -U 475dbca3-d779-445d-912e-6dfeea5d9e4e /dev/mapper/dread--note--vg-swap_1</span><br></pre></td></tr></table></figure><ol start="7"><li>Resultado final:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lvm</span><br><span class="line">lvm&gt; lvscan</span><br><span class="line">  ACTIVE            <span class="string">&#x27;/dev/dread-note-vg/root&#x27;</span> [92.00 GiB] inherit</span><br><span class="line">  ACTIVE            <span class="string">&#x27;/dev/dread-note-vg/swap_1&#x27;</span> [19.55 GiB] inherit  </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> lvm </tag>
            
            <tag> particionamento </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Criando partições encriptadas (LVM sobre LUKS)</title>
      <link href="/2015/04/19/criando-particoes-encriptadas-lvm-sobre-luks/"/>
      <url>/2015/04/19/criando-particoes-encriptadas-lvm-sobre-luks/</url>
      
        <content type="html"><![CDATA[<p>Nesse post veremos como adicionar novos HDs à sistemas GNU&#x2F;Linux com os dados criptografados utilizando um mix de <a href="https://en.wikipedia.org/wiki/Logical_Volume_Manager_%28Linux%29">LVM</a> e <a href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">LUKS</a>.<br>Dessa forma, se o FBI obter aquele seu HD com todas as séries de Hollywood … não poderá acessar o conteúdo dele :D. E nem bisbilhoteiros em caso de perca ou roubo de seus HDs.</p><p><img src="/images/2015-04-19-criando-particoes-encriptadas-lvm-sobre-luks/criptografia-min.jpg" alt="Imagem de cadeado digital" title="Criptografia com LVM + LUKS"></p><span id="more"></span><p>Não é um post teórico, mas sim de <strong>receita de bolo</strong>. <strong>A teoria, entretanto, é essencial</strong> para saber o que está acontencendo e conhecer melhor as possibilidades e limitações do setup escolhido. Essa teoria, porém, não cabe no escopo de um post e nem tenho competência (e paciência) para abordá-la. Por isso, coloquei os melhores links que encontrei sobre a mesma no final do post. <strong>Recomendo fortemente a leitura dos <a href="#links">links</a></strong> (não é da boca para fora, li e aprendi bastante - e o conteúdo não é excessivamente técnico).</p><p>As únicas pinceladas teóricas seguem abaixo:</p><ul><li><p>O LVM (se você não sabe o que é, pare e se informe <a href="https://wiki.archlinux.org/index.php/LVM">antes</a>) não é essencial para criptografar um disco, mas utilizamos o mesmo para termos flexibilidade na criação&#x2F;destruição&#x2F;modificação de partições no interior do disco criptografado.</p></li><li><p>O LVM em nosso setup é utilizado numa camada acima do LUKS (tecnologia para criptografia), assim necessitamos de apenas uma password para destravar todas as partições no HD … e eliminamos possíveis <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Swap_encryption#With_suspend-to-disk_support">complicações</a> para suspender e etc. O lado negativo é que o layout do LVM não é transparente (está dentro do <em>blockdevice</em> encriptado usando LUKS) e por isso não é possível extender volumes lógicos através de outros discos.</p></li></ul><p><strong>&#x3D;&gt;AVISO&lt;&#x3D;</strong>: Não é um post para iniciantes. Assim, por exemplo, não será explicado quando usar <em>root</em>, como utilizar o gparted ou mesmo o que é <code>/etc/fstab</code>.</p><h2 id="Preparando-o-disco-e-criando-o-container-encriptado"><a href="#Preparando-o-disco-e-criando-o-container-encriptado" class="headerlink" title="Preparando o disco e criando o container encriptado"></a>Preparando o disco e criando o container encriptado</h2><p>Nesse passo preparemos o disco (apagaremos de forma a dificultar a quebra da criptografia) e criaremos o container criptografado. É aqui que reside a parte que realmente diz respeito à criptografia.</p><p><strong>Obs</strong>: No post supomos que o HD utilizado é <code>/dev/sdb</code>.</p><h3 id="1-Escreva-o-disco-inteiro-com-dados-aleatorios"><a href="#1-Escreva-o-disco-inteiro-com-dados-aleatorios" class="headerlink" title="1. Escreva o disco inteiro com dados aleatórios"></a>1. Escreva o disco inteiro com dados aleatórios</h3><p>Motivo: dificultar o deciframento ao garantir que o espaço vazio é indistinguível dos dados escritos sob criptografia.</p><ol><li>Crie um container encriptado temporário para o disco desejado (ex: <code>/dev/sdb</code>):</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptsetup open --<span class="built_in">type</span> plain /dev/sdb container</span><br></pre></td></tr></table></figure><ol start="2"><li>Verifique que ele existe (ou seja, se <code>/dev/mapper/container</code> é listado):</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure><ol start="3"><li>Limpe o disco com dados pseudoaleatórios (aleatórios pq são escritos no container encriptado) [<em>demora muito</em>]:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/dev/mapper/container</span><br></pre></td></tr></table></figure><ol start="4"><li>Feche o container:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptsetup close container</span><br></pre></td></tr></table></figure><p>Fonte: <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Drive_preparation#dm-crypt_wipe_before_installation">https://wiki.archlinux.org/index.php/Dm-crypt/Drive_preparation#dm-crypt_wipe_before_installation</a></p><h3 id="2-Crie-o-container-encriptado"><a href="#2-Crie-o-container-encriptado" class="headerlink" title="2. Crie o container encriptado"></a>2. Crie o container encriptado</h3><ol><li>Crie uma partição do tipo 8E00 (LVM2 PV) para abrigar o container criptografado:</li></ol><p>  A partição pode ser criada no fdisk, cfdisk, parted ou gparted. No gparted, basta criar uma partição do tipo “lvm2 pv”.<br>  Em nosso caso, a nova partição é <code>/dev/sdb1</code>.</p><ol start="2"><li>Crie o container criptografado LUKS (usando opções default):</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptsetup luksFormat /dev/sdb1</span><br></pre></td></tr></table></figure><p>  Confirme com <code>YES</code> e digite uma senha duas vezes (<strong>essa senha será usada p&#x2F; destravar o container, sem ela … não temos acesso aos dados</strong>)</p><ol start="3"><li>Destrave o container (disponibiliza de forma não criptografada):</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptsetup open --<span class="built_in">type</span> luks /dev/sdb1 container-destravado</span><br></pre></td></tr></table></figure><p>  O container destravado está disponível em <code>/dev/mapper/container-destravado</code>.</p><p><strong>Pronto</strong>, a parte relativa à criptografia está feita. O motivo de destravarmos o container é que criaremos <strong>no próximo passo</strong> a estrutura LVM dentro do container (e consequentemente as partições).</p><h2 id="Criando-estrutura-LVM-e-seu-s-volume-s-logico-s"><a href="#Criando-estrutura-LVM-e-seu-s-volume-s-logico-s" class="headerlink" title="Criando estrutura LVM e seu(s) volume(s) lógico(s)"></a>Criando estrutura LVM e seu(s) volume(s) lógico(s)</h2><p>Com o container criptografado criado e destravado, é hora de criarmos a estrutura LVM segundo nossas preferências.</p><p>O procedimento agora <strong>não diz respeito à criptografia</strong>, mas ao manuseio normal de partições.</p><p>Vejamos um caso utilizando 1 physical volume (PV), dentro de 1 volume group (VG), contendo 1 logical volume (LV) ocupando todo o espaço disponível no disco. <strong>Ou seja</strong>, utilizamos um arranjo básico de LVM que implicará numa partição (em nosso caso, EXT4) ocupando todo o disco.</p><p>Procedimento:</p><ol><li>Crie um <em>physical volume</em> no container descriptografado:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pvcreate /dev/mapper/container-destravado</span><br></pre></td></tr></table></figure><ol start="2"><li>Crie um <em>volume group</em>, e adicione o <em>physical volume</em> previamente criado:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgcreate nome-do-vg /dev/mapper/container-destravado</span><br></pre></td></tr></table></figure><ol start="3"><li>Crie um <em>logical volume</em> no <em>volume group</em>:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvcreate -l +100%FREE nome-do-vg -n nomeDoLg</span><br></pre></td></tr></table></figure><ol start="4"><li>Formate o <em>logical volume</em> com um <em>filesystem</em>:</li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 /dev/mapper/nome--do--vg-nomeDoLg</span><br></pre></td></tr></table></figure><p>Pronto, agora temos um arranjo LVM com uma partição EXT4 dentro de um container criptografado. Mas … como montamos e desmontamos essa partição no uso diário? Vejamos o último passo :D,</p><h2 id="Montando-e-desmontando"><a href="#Montando-e-desmontando" class="headerlink" title="Montando e desmontando"></a>Montando e desmontando</h2><p>Para acessarmos o conteúdo das partições dentro do container criptografado … basta destravarmos o container e montar normalmente as partições. Vejamos como fazer isso manualmente e automaticamente.</p><ul><li><p>Manualmente:</p><ul><li><p>Montando:</p><ul><li>Destrave a container:</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptsetup open --<span class="built_in">type</span> luks /dev/sdb1 container-destravado</span><br></pre></td></tr></table></figure><ul><li>Monte a partição desejada:</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t ext4 /dev/mapper/nome--do--vg-nomeDoLg /mnt/nomeDoLg/</span><br></pre></td></tr></table></figure></li><li><p>Desmontando:</p><ul><li>Desmonte a partição:</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /mnt/nomeDoLg/</span><br></pre></td></tr></table></figure><ul><li>Feche o container:</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cryptsetup close container-destravado</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Automaticamente:</p><ul><li>Adicione uma entrada para a partição em <code>/etc/fstab</code>. Exemplo:</li></ul><p>  <code>/dev/mapper/nome--do--vg-nomeDoLg       /mnt/nomeDoLg/  ext4    defaults     0       2</code></p><ul><li>Adicione uma entrada para o container em <code>/etc/crypttab</code>. Exemplo:<br>  <code>container-destravado     UUID=4fdc96a2-5f97-44a5-783d-dcd0d0658fdd none luks</code><br>  Obs: O UUID informado é o da partição utilizada para criar o container (em nosso caso <code>dev/sdb1</code>).</li></ul><p>O arquivo <code>/etc/crypttab</code> contém uma lista de <em>blockdevices</em> encriptados (aka containers) que são destravados no boot. O <code>crypttab</code> é lido antes do <code>fstab</code> e portanto destrava o container antes que os filesystems dentro dele sejam montados.</p></li></ul><h2 id="Links"><a href="#Links" class="headerlink" title="Links:"></a><span id="links">Links:</span></h2><ul><li><a href="https://wiki.archlinux.org/index.php/Disk_encryption">Disk encryption - ArchWiki</a>: O que é e como funciona criptografia em discos, partições, etc. Tipos de criptografia no GNU&#x2F;Linux, soluções utilizadas, etc. <strong>Recomendado</strong></li><li><a href="https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_a_non-root_file_system">dm-crypt&#x2F;Encrypting a non-root file system - ArchWiki</a>: Documentação suscinta e clara sobre como criar e montar partições criptografadas <em>non-root</em>.</li><li><a href="https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system">dm-crypt&#x2F;Encrypting an entire system - ArchWiki</a>: Documentação sobre diversas estratégias para criptografar o sistema inteiro.</li><li><a href="http://earlruby.org/2010/02/adding-an-external-encrypted-drive-with-lvm-to-ubuntu-linux/comment-page-1/">Adding an external encrypted drive with LVM to Ubuntu Linux | Earl C. Ruby III</a>: Post sobre como criar e montar partições criptografadas <em>non-root</em>. A documentação do Arch é melhor, o destaque desse post é seu estilo simples e direto que serviu como inspiração para essas palavras.</li><li>Documentação Oficial Debian - Instalação c&#x2F; criptografia:<ul><li><a href="https://www.debian.org/releases/stable/amd64/ch06s03.html.en#partman-crypto">6.3.3.6. Configuring Encrypted Volumes</a> em <a href="https://www.debian.org/releases/stable/amd64/ch06s03.html.en#di-partition">6.3.3. Partitioning and Mount Point Selection</a>.</li><li><a href="https://www.debian.org/releases/stable/amd64/ch07s02.html.en">7.2. Mounting encrypted volumes</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> criptografia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Torrent profissa: gerenciamento remoto e servidor de compartilhamento 24hs</title>
      <link href="/2015/03/23/torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/"/>
      <url>/2015/03/23/torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/</url>
      
        <content type="html"><![CDATA[<p>O <a href="http://www.transmissionbt.com/">Transmission</a> é um cliente de torrent bastante conhecido no mundo GNU&#x2F;Linux. Entretanto, há muitas pessoas que desconhecem que ele pode ser usado como um serviço (daemon) subindo sempre que a máquina está ligada e sem necessitar de interface gráfica para gerenciá-lo (pode ser gerenciado remotamente via browser, cli, gtk, etc.).</p><p>Se combinamos o serviço do Transmission com um <a href="http://www.raspberrypi.org/">Raspberry Pi</a> baratinho, temos um servidor de compartilhar cultura 24 horas por dia que pode ser acessado remotamente via browser e gastando um ínfimo de energia.</p><p><img src="/images/2015-03-23-torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/copying_is_not_theft_min.jpg" alt="Imagem de Copying Is Not Theft - Nina Paley" title="Copying Is Not Theft - Nina Paley"></p><span id="more"></span><p>A única “carência” do daemon do Transmission é que o mesmo só suporta protocolo HTTP, ou seja, sua senha para gerenciar os torrents trafega em <em>text plain</em>. Coloquei carência entre “” pq é uma opção dos desenvolvedores, os mesmos consideram que seu dever é fazer um cliente de torrent eficiente, a parte da criptografia pode ser feita com mais qualidade e segurança usando algum software complementar. No nosso caso, garantiremos uma conexão segura implementando HTTPS via servidor <a href="http://nginx.org/">Nginx</a>.</p><p>Veremos primeiro como configurar o daemon Transmission e, opcionalmente, como aplicar HTTPS à conexão remota via Nginx.</p><p><strong>Obs</strong>: Nesse tutorial é usado o Debian Jessie. Provavelmente pode ser aplicado à outras distros <em>Debian like</em> sem muita adaptação.</p><h2 id="Subindo-seu-proprio-transmission-daemon"><a href="#Subindo-seu-proprio-transmission-daemon" class="headerlink" title="Subindo seu próprio transmission-daemon"></a>Subindo seu próprio <em>transmission-daemon</em></h2><h3 id="0-Instalacao"><a href="#0-Instalacao" class="headerlink" title="0. Instalação"></a>0. Instalação</h3><p>Instale o daemon do Transmission:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># apt-get install transmission-daemon</span></span><br></pre></td></tr></table></figure><p>Junto com o daemon é instalado o pacote <code>transmission-cli</code>, que possibilita interagir com o daemon desde o prompt. Entretanto, o mesmo pode ser ignorado porque é possível gerenciar o daemon desde o browser (ou cliente gráfico como o <code>transmission-remote-gtk</code>).</p><h3 id="1-Configuracao"><a href="#1-Configuracao" class="headerlink" title="1. Configuração"></a>1. Configuração</h3><h4 id="1-1-Arquivos-do-transmission-daemon"><a href="#1-1-Arquivos-do-transmission-daemon" class="headerlink" title="1.1. Arquivos do transmission-daemon"></a>1.1. Arquivos do <em>transmission-daemon</em></h4><p>Os arquivos referentes ao daemon estão localizados no dir <code>/var/lib/transmission-daemon</code> em sistemas Debian. Temos, principalmente, os seguintes diretórios&#x2F;arquivos:</p><ul><li><code>downloads/</code>: Dir padrão p&#x2F; download de torrent (definiremos outro).</li><li><code>info/settings.json</code>: Arquivo de configuração (link p&#x2F; <code>/etc/transmission-daemon/settings.json</code>)</li><li><code>info/stats.json</code>: Arquivo que reúne estatísticas da sessão (como quantia de download&#x2F;upload).</li><li><code>info/torrents</code>: Armazena os arquivos <code>.torrent</code> adicionados para download.</li><li><code>info/resume</code>: Armazena info. sobre downloads em andamanento (partes baixadas, path, etc.).</li></ul><h4 id="1-2-Editando-settings-json"><a href="#1-2-Editando-settings-json" class="headerlink" title="1.2. Editando settings.json:"></a>1.2. Editando <code>settings.json</code>:</h4><p>O arquivo com todas as configurações é <code>settings.json</code>. Editar o mesmo provavelmente exigirá permissões de <em>root</em>.</p><p>Recomendo que seja criado uma cópia da versão original, por via das dúvidas :D.</p><p>O arquivo utiliza a sintaxe <a href="https://pt.wikipedia.org/wiki/JSON">JSON</a>. É uma sintaxe muito fácil de ser lida, mas que exige atenção ao editar. Qualquer <code>,</code>, <code>:</code> ou <code>&quot;</code> fora do lugar e o daemon não subirá. Ajuda bastante usar um parser online como esse <a href="http://jsonformatter.curiousconcept.com/">aqui</a>, onde você pode colar seu arquivo de configuração e ver se colocou algo fora do lugar que viola a sintaxe.</p><p><strong>Atenção</strong>: Após a instalação, o daemon estará em execução e ao parar de executar, sobrescreverá qualquer mudança que possa ter ocorrido em <code>settings.json</code> enquanto estava rodando. Por isso, devemos parar o daemon:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl stop transmission-daemon</span></span><br></pre></td></tr></table></figure><p>Verifique se o daemon realmente parou:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl status transmission-daemon</span></span><br></pre></td></tr></table></figure><p>Maõs à obra!</p><p>O arquivo <code>settings.json</code> original vem com diversas configurações padrões. Alterei menos de 20 linhas e dessas eram realmente necessárias menos de 10. Começarei pelas que acho mais relevantes e citarei 4 à parte que considero menos interessantes mas que podem ser úteis para pessoas com roteadores mais fracos que podem ficar sobrecarregados por muitas conexões abertas pelo Transmission.</p><p>Configurações para alterar em <code>settings.json</code>:</p><ul><li><code>&quot;download-dir&quot;: </code> <del><code>&quot;/var/lib/transmission-daemon/downloads&quot;</code></del> <code>&quot;/dir/dos_downloads_quiridus&quot;</code>:<br>Onde colocar os downloads.</li><li><code>&quot;port-forwarding-enabled&quot;: </code> <del><code>false</code></del> <code>true</code><br>Habilitar encaminhamento de porta, útil para conexões atrás de NAT (comum em residências, se vc não sabe … habilite).</li><li><code>&quot;ratio-limit&quot;: </code> <del><code>2</code></del> <code>5</code><br>Taxa de compartilhamento … tás montando um server p&#x2F; torrents … aumente isso que 2 é pouco.</li><li><code>&quot;ratio-limit-enabled&quot;: </code> <del><code>false</code></del> <code>true</code><br>P&#x2F; aplicar a taxa de compartilhamento definida acima.</li><li><code>&quot;rpc-password&quot;: </code> <code>coloque_aqui_a_senha</code><br>Senha para acesso remoto. Não se preocupe, ela não é armazenada em texto limpo. Após iniciar o daemon, ela será substituída por um hash.</li><li><code>&quot;rpc-username&quot;: </code> <del><code>transmission</code></del> <code>seu_user_desktop</code><br>Login para acesso remoto. É informado com <code>&quot;rpc-password&quot;</code> para gerenciar remotamente o daemon. Pode ser mantido o username <code>transmission</code>, porém prefiro o username do meu usuário cotidiano.</li><li><code>&quot;rpc-whitelist-enabled&quot;</code> e <code>&quot;rpc-whitelist&quot;</code><br>Usados para delimitar quais IPs podem acessar o daemon. Eu mantenho a política default (respectivamente, <code>true</code> e <code>&quot;127.0.0.1&quot;</code>) que restringe o acesso à máquina local e realizo o acesso ao daemon a partir do Nginx instalado na máquina - <a href="#secao_nginx">ver abaixo</a> -. Dessa forma, qualquer máquina pode acessar o Transmission (via Nginx) mas sempre utilizando HTTPS.</li><li><code>&quot;speed-limit-up&quot;: </code> <del><code>100</code></del> <code>numero_desejado</code><br>Define o limite de upload em Kbps.</li><li><code>&quot;speed-limit-up-enabled&quot;: </code> <del><code>false</code></del> <code>true</code><br>Define se o limite de upload está ativo.</li><li><code>&quot;umask&quot;: </code> <del><code>18</code></del> <code>2</code><br>Define as permissões de acesso com que serão criados os arquivos e diretórios dos torrents. O valor segue o padrão utilizado pelo <a href="https://pt.wikipedia.org/wiki/Umask">umask</a> mas escrito em decimal (portanto deve ser convertido para o tradicional octal do umask). O valor default é <code>18</code> (&#x3D; 022 em octal) e equivale à <code>-rw-r--r--</code> p&#x2F; arquivos e <code>drwxr-xr-x</code> p&#x2F; dirs (proibe a permissão de escrita para o grupo e outros). Eu prefiro o valor <code>2</code> (&#x3D; 002 em octal, duh!) que equivale à + permissiva <code>-rw-rw-r--</code> p&#x2F; arquivos e <code>drwxrwxr-x</code> p&#x2F; dirs (proibe apenas a permissão de escrita para outros).</li></ul><p>As opções que considero úteis para amenizar a carga sobre o roteador (útil para roteadores com pouca memória, cujo uso de torrents pode afogá-los) são as seguintes: <code>&quot;max-peers-global&quot;</code>, <code>&quot;peer-limit-global&quot;</code>, <code>&quot;peer-limit-per-torrent&quot;</code> e <code>&quot;upload-slots-per-torrent&quot;</code>. Não explicarei cada item, os valores são numéricos e basta diminuir para aliviar a pressão sobre o roteador. Os valores exatos são algo muito pessoal e devem ser experimentados.</p><p>O significado dessas 4 últimas opções bem como mais detalhes sobre todas as outras pode ser encontrado na <a href="https://trac.transmissionbt.com/wiki/EditConfigFiles">documentação oficial</a>.</p><h4 id="1-3-Definindo-permissoes-etc"><a href="#1-3-Definindo-permissoes-etc" class="headerlink" title="1.3. Definindo permissões, etc."></a>1.3. Definindo permissões, etc.</h4><p>O daemon é executado com o usuário <code>debian-transmission</code> e grupo <code>debian-transmission</code>. Sendo assim  o diretório definido p&#x2F; download (opção <code>&quot;download-dir&quot;</code>) deve ser acessível pelo usuário do daemon.</p><p>Por exemplo, altere a propriedade do diretório p&#x2F; o usuário e grupo <code>debian-transmission</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chown -R debian-transmission:debian-transmission /dir/dos_downloads_quiridus</span></span><br></pre></td></tr></table></figure><p>Se você alterou o valor de <code>umask</code> em <code>settings.json</code> de <code>18</code> p&#x2F; <code>2</code>, não apenas o usuário <code>debian-transmission</code> terá permissão de escrita como também os membros do grupo <code>debian-transmission</code>. Para aproveitarmos isso, precisaremos:</p><ul><li>dar permissões de escrita ao dir de download tb p&#x2F; o grupo:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chmod 775 /dir/dos_downloads_quiridus</span></span><br></pre></td></tr></table></figure><ul><li>inserir seu usuário cotidiano no grupo <code>debian-transmission</code>:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># usermod -a -G debian-transmission seu_username</span></span><br></pre></td></tr></table></figure><p>Pronto, temos o dir de download com as permissões corretas p&#x2F; o usuário e grupo <code>debian-transmission</code> e ainda adicionamos seu usuário cotidiano ao grupo <code>debian-transmission</code>, permitindo a ele apagar e etc. o conteúdo desse diretório.</p><h3 id="2-Testando-Utilizando"><a href="#2-Testando-Utilizando" class="headerlink" title="2. Testando&#x2F;Utilizando"></a>2. Testando&#x2F;Utilizando</h3><h4 id="2-1-Testando"><a href="#2-1-Testando" class="headerlink" title="2.1. Testando"></a>2.1. Testando</h4><p>Reinicie o daemon:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl restart transmission-daemon</span></span><br></pre></td></tr></table></figure><p>E acesse o daemon via browser em: <code>127.0.0.1:9091</code> (ou o IP da máquina se você liberou o acesso desde outras máquinas).</p><h4 id="2-2-Pos-instalacao"><a href="#2-2-Pos-instalacao" class="headerlink" title="2.2. Pós-instalação"></a>2.2. Pós-instalação</h4><ul><li><p>Via browser, vá em <em>Settings</em>, <em>Network</em> e verifique se a porta do torrent (por padrão, 51413) está aberta para à internet. Se não estiver, você deve liberar em seu roteador de casa (foge do escopo desse post, busque pela web :D). Caso não faça isso, a velocidade dos torrents ficará comprometida.</p></li><li><p>Se a interface via browser acusar erros de permissão de escrita, verifique se o usuário <code>debian-transmission</code> realmente possui as permissões de escrita e leitura adequadas para o diretório definido p&#x2F; download.</p></li></ul><h5 id="2-2-1-Problema-da-execucao-precoce-do-transmission-daemon"><a href="#2-2-1-Problema-da-execucao-precoce-do-transmission-daemon" class="headerlink" title="2.2.1. Problema da execução precoce do transmission-daemon"></a>2.2.1. Problema da execução precoce do <code>transmission-daemon</code></h5><p>Se ao ligar a máquina o <code>transmission-daemon</code> sobe antes mesmo do GNU&#x2F;Linux montar o disco rígido onde estão os dados dos torrents … o transmission não encontrará os arquivos e a atividade dos mesmos ficará paralisada até reiniciarmos o daemon.</p><p>A solução para evitar esse problema é fazer o <code>transmission-daemon</code> subir após montar os discos.</p><p>A questão é que tive problemas em fazer o daemon obedecer minha vontade na combinação Debian+SystemD. Portanto, a minha solução foi na base da grosseria: alterei o script de execução local (que roda por último) para invocar um script que reinicia o daemon do transmission após 60 segundos. Dessa forma, eliminei o problema de forma burra porém eficaz.</p><p>Vejamos minha solução ignorante (se souber forma melhor p&#x2F; Debian+SystemD avisa nos comentários):</p><p>Crie o arquivo <code>/usr/local/bin/lazy-transmission-daemon.sh</code> com o seguinte conteúdo:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">sleep</span> 60s</span><br><span class="line">systemctl restart transmission-daemon</span><br></pre></td></tr></table></figure><p>Torne-o executável:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chmod +x /usr/local/bin/lazy-transmission-daemon.sh</span></span><br></pre></td></tr></table></figure><p>Adicione em <code>/etc/rc.local</code> a linha “<code>/usr/local/bin/lazy-transmission-daemon.sh &amp;</code>“ que invoca nosso novo script no final do boot:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh -e</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rc.local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script is executed at the end of each multiuser runlevel.</span></span><br><span class="line"><span class="comment"># Make sure that the script will &quot;exit 0&quot; on success or any other</span></span><br><span class="line"><span class="comment"># value on error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In order to enable or disable this script just change the execution</span></span><br><span class="line"><span class="comment"># bits.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this script does nothing.</span></span><br><span class="line"></span><br><span class="line">/usr/local/bin/lazy-transmission-daemon.sh &amp;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure><h2 id="Protegendo-seu-transmission-daemon-com-HTTPS-Nginx"><a href="#Protegendo-seu-transmission-daemon-com-HTTPS-Nginx" class="headerlink" title="Protegendo seu transmission-daemon com HTTPS (Nginx)"></a><span id="secao_nginx">Protegendo seu <em>transmission-daemon</em> com HTTPS (Nginx)</span></h2><p>Usaremos o <a href="http://nginx.org/">Nginx</a> para criar um servidor proxy reverso que recebe conexões sobre HTTPS e redireciona para o daemon do Transmission. Isso fará com que a senha e as informações trafeguem entre o client remoto e o servidor de forma criptografada, sendo descriptografadas apenas para trafegar localmente no servidor (entre Nginx e Transmission daemon).</p><h3 id="0-Instalacao-do-Nginx"><a href="#0-Instalacao-do-Nginx" class="headerlink" title="0. Instalação do Nginx"></a>0. Instalação do Nginx</h3><p>Instale o Nginx:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># apt-get install nginx</span></span><br></pre></td></tr></table></figure><h3 id="1-Configuracao-do-Nginx"><a href="#1-Configuracao-do-Nginx" class="headerlink" title="1. Configuração do Nginx"></a>1. Configuração do Nginx</h3><p>Diferente do daemon do Transmission, os arquivos de configuração não são sobrescritos quando o Nginx acaba de executar. Sendo assim, podemos editar o arquivo e simplesmente reiniciar o serviço do Nginx (que já estará em execução automaticamente após a instalação).</p><p>Crie o arquivo <code>/etc/nginx/sites-enabled/transmission</code> com o seguinte conteúdo:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  server_name transmission;</span><br><span class="line">  listen 8080 default_server ssl;</span><br><span class="line">  ssl_certificate /etc/nginx/trans.crt;</span><br><span class="line">  ssl_certificate_key /etc/nginx/trans.key;</span><br><span class="line"></span><br><span class="line">  access_log /var/log/nginx/transmission.access.log;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http://localhost:9091;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>O arquivo é bem auto-explicativo. Criaremos um servidor proxy reverso que escutará requisições na porta 8080 usando criptografia e reencaminhará essa requisições para o servidor em <code>http://localhost:9091</code> (o daemon do Transmission).</p><p>A explicação detalhada da configuração do Nginx foge ao escopo do post mas na seção de links há documentação sobre o mesmo.</p><p>Por fim, gere o certificado utilizado pelo Nginx:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># openssl req -x509 -nodes -new -keyout /etc/nginx/trans.key -out /etc/nginx/trans.crt</span></span><br></pre></td></tr></table></figure><p>E reinicie o serviço:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl restart nginx</span></span><br></pre></td></tr></table></figure><h3 id="2-Testando-Utilizando-1"><a href="#2-Testando-Utilizando-1" class="headerlink" title="2. Testando&#x2F;Utilizando"></a>2. Testando&#x2F;Utilizando</h3><p>Acesse o Transmission normalmente via <code>https://seu_ip:8080</code>. Agora a senha e os dados relativos ao gerenciamento do daemon do Transmission trafegarão de forma segura pela Internet.</p><p>Veja a tela do cliente para browsers do Transmission rodando sobre HTTPS:</p><p><img src="/images/2015-03-23-torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/transmission_com_https_via_browser.png" alt="Imagem de browser acessando daemon do Transmission usando https" title="Acessando daemon do Transmission usando https via browser"></p><h2 id="Dicas"><a href="#Dicas" class="headerlink" title="Dicas"></a>Dicas</h2><ul><li>Em seu computador pessoal utilize o software livre <code>transmission-remote-gtk</code> ao invés do browser. É mais prático que usar o browser, oferecendo uma experiência semelhante à programas de torrent tradicionais.<ul><li>Obs: O <code>transmission-remote-gtk</code> atualmente possui bugs abertos relativos à problemas em conectar em serviços usando HTTPS (como o <a href="https://code.google.com/p/transmission-remote-gtk/issues/detail?id=267">#267</a>). Por hora, estou usando ele apenas quando estou na rede local, acessando diretamente o daemon (sem HTTPS). Para acessar diretamente o daemon, devo adicionar a rede local no whitelist: <code>&quot;rpc-whitelist&quot;: &quot;127.0.0.1, 192.168.*.*&quot;</code></li></ul></li><li>Em seu Android, utilize o software livre <a href="https://f-droid.org/repository/browse/?fdfilter=transdroid&fdid=org.transdroid.full">Transdroid</a> ao invés do browser. Assim, fica fácil mandar  baixar algo do busão e chegar em casa com o download completo.</li></ul><h2 id="Arquivos"><a href="#Arquivos" class="headerlink" title="Arquivos"></a>Arquivos</h2><p>Seguem arquivos que talvez ajudem os que se percam na explicação:</p><ul><li><a href="/files/2015-03-23-torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/settings-original_json">&#x2F;etc&#x2F;transmission-daemon&#x2F;settings.json original</a>: arquivo do Debian Jessie (renomeie p&#x2F; <code>settings.json</code>).</li><li><a href="/files/2015-03-23-torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/settings-configurado_json">&#x2F;etc&#x2F;transmission-daemon&#x2F;settings.json configurado</a>: configuração a partir das recomendações que fiz acima (renomeie p&#x2F; <code>settings.json</code>). Não esqueça de alterar o usuário e senha p&#x2F; acesso (<code>&quot;rpc-username&quot;</code> e <code>&quot;rpc-password&quot;</code>) assim como path p&#x2F; download (<code>&quot;download-dir&quot;</code>).</li><li><a href="/files/2015-03-23-torrent-profissa-gerenciamento-remoto-e-servidor-de-compartilhamento-24hs/transmission">&#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;transmission configurado</a>: arquivo configurado p&#x2F; redirecionar requisições sobre HTTPS na porta 8080 p&#x2F; servidor em <code>http://localhost:9091</code> (o daemon do Transmission).</li></ul><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><h3 id="Transmission"><a href="#Transmission" class="headerlink" title="Transmission"></a>Transmission</h3><ul><li><a href="http://www.transmissionbt.com/">Transmission</a>: Site oficial</li><li><a href="https://trac.transmissionbt.com/">trac.transmissionbt</a>: Wiki oficial.<ul><li><a href="https://trac.transmissionbt.com/wiki/ConfigFiles">Configuration Files - trac.transmissionbt</a>: Informações gerais sobre os arquivos de configurações (local, nomes, função, etc.).</li><li><a href="https://trac.transmissionbt.com/wiki/EditConfigFiles">Editing Configuration Files</a>: Informação sobre as opções e como modificar os arquivos de configuração.</li></ul></li><li><a href="https://forum.transmissionbt.com/">Fórum Transmission</a>: Fórum oficial.</li><li><a href="https://blog.flo.cx/2014/03/adding-ssl-to-transmissions-web-interface/">Adding SSL to transmission’s web interface… | blog.flo.cx</a>: Receita de bolo da mistura Transmission daemon + Nginx.</li></ul><h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><ul><li><a href="http://nginx.org/">Nginx</a>: Site oficial<ul><li><a href="http://nginx.org/en/docs/">nginx documentation</a>: Documentação oficial.</li><li><a href="http://nginx.org/en/docs/beginners_guide.html">Beginner’s Guide - Nginx</a>: Informação essencial para iniciantes.</li><li><a href="http://nginx.org/en/docs/http/configuring_https_servers.html">Configuring HTTPS servers</a>: Como configurar servidores HTTPS c&#x2F; certificado, etc.</li></ul></li><li><a href="http://wiki.nginx.org/Main">Nginx Community</a>: Wiki comunitária do Nginx.<ul><li><a href="http://wiki.nginx.org/Configuration">Configuration - Nginx Community</a>: Links sobre configuração.</li></ul></li><li>[nginx - ArchWiki](nginx - ArchWiki): Documentação do Arch Linux sobre Nginx. Bem completa.</li><li><a href="https://www.digitalocean.com/community/tutorials/how-to-configure-the-nginx-web-server-on-a-virtual-private-server">How To Configure The Nginx Web Server On a Virtual Private Server | DigitalOcean</a>: Ótima introdução ao Nginx - explicando sintaxe, etc.</li></ul><h3 id="Bonus"><a href="#Bonus" class="headerlink" title="Bônus"></a>Bônus</h3><ul><li><a href="https://www.youtube.com/watch?v=R1QnXJYT9ao">Copy is not theft - Nina Paley</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> cultura livre </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debian </tag>
            
            <tag> compartilhamento </tag>
            
            <tag> torrent </tag>
            
            <tag> raspberry </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Proteja seus dados: backups fáceis e seguros no desktop GNU/Linux</title>
      <link href="/2015/03/14/proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/"/>
      <url>/2015/03/14/proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/</url>
      
        <content type="html"><![CDATA[<p>Os dados são de longe a coisa mais importante em nossos velhos notebooks, verdade?<br>Então pq diabos a maioria de nós nunca realiza backups e conta com a sorte do HD nunca falhar ou de nunca haver uma remoção acidental de arquivos?</p><p>Parte das pessoas diz que é trabalhoso fazer backup ou que não sabe usar ferramentas para automatizar o processo …</p><p><strong>Seus problemas acabaram!</strong> Veremos abaixo como realizar backups de forma automatizada, segura, encriptada, “zipada”, incremental, o escambau … e ainda por cima … muito, mas muito facilmente!</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/deja-dup.png" alt="Ícone do Déjà Dup" title="Ícone do Déjà Dup"></p><span id="more"></span><p>O Déjà Dup é o software (livre) da vez, ele é dedicado à backups para usuários finais. Assim, ele visa garantir backups seguros e eficientes mas escondendo toda complexidade do usuário final.</p><p>Veja alguns dos recursos + legais que ele oferece:</p><ul><li><strong>Agendamento</strong>: Por meio dele podemos agendar para que os backups sejam feitos automaticamente de tempos em tempos (sem desculpas p&#x2F; esquecimento :D) ou manualmente.</li><li><strong>Múltiplos backends</strong>: O backup não precisa ser em outro HD, pode ser na nuvem, num servidor FTP próprio, etc. Muito flexível :D.</li><li><strong>Encriptação</strong>: O backup é guardado de forma encriptada, ou seja, se alguém conseguir acessar seu backup … sem senha nada feito!</li><li><strong>Compressão</strong>: O backup também é comprimido, ou seja, tudo é compactado de forma a ocupar menos espaço que os arquivos originais.</li><li><strong>Incremental</strong>: O backup é incremental, <strong>MAS</strong> que diabos é incremental?<br>Bom, de tempos em tempos são feitos <strong>backups integrais</strong> (o backup é feito do zero, de todos os dados) e os backups seguintes são apenas das modificações que ocorreram nesse meio tempo (arquivos modificados, criados e deletados) - <em>aka</em> <strong>backups incrementais</strong>. Dessa forma, ocupando um mínimo de espaço, podemos ter o estado dos dados em diversos momentos ao longo do tempo!<br><strong>Tá … mas qual a vantagem disso?</strong><br>A vantagem é que não apenas escolhemos que queremos recuperar os dados … mas podemos escolher o estado em que estes dados estavam num certo momento.<br>Exemplo: Você percebeu que apagou um dado importante só após 3 semanas, e os backups são feitos de forma semanal. Sem problemas! É só pegar o backup da semana em que o arquivo ainda existia ou não havia sido modificado de forma indesejada.</li></ul><p>Tá, me convenceu, como faço agora? Vamos à instalação e configuração!</p><h2 id="0-Instalacao"><a href="#0-Instalacao" class="headerlink" title="0. Instalação"></a>0. Instalação</h2><p>No Debian Jessie, basta instalar o pacote <code>deja-dup</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># apt-get install deja-dup</span></span><br></pre></td></tr></table></figure><p>Como o programa é popular, não será difícil encontrá-lo empacotado em outras distribuições GNU&#x2F;Linux.</p><h2 id="1-Configuracao"><a href="#1-Configuracao" class="headerlink" title="1. Configuração"></a>1. Configuração</h2><p>Abra o programa <code>deja-dup</code>. Vejamos o que podemos fazer, tela por tela:</p><ul><li><p><em>Visão geral</em>: O programa abrirá na tela “Visão geral”. Aqui podemos restaurar backups ou manualmente iniciar a realização de um backup (após configurar o mesmo).</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/1-visao_geral.png" alt="Imagem da tela &quot;Visão geral&quot;" title="Visão geral"></p><p>Após o primeiro backup, passa a ser informado também a data do último backup e quantos dias faltam para o próximo backup automático (se estiver habilitado).</p></li><li><p><em>Pastas para salvar</em>: Aqui devemos escolher as pastas que devem ser salvas. O padrão é o diretório do usuário inteiro … o que eu acho um pouco de exagero. No meu caso, faço backup apenas dos dados importantes e não dos terabytes de filmes e músicas.</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/2-pastas_para_salvar.png" alt="Imagem da tela &quot;Pastas para salvar&quot;" title="Pastas para salvar"></p></li><li><p><em>Pastas a serem ignoradas</em>: Nessa tela podemos excluir do backup alguma subpasta dentro das pastas marcadas para backup. Esse recurso é muito útil para excluir alguma pasta que ocupa muito espaço com arquivos não importantes. No meu caso, sempre faço backups de minhas coisas linux mas marco para ficar de fora imagens de instalação, etc,</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/3-pastas_a_serem_ignoradas.png" alt="Imagem de tela &quot;Pastas a serem ignoradas&quot;" title="Pastas a serem ignoradas"></p></li><li><p><em>Local de armazenamento</em>: Aqui escolhemos … onde armazenar o backup (duh). Há diversas opções (que vão desde uma pasta local à opções remotas como a nuvem). <strong>Escolha um local com espaço suficiente e que não seja o mesmo HD</strong> (pq se ele falhar, você perde os dados e o backup dos dados). Larga de ser mão de vaca e compre um HD novo se precisar (300 reais são menos importantes que as fotos e arquivos de uma vida inteira).<br>No meu caso, realizo o backup dos meus dados do notebook para um HD externo montado na pasta <code>/mnt/backup/</code> (mais precisamente na pasta <code>/mnt/backup/data</code>).</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/4-local_de_armazenamento.png" alt="Imagem da tela &quot;Local de armazenamento&quot;" title="Local de armazenamento"></p></li><li><p><em>Agendado</em>: Nessa tela, escolhemos a frequência de realização dos backups e o tempo mínimo que eles serão mantidos. A tradução para o português não está um brinco … mas as opções são:</p><ul><li><em>Todos</em>: Aqui podemos escolher se o backup será feito semanalmente (opção “Semana”) ou diariamente (opção “Dia”).</li><li><em>Manter</em>: Aqui escolhemos se os backups serão mantidos “Pelo menos seis meses”, “Pelo menos um ano” ou “Para sempre”. Se faltar espaço, os backups + antigos são deletados + cedo.</li></ul><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/5-agendado.png" alt="Imagem da tela &quot;Agendado&quot;" title="Agendado"></p><p><strong>Repare</strong> que só é possível escolher alguma opção de <em>Todos</em> se o backup automático (agendado) está ativado. Ele é ativado&#x2F;desativado clicando no On&#x2F;Off no canto superior da janela (perto do <code>X</code> p&#x2F; fechar a janela)</p></li></ul><p><strong>Pronto</strong>! Se você ativou o backup agendado … é só esperar que uma vez por semana (ou dia) o backup será realizado. <strong>Se no dia do backup o computador estiver desligado, sem problema</strong> … na próxima vez que você ligar o computador e se logar, o Déjà Dup inicia o backup (e avisa você através de uma janela).</p><p>Você, inclusive não precisa esperar … na tela “Visão geral” podemos iniciar o backup manualmente (ou apenas ver quantos dias faltam para o próximo backup) e recuperar o backup de algum momento (ou apenas ver quando foi o último backup).</p><p>No meu caso, eu faço backup para um HD externo que nem sempre está ligado ao notebook. Por isso, deixo o backup automático desativado (opção “Off” no canto superior da janela) e realizo manualmente na tela “Visão geral” com um frequência +- mensal (e fácil de acompanhar pq ele avisa a data do último backup).</p><h2 id="2-O-primeiro-backup-a-gente-nunca-esquece"><a href="#2-O-primeiro-backup-a-gente-nunca-esquece" class="headerlink" title="2. O primeiro backup (a gente nunca esquece)"></a>2. O primeiro backup (a gente nunca esquece)</h2><p>Na criação do primeiro backup (seja ao ativar o backup agendado ou fazendo backups manuais) será perguntado se dejamos criptografar o backup para que o mesmo seja acessível apenas com senha. Eu recomendo que os dados sejam protegidos de bisbilhoteiros :D</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/6-1ro_backup_senha.png" alt="Imagem de diálogo &quot;Exigir senha?&quot;" title="Escolha se recuperação de backups exigem senha"></p><p>Na sequência, será iniciado a confecção do backup:</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/7-1ro_backup_criando.png" alt="Imagem de tela &quot;Fazendo cópia de segurança...&quot;" title="Fazendo backup"></p><p>Pronto, backup feito:</p><p><img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/8-1ro_backup_feito.png" alt="Imagem de tela após backup feito" title="Backup feito"></p><ul><li><strong>Obs</strong>: O primeiro backup demora bastante, os futuros são, em sua maioria, incrementais (somente o que mudou desde o último backup) e portanto … bem rápidos.</li></ul><h2 id="3-Recuperando-backups"><a href="#3-Recuperando-backups" class="headerlink" title="3. Recuperando backups"></a>3. Recuperando backups</h2><p> 3.1. Para recuperar backups, na tela “Visão geral” clique em “Restaurar…” e escolha de onde o backup será recuperado (o mesmo local onde escolhemos guardar os backups na tela “Local de armazenamento”):</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/9-restaurar_backup_de_onde.png" alt="Imagem de diálogo &quot;Restaurar de onde?&quot;" title="Aponte o local onde estão os backups"></p><p> No meu caso, eu escolhi guardar os backups na pasta <code>/mnt/backup/data</code> e é esse local que devo informar.</p><p> 3.2. Escolha entre os backups existentes pela data (dia):</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/10-restaurar_backup_de_quando.png" alt="Imagem de diálogo &quot;Restaurar de quando?&quot;" title="Restaurar de quando?"></p><p> 3.3. Finalmente escolha se deseja recuperar os arquivos do backup para seus lugares originais ou para outra pasta qualquer.</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/11-restaurar_backup_para_onde.png" alt="Imagem de diálogo &quot;Restaurar para onde?&quot;" title="Restaurar para onde?"></p><p> 3.4. Serão exibidas as opções escolhidas previamente, confirme se deseja realmente recuperar o backup.</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/12-restaurar_confirmar.png" alt="Imagem de tela de &quot;Resumo&quot;" title="Confirmando a recuperação do backup"></p><p> 3.5. Se você optou por proteger com senha, será necessário informar a senha:</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/13-restaurar_senha.png" alt="Imagem de tela &quot;Senha de encriptação necessária&quot;" title="Informe senha p&#x2F; descriptografar"></p><p> Pronto! Os arquivos do backup estão acessíveis novamente :D</p><p>  <img src="/images/2015-03-14-proteja-seus-dados-backups-faceis-e-seguros-no-desktop-linux/14-restaurar_concluida.png" alt="Imagem de tela &quot;A restauração foi concluída&quot;" title="Restauração de backup concluída"></p><ul><li><strong>Obs1</strong>: Fique tranquilo que ao recuperar um backup, o mesmo não é deletado. Você pode recuperar o mesmo backup indefinidas vezes.</li><li><strong>Obs2</strong>: Fique ligado que se já houver arquivos na pasta escolhida para receber o backup recuperado, os arquivos que possuírem os mesmos nomes que arquivos existentes no backup serão sobrescritos. Os arquivos que não colidirem os nomes com arquivos existentes no backup sobreviverão intocados.</li></ul><p> Bom, é isso. Até a próxima.</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://wiki.gnome.org/Apps/DejaDup">Apps&#x2F;DejaDup - GNOME Wiki!</a>: Página oficial do Déjà Dup.<ul><li><a href="https://wiki.gnome.org/Apps/DejaDup/HowItWorks">Apps&#x2F;DejaDup&#x2F;HowItWorks - GNOME Wiki!</a>: Material curto e excelente, explicando como funciona o Déjà Dup. Incluindo:<ul><li>como e quando ele realiza backups</li><li>o formato dos arquivos do backup (e como funciona a criptografia aplicada nesses dados)</li><li>o modo como trabalha com backups integrais e incrementais</li><li>por quanto tempo os backups são mantidos após o período definido pelo usuário, etc.</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debian </tag>
            
            <tag> backup </tag>
            
            <tag> segurança </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Instalando driver proprietário Nvidia com suporte à tecnologia Optimus num notebook com Debian Jessie</title>
      <link href="/2015/03/08/instalando-driver-proprietario-nvidia-com-suporte-a-tecnologia-optimus-num-notebook-com-debian-jessie/"/>
      <url>/2015/03/08/instalando-driver-proprietario-nvidia-com-suporte-a-tecnologia-optimus-num-notebook-com-debian-jessie/</url>
      
        <content type="html"><![CDATA[<p>Esse post é do <em>dark side</em>. É sobre como instalar o driver proprietário da Nvidia no Debian Jessie, dado que o estado do driver livre infelizmente é bem insatisfatório. A própria Nvidia sempre boicotou o desenvolvimento do driver livre (<a href="http://nouveau.freedesktop.org/wiki/">nouveau</a>) e só recentemente começou a prestar alguma ajuda.</p><p><img src="/images/2015-03-08-instalando-driver-proprietario-nvidia-com-suporte-a-tecnologia-optimus-num-notebook-com-debian-jessie/darth-vader.png" alt="Imagem de Darth Vader" title="O lado Nvidia da força"></p><span id="more"></span><p>A tecnologia <a href="http://www.nvidia.com/object/optimus_technology.html">NVIDIA Optimus</a> permite aos notebooks utilizarem a placa de vídeo onboard no cotidiano e, apenas quando necessário, fazer uso da placa de vídeo dedicada (Nvidia). Isso é essencial para que a bateria tenha longa duração, dado que a placa de vídeo dedicada é ativada apenas quando necessário (e ela consome bastante energia :&#x2F;).</p><p>O projeto que se dedica a suportar essa tecnologia no GNU&#x2F;Linux é o <a href="http://bumblebee-project.org/">Bumblebee</a>. Podemos usar ele com o driver livre (nouveau) e o driver proprietário. Como o driver proprietário da Nvidia é bem maduro no GNU&#x2F;Linux, conseguimos por meio dele usar todo o potencial da placa de vídeo e por meio do Bumblebee economizar o máximo de energia possível.</p><p>A instalação no Debian antes do Jessie exigia alguma atenção, mas no Jessie os pacotes já estão nos repositórios e o processo é bem direto.</p><p>Vamos pôr a mão na massa:</p><h3 id="0-Adicione-suporte-aos-repositorios-com-softwares-proprietarios"><a href="#0-Adicione-suporte-aos-repositorios-com-softwares-proprietarios" class="headerlink" title="0. Adicione suporte aos repositórios com softwares proprietários"></a>0. Adicione suporte aos repositórios com softwares proprietários</h3><p>Antes de mais nada, os repositórios com softwares proprietários (<code>non-free</code>) e dependentes de proprietários (<code>contrib</code>) devem estar habilitados.</p><p>Para tanto, adicione no final das linhas de repositórios para o Jessie as palavras <code>non-free</code> e <code>contrib</code> em <code>/etc/apt/sources.list</code>. Exemplo:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://debian.pop-sc.rnp.br/debian/ jessie main contrib non-free</span><br><span class="line">deb-src http://debian.pop-sc.rnp.br/debian/ jessie main contrib non-free</span><br></pre></td></tr></table></figure><p>Depois atualize os dados referentes aos repositórios executando:<br><code># apt-get update</code></p><h3 id="1-Instalacao"><a href="#1-Instalacao" class="headerlink" title="1. Instalação"></a>1. Instalação</h3><ul><li><p>Instale os pacotes necessários p&#x2F; o Bumblebee e o driver proprietário Nvidia:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install bumblebee-nvidia primus</span><br></pre></td></tr></table></figure></li><li><p><strong>Apenas para Debian 64 bits</strong>. Permite que utilizemos o Bumblebee inclusive quando rodando aplicações 32 bits em sistemas 64 bits (essencial para diversos jogos no <a href="steampowered.com">Steam</a>):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --add-architecture i386 &amp;&amp; apt-get update &amp;&amp; apt-get install primus-libs:i386</span><br></pre></td></tr></table></figure><p>Atenção: Se durante a instalação, lhe for perguntado se deseja criar um arquivo <code>xorg.conf</code> responda que <strong>não</strong>. Essa pergunta se aplica apenas a sistemas que usam uma única placa (Nvidia - aka sem Optimus). Também não execute <code>nvidia-xconfig</code>.</p></li></ul><h3 id="2-Pos-instalacao"><a href="#2-Pos-instalacao" class="headerlink" title="2. Pós-instalação"></a>2. Pós-instalação</h3><p>Adicione os usuários que forem utilizar da placa Nvidia via Bumblebee ao grupo <code>bumblebee</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser <span class="variable">$USER</span> bumblebee</span><br></pre></td></tr></table></figure><p>Caso o usuário não seja adicionado, o mesmo não conseguirá chavear entre a placa de vídeo onboard e offboard.</p><p>Pronto! Tudo instalado e pós-instalado.</p><h3 id="3-Utilizacao"><a href="#3-Utilizacao" class="headerlink" title="3. Utilização"></a>3. Utilização</h3><p>O sistema estará por padrão utilizando sempre a placa onboard. Para utilizarmos a placa dedicada Nvidia, devemos executar a aplicação desejada por meio de um dos seguintes executáveis: <code>primusrun</code> ou <code>optirun</code>.</p><p>O <code>primusrun</code> é mais novo que <code>optirun</code>, tende a substituí-lo e possui maior performance (preferencial).</p><p>Exemplo de utilização:</p><ul><li><code>primusrun [options] &lt;application&gt; [application-parameters]</code></li><li><code>optirun [options] &lt;application&gt; [application-parameters]</code></li></ul><p>Executando o Steam c&#x2F; o <code>primusrun</code>: <code>$ primusrun steam</code>.</p><p>Como visto, assim temos um controle bem grande sobre quando uma ou outra placa deve ser usada. Aqui (com as observações abaixo feitas ao Steam) tenho rodado os jogos com toda a performance possível, e no restante do tempo a bateria dura e o notebook fica silencioso :D.</p><h4 id="3-1-Utilizando-Bumblebee-c-Steam"><a href="#3-1-Utilizando-Bumblebee-c-Steam" class="headerlink" title="3.1 Utilizando Bumblebee c&#x2F; Steam"></a>3.1 Utilizando Bumblebee c&#x2F; Steam</h4><ul><li><p>Economizando energia no Steam:<br>Se executamos o Steam assim <code>$ primusrun steam</code>, gastaremos energia à toa pois estamos com a placa Nvidia ativada sempre (mesmo enquanto navegamos pelo Steam ou executamos jogos leves).<br>A forma ideal é configurar o jogo que necessitar da Nvidia defindo que o mesmo deve ser executado com o comando <code>primusrun %command%</code> (ou <code>optirun %command%</code>) em: <em>Properties</em> -&gt; <em>General</em> -&gt; <em>Set Launch Options…</em>.</p></li><li><p>Jogos que nao funcionarem no Debian Jessie c&#x2F; Optimus:<br>Pode ocorrer da versão errada do libGL estar sendo carregada. Para corrigir isso:</p><ol><li>Localize a versão correta do libGL:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate libGL.so</span><br></pre></td></tr></table></figure><ol start="2"><li>Configure o Steam p&#x2F; carregar o jogo com a versao correta (em <em>Properties</em> -&gt; <em>General</em> -&gt; <em>Set Launch Options…</em>.). Exemplo:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libGL.so.1 primusrun %<span class="built_in">command</span>%</span><br></pre></td></tr></table></figure></li></ul><p>Fonte: <a href="https://wiki.archlinux.org/index.php/steam">Steam - ArchWiki</a></p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul><li><a href="https://wiki.debian.org/Bumblebee#Usage">Bumblebee - Debian Wiki</a>: Documentação da Wiki Debian sobre a instalação do Bumblebee. Simples e direta.</li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debian </tag>
            
            <tag> nvidia </tag>
            
            <tag> steam </tag>
            
            <tag> dark side </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Instalando Debian Jessie usando criptografia de disco</title>
      <link href="/2015/02/28/instalando-debian-jessie-usando-criptografia-de-disco/"/>
      <url>/2015/02/28/instalando-debian-jessie-usando-criptografia-de-disco/</url>
      
        <content type="html"><![CDATA[<p>O primeiro tema do blog é a instalação do Debian Jessie usando criptografia de disco. Escrevi o post porque consegui comprar meu primeiro notebook e ao contrário dos desktops que tive antes … tenho de me preocupar com os dados em caso de <del>perca</del> perda ou roubo.</p><p>A melhor maneira de se prevenir contra <del>perca</del> perda ou roubo é criptografando os dados e para tanto optei em instalar o Debian numa partição completamente criptografada. Assim … nem a PF consegue os dados :D.</p><p>O post <strong>não</strong> é indicado para quem nunca instalou um GNU&#x2F;Linux na vida (não desista, há vários por aí :D), mas para quem nunca instalou um Debian.</p><p>A versão do Debian que optei é a Jessie (v8), ela está quase saindo do forno (é <strong>testing</strong> mas está em <em>freeze</em>, portanto só aceita correção de bugs). Existem pouquíssimos bugs nela (me deparei mais com eles na instalação do que no uso do dia-a-dia) e certamente o que está aqui valerá para a versão final que sairá em algumas semanas.</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/jessie.png" alt="Imagem de Jessie - Mascote do Debian 8" title="Jessie - Mascote do Debian 8"></p><span id="more"></span><p><strong>Bom, vamos lá:</strong></p><h2 id="0-Backup-dos-dados-existentes-disco-sera-integralmente-utilizado"><a href="#0-Backup-dos-dados-existentes-disco-sera-integralmente-utilizado" class="headerlink" title="0. Backup dos dados existentes (disco será integralmente utilizado)"></a>0. Backup dos dados existentes (disco será integralmente utilizado)</h2><p>O passo zero não será descrito e depende de cada um. O instalador do Debian automatiza o processo de formatar, particionar e configurar a criptografia em disco desde que optemos por instalá-lo usando inteiramente um disco. Portanto, faça um backup dos dados e deixe o disco pronto para a instalação.</p><p>Caso não desejes reservar um disco inteiro para o Debian, é plenamente possível instalá-lo em apenas uma parte do disco com criptografia e etc. (o sobrenome do GNU&#x2F;Linux é configurabilidade) mas não será coberto nesse post :P.</p><h2 id="1-Download-da-imagem-do-Debian"><a href="#1-Download-da-imagem-do-Debian" class="headerlink" title="1. Download da imagem do Debian:"></a>1. Download da imagem do Debian:</h2><p>Primeiro baixe uma imagem do Debian Jessie em <a href="https://www.debian.org/CD/http-ftp/">https://www.debian.org/CD/http-ftp/</a> e grave numa pendrive (ou CD&#x2F;DVD - alguém usa isso?).</p><p>No momento que escrevo o Jessie é testing, portanto é o link <a href="http://cdimage.debian.org/cdimage/weekly-builds/">Official CD&#x2F;DVD images of the “testing” distribution (regenerated weekly)</a> mas em breve será o link <a href="https://www.debian.org/CD/http-ftp/#stable">Official CD&#x2F;DVD images of the “stable” release</a>.</p><h2 id="2-Instalando-c-criptografia"><a href="#2-Instalando-c-criptografia" class="headerlink" title="2. Instalando c&#x2F; criptografia:"></a>2. Instalando c&#x2F; criptografia:</h2><p>Reinicie a máquina com a pendrive espetada e siga as seguintes opções:</p><ul><li><p>Ao iniciar a imagem de instalação, escolha <em>Graphical install</em>:</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-graphical_install.png" alt="Imagem do início da instalação do Debian Jessie" title="Início da instalação do Debian Jessie"></p></li><li><p>Selecione como linguaguem “Português Brasil” e na sequência a localidade como “Brasil”:</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-select_a_language.png" alt="Imagem da tela &quot;Select a language&quot;" title="Select a language"></p></li><li><p>Na próxima tela (“Configure o teclado”) escolha o teclado apropriado. “Português brasileiro” para teclado ABNT (com cedilha) ou “Inglês americano” para teclado sem cedilha.</p></li><li><p><strong>Caso seu computador possua hardware de rede que necessita de firmware proprietário</strong> chegaremos à parte mais chatinha (<strong>se não precisar</strong> o instalador pula essa etapa, agradeça ao seus fabricantes de hardware e <strong><a href="#configurarrede">pule uma seção</a></strong> :D).</p><p>O Debian perguntará (tela “Detectar hardware de rede”) se você deseja oferecer o firmware (ausente na instalação pq ñ é software livre). É um caso comum p&#x2F; placas de rede wireless e algumas cabeadas.</p><p>A vantagem de usar a rede na instalação é que são baixadas atualizações além de configurarmos a rede e o endereço do repositório de pacotes utilizado pelo sistema. No meu caso, tive azar … tanta a placa de rede cabeada quanto wireless precisam de firmware proprietário. <strong>Caso seja o seu caso</strong> (malditos fabricantes que <del>não colaboram com</del> boicotam o software livre):</p><ol><li>Anote os firmwares necessários informados pelo Debian (no meu caso, ele informou os arquivos <code>iwlwifi-6000g2b-6.ucode</code> - wifi- e, <code>rtl_nic/rtl8411-1.fw</code>  -cabeada-).</li><li>Faça os procedimentos informados abaixo em <a href="#firmwares">Firmwares</a> para obter os arquivos.</li><li>Ofereça os arquivos nesse ponto da instalação, inserindo uma segunda pendrive quando pedido.</li></ol><p><strong>Ou</strong> dê um belo f@#$-@# nos dois últimos passos, continue sem os firmwares e instale manualmente os pacotes com os firmwares após a instalação (tb explicado em <a href="#firmwares">Firmwares</a>).</p></li><li><p><span id="configurarrede"></span>Após o suplício causado pelas empresas que não lançam nem colaboram com drivers livres (ou caso seu computador esteja livre desses hardwares), chegamos à configuração da rede (Tela “Configurar a rede”).</p><p>A configuração é simples. No meu caso, fiz a configuração mais “complicada” (rede sem fio):</p><ul><li>Escolhi a interface: <code>wlan0</code> (<code>wlan0</code> era a placa wifi, <code>eth0</code> a placa cabeada).</li><li>Em “Escolher SSID”, informei o nome da rede sem fio.</li><li>Em “Tipo da rede sem fio …”: <code>WPA/WPA2 PSK</code> (<code>WPA/WPA2 PSK</code> é a + comum e segura; <code>Rede Aberta/WEP</code> é + antiga e insegura).</li><li>Em “Frase secreta”: Senha da rede.</li></ul><p>Depois de configurar a forma de acesso à rede é só informar o “Nome da máquina” (qualquer um) e o “Nome de domínio” (se não souber&#x2F;tiver, qualquer um).</p></li><li><p>O próximo passo é configurar usuários e senhas (tela “Configurar usuários e senhas”). Defina a senha do root bem como login e senha de um usuário normal:</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-configurar_usuarios_e_senhas.png" alt="Imagem da tela &quot;Configurar usuários e senhas&quot;" title="Configurar usuários e senhas"></p></li><li><p>Na tela “Configurar o relógio”, defina o fuso horário correto escolhendo seu estado na lista (ex: “Santa Catarina”).</p></li><li><p>Finalmente, chegamos à tela do particionador de discos:</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-particionar_discos.png" alt="Imagem da tela &quot;Particionar discos&quot;" title="Particionar discos"></p><p>É aqui que definiremos que o sistema operacional seja instalado num sistema de arquivo sob criptografia. Iremos utilizar um disco inteiro (portanto, apagaremos qualquer coisa que exista nele)</p><p>Siga os seguintes passos:</p><ol><li>Escolha “Assistido - usar disco todo e LVM criptografado”</li><li>Selecione o disco a ser formatado e particionado (escolhi o disco <code>sda</code>).</li><li>Na tela “Esquema de particionamento” escolha “Todos os arquivos em uma partição (para iniciantes)” pois como estamos usando <a href="https://en.wikipedia.org/wiki/Logical_Volume_Manager_%28Linux%29">LVM</a> é fácil redimensionar depois e criar as partições desejadas (post futuro).</li><li>Responda “Sim” à pergunta “Gravar as mudanças nos discos e configurar LVM?”.<br>  O disco será sobrescrito com dados aleatório para aumentar a segurança (dificulta diferenciar o que possui dados do que ainda está vazio).</li><li>Agora é solicitada uma “frase criptográfica” para desbloquear o disco sempre que o sistema <em>bootar</em>. Atenção, se você esquecer essa senha … adeus dados :D.</li><li>Finalmente, confirme tudo escolhendo a opção “Finalizar o particionamento e escrever as mudanças no disco” e depois respondendo “Sim” à pergunta “Escrever as mudanças nos discos?”.<br>  As partições serão criadas e o sistema básico instalado.</li></ol></li><li><p>Na tela “Configurar o gerenciador de pacotes”:</p><ol><li>Responda “Não” à pergunta “Ler outro CD ou DVD?”</li><li>Responda “Sim” à pergunta “Usar um espelho de rede?” se você tiver acesso à internet durante à instalação.<br>  2.1. Escolha o Brasil, como país do espelho e algum dos repositóris disponíveis.<br>  2.2. Opcionalmente, informe um proxy (se você não sabe o que é … não precisa de um :D).<br>  Será configurado o acesso ao repositório, baixada e instalada as atualizações existentes.</li></ol></li><li><p>Na tela “Configurando popularity-contest” podemos optar por enviar dados anônimos sobre os pacotes instalados. Essa informação é usada para decidir os pacotes que são colocados no primeiro CD da distribuição.</p></li><li><p>Na tela “Seleção de software” podemos escolher coleções de software para serem instaladas além do sistema básico. Na dúvida, a seleção padrão possui o necessário para ambientes desktop.</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-selecao_de_software.png" alt="Imagem da tela &quot;Seleção de software&quot;" title="Seleção de software"></p></li><li><p>Por fim na tela “Instalar o carregador de inicialização GRUB em um disco rígido”:</p><ol><li>Responsa “Sim” à pergunta “Instalar o carregador de inicialização GRUB no registro mestre de inicialização?”.</li><li>Escolha o disco rídigo para gravar o GRUB (responsável por viabilizar o boot do sistema operacional): No meu caso, escolhi meu primeiro disco (<code>/dev/sda</code>).</li></ol></li><li><p>Pronto, basta reiniciar o sistema:</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-instalacao_completada.png" alt="Imagem da tela &quot;Instalação completada&quot;" title="Instalação completada"></p></li><li><p>No boot será pedido a “frase criptográfica” (sem ela é impossível acessar os dados da partição):</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-pedindo_frase_criptografica.png" alt="Imagem de tela do Debian pedindo frase criptográfica no boot" title="Debian pedindo frase criptográfica no boot"></p></li><li><p>Após o boot, eis o GNOME do Debian Jessie em toda sua glória (e com a merecida segurança oferecida pela criptografia):</p><p><img src="/images/2015-02-28-instalando-debian-jessie-usando-criptografia-de-disco/debian8amd64-desktop.png" alt="Imagem de tela do GNOME no Debian Jessie" title="GNOME no Debian Jessie"></p></li></ul><h2 id="Extras"><a href="#Extras" class="headerlink" title="Extras"></a>Extras</h2><h3 id="Firmwares"><a href="#Firmwares" class="headerlink" title="Firmwares"></a><span id="firmwares">Firmwares</span></h3><ul><li><p>Para conseguir exatamente os firmwares faltando:</p><ol><li>Pesquise pelos arquivos de firmware mencionados pelo instalador no site <a href="https://www.debian.org/distrib/packages">Debian – Packages</a>, por meio do instrumento de busca “Search the contents of packages”. Será indicado o pacote .deb contendo o firmware.</li><li>Realize o download do pacote.</li><li>Copie o pacote para o diretório raiz de um pendrive formatado em FAT.</li><li>Insira a pendrive quando solicitada durante a instalação.</li></ol><p>No caso dos arquivos <code>rtlwifi/rtl8723befw.bin</code> e <code>rtl_nic/rtl8411-1.fw</code>, ambos estavam no pacote <code>firmware-realtek</code>.<br>No caso do arquivo <code>iwlwifi-6000g2b-6.ucode</code>, está no pacote <code>firmware-iwlwifi</code>.</p></li><li><p>Para baixar num único arquivo os pacotes .debs contendo os firmwares mais populares, basta fazer o download do arquivo compactado correspondente ao release da distribuição em <a href="http://cdimage.debian.org/cdimage/unofficial/non-free/firmware/">http://cdimage.debian.org/cdimage/unofficial/non-free/firmware/</a>. Aí é só extrair seu conteúdo para uma pendrive e seguir os passos acima.</p></li><li><p>Opcionalmente, os pacotes contendo os firmwares podem ser instalados manualmente após a instalação. (No meu caso, os pacotes <code>firmware-realtek_0.43_all.deb</code> e <code>firmware-iwlwifi</code>)</p></li><li><p>Mais info: <a href="https://www.debian.org/releases/stable/amd64/ch06s04.html.en">6.4. Loading Missing Firmware</a></p></li></ul><h3 id="Bugs-etc"><a href="#Bugs-etc" class="headerlink" title="Bugs, etc."></a>Bugs, etc.</h3><p>Os bugs que encontrei durante a instalação seguem abaixo. Lembre-se que o Jessie está na reta final e esses bugs provavelmente estarão corrigidos à tempo do lançamento. Ainda assim, vale lembrar que não topei com bugs após a instalação.</p><ul><li>Não funcionou o touchpad durante a instalação (após a instalação, sim).</li><li>Após configurar os discos com a opção “Assistido - usar o disco todo e LVM criptografado”, não posso voltar para configurar mais nada relacionado à discos pois dessa forma o instalador fará configurações erradas que após a instalação inviabilizarão o boot sem intervenção manual. Parece semelhante ao problema relatado em <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=739299">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=739299</a>.</li><li>Não consegui instalar os firmwares a partir de mídia removível durante a instalação, acabei instalando os pacotes .deb contendo os firmwares manualmente após a instalação.</li></ul>]]></content>
      
      
      <categories>
          
          <category> gnu/linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debian </tag>
            
            <tag> criptografia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2015/02/28/hello-world/"/>
      <url>/2015/02/28/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Quem é vivo sempre aparece, o <a href="https://lowdread.wordpress.com/">primeiro blog que criei</a> (julho de 2010) entrou em hibernação profunda em julho de 2012. Na época eu estava me formando em História, entrando no curso de Gestão de T.I e especulava que ele poderia voltar no futuro mas sem promessas.</p><p><img src="/images/2015-02-28-hello-world/paradox-clock.jpg" alt="Imagem de relógio &quot;recursivo&quot;" title="Direto de 2012 para 2015"></p><p>Pois bem, voltamos com a segunda edição do blog justamente após o final do curso de Gestão de T.I. Quem sabe agora tenha mais tempo (só trabalho, ao invés de trabalho + estudo).</p><span id="more"></span><p>Recuperando a explicação da criação do 1ro blog:</p><blockquote><p>Bom, a ideia do blog é, antes de mais nada, conhecer um pouco essas ferramentas para criaçào de blog.<br>E <del>, talvez,</del> publicar algo que <del>ajudou meus colegas em suas primeiras explorações no mundo GNU&#x2F;Linux</del> ajude a mim mesmo (hue) nas minhas explorações do mundo do software livre (principalmente GNU&#x2F;Linux e desenvolvimento de software).<br>Podem entrar também coisas que considere interessante sobre software livre e todo tipo de informação relacionada a cultura livre, assim como, mais raramente, alguma coisa relacionada a política&#x2F;história&#x2F;sociedade&#x2F;cerveja&#x2F;futebol.</p><p>— Eu mesmo, <a href="https://lowdread.wordpress.com/2010/07/26/sobre-a-utilidade-disso/">Sobre a utilidade disso</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> offtopic </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
